/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var l,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};function ba(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ca=ba(this);
function da(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}da("Array.prototype.flat",function(a){return a?a:function(b){b=void 0===b?1:b;for(var c=[],d=0;d<this.length;d++){var e=this[d];Array.isArray(e)&&0<b?(e=Array.prototype.flat.call(e,b-1),c.push.apply(c,e)):c.push(e)}return c}});
da("String.prototype.trimLeft",function(a){function b(){return this.replace(/^[\s\xa0]+/,"")}return a||b});da("String.prototype.trimStart",function(a){return a||String.prototype.trimLeft});
da("String.prototype.replaceAll",function(a){return a?a:function(b,c){if(b instanceof RegExp&&!b.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return b instanceof RegExp?this.replace(b,c):this.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c)}});var p=this||self;
function ea(a){var b=typeof a;b="object"!=b?b:a?Array.isArray(a)?"array":b:"null";return"array"==b||"object"==b&&"number"==typeof a.length}function fa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function ja(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja=ha:ja=ia;return ja.apply(null,arguments)}
function q(a,b){function c(){}c.prototype=b.prototype;a.ec=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}}function ka(a){return a};function t(a,b,c,d){var e=arguments.length,f=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,g;if("object"===typeof Reflect&&Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;0<=h;h--)if(g=a[h])f=(3>e?g(f):3<e?g(b,c,f):g(b,c))||f;return 3<e&&f&&Object.defineProperty(b,c,f),f}function v(a){if("object"===typeof Reflect&&Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata("design:type",a)};function la(a){return new CustomEvent("tool-properties-changed",{detail:a,bubbles:!0,composed:!0})};function ma(a,b){a.g=b}var na=class{constructor(){window.addEventListener("paste",a=>{if(this.g&&a&&a instanceof ClipboardEvent){var b=a.clipboardData;if(b)for(const c of b.files)if(c.type.startsWith("image/")){a.preventDefault();this.g(c);break}}})}};var oa;const pa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},qa=Array.prototype.forEach?function(a,b){Array.prototype.forEach.call(a,b,void 0)}:function(a,b){const c=a.length,d="string"===typeof a?a.split(""):a;for(let e=0;e<c;e++)e in d&&b.call(void 0,d[e],e,a)};
function ra(a,b){b=pa(a,b);let c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function sa(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]}function ta(a,b){for(let c=1;c<arguments.length;c++){const d=arguments[c];if(ea(d)){const e=a.length||0,f=d.length||0;a.length=e+f;for(let g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}}function ua(a,b,c,d){Array.prototype.splice.apply(a,va(arguments,1))}
function va(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};function wa(a,b,c){for(const d in a)b.call(c,a[d],d,a)}function xa(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function ya(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function za(a,b,c){if(null!==a&&b in a)throw Error(`The object already contains the key "${b}"`);a[b]=c}function Aa(a,b){return null!==a&&b in a?a[b]:void 0}const Ba="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ca(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<Ba.length;f++)c=Ba[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Da;function Ea(){if(void 0===Da){var a=null,b=p.trustedTypes;if(b&&b.createPolicy){try{a=b.createPolicy("goog#html",{createHTML:ka,createScript:ka,createScriptURL:ka})}catch(c){p.console&&p.console.error(c.message)}Da=a}else Da=a}return Da};function Fa(a,b){this.g=a===Ga&&b||"";this.h=Ha}Fa.prototype.vb=!0;Fa.prototype.za=function(){return this.g};function Ia(a){return a instanceof Fa&&a.constructor===Fa&&a.h===Ha?a.g:"type_error:Const"}var Ha={},Ga={};const Ja={};class Ka{constructor(a,b){this.g=b===Ja?a:"";this.vb=!0}za(){return this.g.toString()}}Ka.prototype.toString=function(){return this.g.toString()};var Ma=class{constructor(a,b){this.g=b===La?a:""}};l=Ma.prototype;l.vb=!0;l.za=function(){return this.g.toString()};l.ng=!0;l.fg=function(){return 1};l.toString=function(){return this.g+""};function Na(a){return a instanceof Ma&&a.constructor===Ma?a.g:"type_error:TrustedResourceUrl"}var La={};var Oa=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Pa=/&/g,Qa=/</g,Ra=/>/g,Sa=/"/g,Ta=/'/g,Ua=/\x00/g,Va=/[\x00&<>"']/;function Wa(a,b){return a<b?-1:a>b?1:0};var Ya=class{constructor(a,b){this.g=b===Xa?a:""}};l=Ya.prototype;l.vb=!0;l.za=function(){return this.g.toString()};l.ng=!0;l.fg=function(){return 1};l.toString=function(){return this.g.toString()};function Za(a){return a instanceof Ya&&a.constructor===Ya?a.g:"type_error:SafeUrl"}
var $a=RegExp('^(?:audio/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font/\\w+|image/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|video/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\w+=(?:\\w+|"[\\w;,= ]+"))*$',"i"),bb=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,cb=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Xa={},db=new Ya("about:invalid#zClosurez",Xa);const eb={};class fb{constructor(a,b){this.g=b===eb?a:"";this.vb=!0}za(){return this.g}toString(){return this.g.toString()}};function gb(){var a=p.navigator;return a&&(a=a.userAgent)?a:""}function x(a){return-1!=gb().indexOf(a)};function hb(){return x("Safari")&&!(ib()||x("Coast")||x("Opera")||x("Edge")||x("Edg/")||x("OPR")||x("Firefox")||x("FxiOS")||x("Silk")||x("Android"))}function ib(){return(x("Chrome")||x("CriOS"))&&!x("Edge")||x("Silk")};const jb={};function kb(a){return a instanceof lb&&a.constructor===lb?a.g:"type_error:SafeHtml"}
function mb(a){if(a instanceof lb)return a;const b="object"==typeof a;let c=null;b&&a.ng&&(c=a.fg());a=b&&a.vb?a.za():String(a);Va.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(Pa,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(Qa,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(Ra,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(Sa,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(Ta,"&#39;")),-1!=a.indexOf("\x00")&&(a=a.replace(Ua,"&#0;")));return nb(a,c)}
function nb(a,b){const c=Ea();a=c?c.createHTML(a):a;return new lb(a,b,jb)}class lb{constructor(a,b,c){this.g=c===jb?a:"";this.h=b;this.vb=this.ng=!0}fg(){return this.h}za(){return this.g.toString()}toString(){return this.g.toString()}}var ob=new lb(p.trustedTypes&&p.trustedTypes.emptyHTML||"",0,jb);/*

 SPDX-License-Identifier: Apache-2.0
*/
var pb=class{};class rb extends pb{constructor(a){super();this.g=a}toString(){return this.g}};function sb(a){if(a instanceof pb)if(a instanceof rb)a=a.g;else throw Error("");else a=Za(a);return a};function tb(a,b=`unexpected value ${a}!`){throw Error(b);};function ub(a,b){a.src=Na(b);var c;let d;(c=(b=null==(d=(c=(a.ownerDocument&&a.ownerDocument.defaultView||window).document).querySelector)?void 0:d.call(c,"script[nonce]"))?b.nonce||b.getAttribute("nonce")||"":"")&&a.setAttribute("nonce",c)};const vb=new Map;async function wb(){var a,b=Ia(new Fa(Ga,"lib/ink_engine/ink.js"));b=(a=Ea())?a.createScriptURL(b):b;a=new Ma(b,La);b=Na(a).toString();const c=vb.get(b);if(c)return c;a=xb(a);vb.set(b,a);return a}async function xb(a){const b=document.createElement("script");ub(b,a);a=new Promise((d,e)=>{b.onerror=e;b.onload=()=>{d()}});const c=window.WebComponents;c&&c.waitFor&&c.waitFor(a);document.head.appendChild(b);try{await a}finally{document.head.removeChild(b)}};var yb=function(a){let b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);b=a.firstChild.firstChild;a.innerHTML=kb(ob);return!b.parentElement});
function zb(a,b){if(b instanceof Ya)var c=b;else a:if(c=b,b=/^data:image\//i.test(b),!(c instanceof Ya)){c="object"==typeof c&&c.vb?c.za():String(c);if(b&&/^data:/i.test(c)&&(b=String(c),b=b.replace(/(%0A|%0D)/g,""),b=(b.match(bb)?new Ya(b,Xa):null)||db,b.za()==c)){c=b;break a}cb.test(c)||(c="about:invalid#zClosurez");c=new Ya(c,Xa)}a.src=Za(c)}
function Ab(a){if(!/^image\/.*/g.test(a.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var b=p.URL.createObjectURL(a);a=new p.Image;a.onload=function(){p.URL.revokeObjectURL(b)};zb(a,new Ya(b,Xa));return a};function Bb(a){return String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()})};function Cb(a,b){this.sg=a;this.h={};for(a=0;a<b.length;a++){var c=b[a];this.h[c.g]=c}}function Db(a){a=ya(a.h);a.sort(function(b,c){return b.g-c.g});return a};function Eb(a,b,c){this.da=a;this.g=b;this.aa=!!c.bb;this.m=!!c.na;this.h=c.j;this.v=c.type;this.ba=!1;switch(this.h){case 3:case 4:case 6:case 16:case 18:case 2:case 1:this.ba=!0}this.o=c.defaultValue}function Fb(a){return 11==a.h||10==a.h};function B(){this.m={};this.h=this.l().h;this.g=null}l=B.prototype;l.has=function(a){return D(this,a.g)};l.get=function(a,b){return E(this,a.g,b)};l.set=function(a,b){F(this,a.g,b)};l.add=function(a,b){Gb(this,a.g,b)};l.clear=function(a){Hb(this,a.g)};
l.wa=function(a){if(!a||this.constructor!=a.constructor)return!1;for(var b=Db(this.l()),c=0;c<b.length;c++){var d=b[c],e=d.g;if(D(this,e)!=D(a,e))return!1;if(D(this,e)){var f=Fb(d),g=Ib(this,e);e=Ib(a,e);if(d.m){if(g.length!=e.length)return!1;for(d=0;d<g.length;d++){var h=g[d],k=e[d];if(f?!h.wa(k):h!=k)return!1}}else if(f?!g.wa(e):g!=e)return!1}}return!0};
function Jb(a,b){for(var c=Db(a.l()),d=0;d<c.length;d++){var e=c[d],f=e.g;if(D(b,f)){a.g&&delete a.g[e.g];var g=Fb(e);if(e.m){e=Ib(b,f)||[];for(var h=0;h<e.length;h++)Gb(a,f,g?e[h].clone():e[h])}else e=Ib(b,f),g?(g=Ib(a,f))?Jb(g,e):F(a,f,e.clone()):F(a,f,e)}}}l.clone=function(){var a=new this.constructor;a!=this&&(a.m={},a.g&&(a.g={}),Jb(a,this));return a};function D(a,b){return null!=a.m[b]}function Ib(a,b){a=a.m[b];return null==a?null:a}
function E(a,b,c){var d=Ib(a,b);return a.h[b].m?d[c||0]:d}function G(a,b){if(D(a,b))a=E(a,b);else a:{a=a.h[b];if(void 0===a.o)if(b=a.v,b===Boolean)a.o=!1;else if(b===Number)a.o=0;else if(b===String)a.o=a.ba?"0":"";else{a=new b;break a}a=a.o}return a}function Kb(a,b){return a.h[b].m?D(a,b)?a.m[b].length:0:D(a,b)?1:0}function F(a,b,c){a.m[b]=c;a.g&&(a.g[b]=c)}function Gb(a,b,c){a.m[b]||(a.m[b]=[]);a.m[b].push(c);a.g&&delete a.g[b]}function Hb(a,b){delete a.m[b];a.g&&delete a.g[b]}
function H(a,b){var c=[],d;for(d in b)0!=d&&c.push(new Eb(a,d,b[d]));return new Cb(a,c)};function Lb(){B.call(this)}q(Lb,B);var Mb=null;function I(){B.call(this)}q(I,B);var Nb=null;I.prototype.ig=function(){return E(this,1)};I.prototype.xe=function(){return G(this,1)};I.prototype.jg=function(){return E(this,2)};I.prototype.ye=function(){return G(this,2)};function K(){B.call(this)}q(K,B);var Ob=null;function Pb(){B.call(this)}q(Pb,B);var Qb=null;l=Pb.prototype;l.ci=function(){return E(this,2)};l.gg=function(){return E(this,3)};l.yh=function(){return E(this,4)};
l.zh=function(){return G(this,4)};l.ui=function(a){F(this,4,a)};function Rb(){B.call(this)}q(Rb,B);var Sb=null;Lb.prototype.l=function(){var a=Mb;a||(Mb=a=H(Lb,{0:{name:"Color",ca:"ink.proto.Color"},1:{name:"argb",j:13,type:Number},2:{name:"premultiplied",j:8,defaultValue:!1,type:Boolean}}));return a};Lb.l=Lb.prototype.l;I.prototype.l=function(){var a=Nb;a||(Nb=a=H(I,{0:{name:"Point",ca:"ink.proto.Point"},1:{name:"x",j:2,type:Number},2:{name:"y",j:2,type:Number}}));return a};I.l=I.prototype.l;
K.prototype.l=function(){var a=Ob;a||(Ob=a=H(K,{0:{name:"Rect",ca:"ink.proto.Rect"},1:{name:"xlow",j:2,type:Number},2:{name:"xhigh",j:2,type:Number},3:{name:"ylow",j:2,type:Number},4:{name:"yhigh",j:2,type:Number}}));return a};K.l=K.prototype.l;Pb.prototype.l=function(){var a=Qb;a||(Qb=a=H(Pb,{0:{name:"RotRect",ca:"ink.proto.RotRect"},1:{name:"center",j:11,type:I},2:{name:"width",j:2,type:Number},3:{name:"height",j:2,type:Number},4:{name:"rotation_radians",j:2,type:Number}}));return a};Pb.l=Pb.prototype.l;
Rb.prototype.l=function(){var a=Sb;a||(Sb=a=H(Rb,{0:{name:"Transform",ca:"ink.proto.Transform"},3:{name:"a",j:2,defaultValue:1,type:Number},6:{name:"b",j:2,defaultValue:0,type:Number},1:{name:"c",j:2,defaultValue:0,type:Number},7:{name:"d",j:2,defaultValue:0,type:Number},4:{name:"e",j:2,defaultValue:1,type:Number},2:{name:"f",j:2,defaultValue:0,type:Number},8:{name:"g",j:2,defaultValue:0,type:Number},9:{name:"h",j:2,defaultValue:0,type:Number},10:{name:"i",j:2,defaultValue:1,type:Number}}));return a};
Rb.l=Rb.prototype.l;function Tb(a){if(G(a,2)){a=G(a,1);const b=a>>>24&255,c=0===b?0:255/b;a=new Ub(b<<24|Math.min(Math.round(c*(a>>>16&255)),255)<<16|Math.min(Math.round(c*(a>>>8&255)),255)<<8|Math.min(Math.round(c*(a>>>0&255)),255))}else a=new Ub(G(a,1));return a}function Vb(a){return new Ub(a>>>8|(a&255)<<24)}
function Wb(a){var b=a.match(/^rgba\(([0-9.]+), *([0-9.]+), *([0-9.]+), *([0-9.]+)\)$/);if(b)return new Ub(Math.min(Math.round(255*Number(b[4])),255)<<24|Math.min(Math.round(Number(b[1])),255)<<16|Math.min(Math.round(Number(b[2])),255)<<8|Math.min(Math.round(Number(b[3])),255));if(b=a.match(/^rgb\(([0-9.]+), *([0-9.]+), *([0-9.]+)\)$/))return new Ub(-16777216|Math.min(Math.round(Number(b[1])),255)<<16|Math.min(Math.round(Number(b[2])),255)<<8|Math.min(Math.round(Number(b[3])),255));a.startsWith("#")&&
(a=a.substring(1));if(3===a.length||4===a.length)b="FF",4===a.length&&(b=a[3]+a[3]),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]+b;b=255;8===a.length&&(b=parseInt(a.substring(6),16));return new Ub(parseInt(a.substring(0,6),16)+(b<<24))}function Xb(a){return"rgb("+[a.r,a.zb,a.b].join()+")"}function Yb(a){return"rgba("+[a.r,a.zb,a.b,a.a/255].join()+")"}function Zb(a){return new Uint32Array([a.r<<24|a.zb<<16|a.b<<8|a.a])}
var Ub=class{constructor(a){this.h=a>>>0;this.a=a>>>24&255;this.r=a>>>16&255;this.zb=a>>>8&255;this.b=a>>>0&255}g(){const a=new Lb;F(a,1,this.h);return a}},$b=new Ub(4278190080),ac=new Ub(4294967295),bc=new Ub(4293322470);async function cc(){return new Promise(async(a,b)=>{Object.defineProperty(self,"STATIC_JS_PREFIX",{value:"lib/ink_engine/"});try{await wb()}catch(c){b(`Ink resources failed to load: ${c}`)}a()})};/*

 Copyright 2021 Google LLC
 SPDX-License-Identifier: BSD-3-Clause
*/
/*

 Copyright 2017 Google LLC
 SPDX-License-Identifier: BSD-3-Clause
*/
var dc;
const ec=new Set,fc=new Map,gc=(a,b)=>{if(void 0!==window.ShadyCSS&&(!window.ShadyCSS.nativeShadow||window.ShadyCSS.ApplyShim)){var c,d,e=(null==(c=window.ShadyDOM)?0:c.inUse)&&!0===(null==(d=window.ShadyDOM)?void 0:d.noPatch)?window.ShadyDOM.wrap:u=>u,f=u=>void 0!==u&&!ec.has(u),g=u=>{let y=fc.get(u);void 0===y&&fc.set(u,y=[]);return y},h=(u,y)=>{const A=g(u),z=0!==A.length;if(z){const C=document.createElement("style");C.textContent=A.join("\n");y.content.appendChild(C)}ec.add(u);fc.delete(u);window.ShadyCSS.prepareTemplateStyles(y,
u);z&&window.ShadyCSS.nativeShadow&&(u=y.content.querySelector("style"),null!==u&&y.content.appendChild(u))},k=new Map,m=a.createElement;a.createElement=function(u,y){u=m.call(a,u,y);y=null==y?void 0:y.scope;if(void 0!==y&&(window.ShadyCSS.nativeShadow||window.ShadyCSS.prepareTemplateDom(u,y),f(y))){y=g(y);const A=u.content.querySelectorAll("style");y.push(...Array.from(A).map(z=>{let C;null==(C=z.parentNode)||C.removeChild(z);return z.textContent}))}return u};var n=document.createDocumentFragment(),
r=document.createComment("");b=b.prototype;var w=b.sb;b.sb=function(u,y=this){const A=e(this.tb).parentNode;var z,C=null==(z=this.options)?void 0:z.scope,X;if((A instanceof ShadowRoot||A===(null==(X=this.options)?void 0:X.wp))&&f(C)){z=this.tb;X=this.sc;n.appendChild(r);this.tb=r;this.sc=null;w.call(this,u,y);u=(null==u?0:u._$litType$)?this.ja.mf.zc:document.createElement("template");h(C,u);n.removeChild(r);let J;if(null==(J=window.ShadyCSS)?0:J.nativeShadow)C=u.content.querySelector("style"),null!==
C&&n.appendChild(C.cloneNode(!0));A.insertBefore(n,X);this.tb=z;this.sc=X}else w.call(this,u,y)};b.xg=function(u){var y,A=null==(y=this.options)?void 0:y.scope;y=k.get(A);void 0===y&&k.set(A,y=new Map);A=y.get(u.eb);void 0===A&&y.set(u.eb,A=new a(u,this.options));return A}}};null!=(dc=window).litHtmlPolyfillSupport||(dc.litHtmlPolyfillSupport=gc);let hc="";if(window.Symbol){const a=Symbol();"symbol"!==typeof a&&(hc=Object.keys(a)[0])}const ic=""!==hc;var jc=ic?a=>null!=a&&void 0!==a[hc]:()=>!1;
if(ic&&!window.Symbol.for){const a=new Map;window.Symbol.for=b=>{a.has(b)||a.set(b,Symbol(b));return a.get(b)}};var kc;
const lc=({ReactiveElement:a})=>{if(void 0!==window.ShadyCSS&&(!window.ShadyCSS.nativeShadow||window.ShadyCSS.ApplyShim)){a=a.prototype;window.ShadyDOM&&window.ShadyDOM.inUse&&!0===window.ShadyDOM.noPatch&&window.ShadyDOM.patchElementProto(a);var b=a.lc;a.lc=function(){const e=this.localName;if(window.ShadyCSS.nativeShadow)return b.call(this);if(!this.constructor.hasOwnProperty("__scoped")){this.constructor.__scoped=!0;const g=this.constructor.cg.map(m=>m instanceof CSSStyleSheet?Array.from(m.cssRules).reduce((n,r)=>
n+r.cssText,""):m.cssText);let h,k;null==(h=window.ShadyCSS)||null==(k=h.ScopingShim)||k.prepareAdoptedCssText(g,e);void 0===this.constructor.hj&&window.ShadyCSS.prepareTemplateStyles(document.createElement("template"),e)}let f;return null!=(f=this.shadowRoot)?f:this.attachShadow(this.constructor.wi)};var c=a.connectedCallback;a.connectedCallback=function(){c.call(this);this.xd&&window.ShadyCSS.styleElement(this)};var d=a.lf;a.lf=function(e){this.xd||window.ShadyCSS.styleElement(this);d.call(this,
e)}}};null!=(kc=window).reactiveElementPolyfillSupport||(kc.reactiveElementPolyfillSupport=lc);var mc;const nc=({LitElement:a})=>{if(void 0!==window.ShadyCSS&&(!window.ShadyCSS.nativeShadow||window.ShadyCSS.ApplyShim)){a.hj=!0;a=a.prototype;var b=a.lc;a.lc=function(){this.cf.scope=this.localName;return b.call(this)}}};null!=(mc=window).litElementPolyfillSupport||(mc.litElementPolyfillSupport=nc);/*

 Copyright 2019 Google LLC
 SPDX-License-Identifier: BSD-3-Clause
*/
class oc{constructor(a){this.jk=a}}function pc(a){return new oc(b=>b.substr(0,a.length+1).toLowerCase()===a+":")}const qc=[pc("data"),pc("http"),pc("https"),pc("mailto"),pc("ftp"),new oc(a=>/^[^:]*([/?#]|$)/.test(a))];/*

 Copyright 2018 Google LLC
 SPDX-License-Identifier: BSD-3-Clause
*/
function rc(a){return a&&a.vb?a.za():a}
const sc={CONSTANT:{qc(a){return a instanceof Fa},rc:Ia},JAVASCRIPT:{qc(a){return a instanceof Ka||!1},rc:function(a){return a instanceof Ka&&a.constructor===Ka?a.g:"type_error:SafeScript"}},HTML:{qc(a){return a instanceof lb||a instanceof lb},rc:function(a){return a instanceof lb?kb(a):kb(a)}},RESOURCE_URL:{qc(a){return a instanceof Ma||!1},rc:function(a){return Na(a)}},STRING:{qc(a){return a instanceof Object},rc},STYLE:{qc(a){return a instanceof fb||!1},rc:function(a){return a instanceof fb&&a.constructor===
fb?a.g:"type_error:SafeStyle"}},URL:{qc(a){return a instanceof Ya||a instanceof pb},rc:sb}};function tc(a,b){return b}const uc={CONSTANT:tc,JAVASCRIPT:tc,HTML:a=>kb(mb(a)),RESOURCE_URL:tc,STRING:String,STYLE:tc,URL:(a,b)=>{a:{for(let c=0;c<qc.length;++c){const d=qc[c];if(d instanceof oc&&d.jk(a)){a=new rb(a);break a}}a=void 0}return void 0===a?b:a.toString()}};function vc(a,b,c){if(Object.hasOwnProperty.call(wc,a)&&(a=wc[a],Object.hasOwnProperty.call(a,b)&&(a=a[b],a instanceof Array))){let e=null,f=!1;for(let g=0,h=a.length;g<h;++g){const k=a[g];var d=k.oa;if(!d)return k.fa;null===e&&(e={});d=Object.hasOwnProperty.call(e,d)?e[d]:e[d]=c(d);if(d===k.qa)return k.fa;null==d&&(f=!0)}if(f)return null}b=xc[b];return"number"===typeof b?b:null}
const xc={align:1,alt:1,"aria-activedescendant":10,"aria-atomic":1,"aria-autocomplete":1,"aria-busy":1,"aria-checked":1,"aria-controls":10,"aria-current":1,"aria-disabled":1,"aria-dropeffect":1,"aria-expanded":1,"aria-haspopup":1,"aria-hidden":1,"aria-invalid":1,"aria-label":1,"aria-labelledby":10,"aria-level":1,"aria-live":1,"aria-multiline":1,"aria-multiselectable":1,"aria-orientation":1,"aria-owns":10,"aria-posinset":1,"aria-pressed":1,"aria-readonly":1,"aria-relevant":1,"aria-required":1,"aria-selected":1,
"aria-setsize":1,"aria-sort":1,"aria-valuemax":1,"aria-valuemin":1,"aria-valuenow":1,"aria-valuetext":1,async:8,autocapitalize:1,autocomplete:1,autocorrect:1,autofocus:1,autoplay:1,bgcolor:1,border:1,cellpadding:1,cellspacing:1,checked:1,cite:3,"class":1,color:1,cols:1,colspan:1,contenteditable:1,controls:1,datetime:1,dir:8,disabled:1,download:1,draggable:1,enctype:1,face:1,"for":10,formenctype:1,frameborder:1,height:1,hidden:1,href:4,hreflang:1,id:10,ismap:1,itemid:1,itemprop:1,itemref:1,itemscope:1,
itemtype:1,label:1,lang:1,list:10,loading:8,loop:1,max:1,maxlength:1,media:1,min:1,minlength:1,multiple:1,muted:1,name:10,nonce:1,open:1,placeholder:1,poster:3,preload:1,rel:1,required:1,reversed:1,role:1,rows:1,rowspan:1,selected:1,shape:1,size:1,sizes:1,slot:1,span:1,spellcheck:1,src:4,srcset:11,start:1,step:1,style:5,summary:1,tabindex:1,target:8,title:1,translate:1,type:1,valign:1,value:1,width:1,wrap:1},wc={a:{href:[{fa:3}]},area:{href:[{fa:3}]},audio:{src:[{fa:3}]},button:{formaction:[{fa:3}],
formmethod:[{fa:1}]},form:{action:[{fa:3}],method:[{fa:1}]},iframe:{srcdoc:[{fa:2}]},img:{src:[{fa:3}]},input:{accept:[{fa:1}],formaction:[{fa:3}],formmethod:[{fa:1}],pattern:[{fa:1}],readonly:[{fa:1}],src:[{fa:3}]},link:{href:[{fa:3,oa:"rel",qa:"alternate"},{fa:3,oa:"rel",qa:"author"},{fa:3,oa:"rel",qa:"bookmark"},{fa:3,oa:"rel",qa:"canonical"},{fa:3,oa:"rel",qa:"cite"},{fa:3,oa:"rel",qa:"help"},{fa:3,oa:"rel",qa:"icon"},{fa:3,oa:"rel",qa:"license"},{fa:3,oa:"rel",qa:"next"},{fa:3,oa:"rel",qa:"prefetch"},
{fa:3,oa:"rel",qa:"dns-prefetch"},{fa:3,oa:"rel",qa:"prerender"},{fa:3,oa:"rel",qa:"preconnect"},{fa:3,oa:"rel",qa:"preload"},{fa:3,oa:"rel",qa:"prev"},{fa:3,oa:"rel",qa:"search"},{fa:3,oa:"rel",qa:"subresource"}]},script:{defer:[{fa:1}]},source:{src:[{fa:3}]},textarea:{readonly:[{fa:1}]},video:{src:[{fa:3}]}},yc={a:1,abbr:1,address:1,applet:4,area:5,article:1,aside:1,audio:1,b:1,base:4,bdi:1,bdo:1,blockquote:1,body:1,br:5,button:1,canvas:1,caption:1,center:1,cite:1,code:1,col:5,colgroup:1,command:1,
data:1,datalist:1,dd:1,del:1,details:1,dfn:1,dialog:1,div:1,dl:1,dt:1,em:1,embed:4,fieldset:1,figcaption:1,figure:1,font:1,footer:1,form:1,frame:1,frameset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,head:1,header:1,hr:5,html:1,i:1,iframe:1,img:5,input:5,ins:1,kbd:1,label:1,legend:1,lh:1,li:1,link:5,main:1,map:1,mark:1,math:4,menu:1,meta:4,meter:1,nav:1,noscript:1,object:4,ol:1,optgroup:1,option:1,output:1,p:1,param:5,picture:1,pre:1,progress:1,q:1,rb:1,rp:1,rt:1,rtc:1,ruby:1,s:1,samp:1,script:3,section:1,select:1,
slot:1,small:1,source:5,span:1,strong:1,style:2,sub:1,summary:1,sup:1,svg:4,table:1,tbody:1,td:1,template:4,textarea:6,tfoot:1,th:1,thead:1,time:1,title:6,tr:1,track:5,u:1,ul:1,"var":1,video:1,wbr:5},zc=[{auto:!0,ltr:!0,rtl:!0},{async:!0},{eager:!0,lazy:!0},{_self:!0,_blank:!0}],Ac={"*":{async:1,dir:0,loading:2,target:3}};function Bc(a){var b=Cc;if(!b){b=Dc();const d={};for(var c in b)d[b[c]]=c;b=Cc=d}c=b[a];return"string"===typeof c?c:String(a).replace(/([A-Z])/g,"-$1").toLowerCase()}function Ec(a){a=String(a).toLowerCase();const b=Dc()[a];return"string"===typeof b?b:Bb(a)}function Fc(a){a=a.toLowerCase();a=Dc()[a];return"string"===typeof a?a:null}function Dc(){if(!Gc){const a=Object.assign({},Hc);for(const b of Ic)a[b.toLowerCase()]=b;Gc=a}return Gc}
const Ic="aLink accessKey allowFullscreen bgColor cellPadding cellSpacing codeBase codeType contentEditable crossOrigin dateTime dirName formAction formEnctype formMethod formNoValidate formTarget frameBorder innerHTML innerText inputMode isMap longDesc marginHeight marginWidth maxLength mediaGroup minLength noHref noResize noShade noValidate noWrap nodeValue outerHTML outerText readOnly tabIndex textContent trueSpeed useMap vAlign vLink valueAsDate valueAsNumber valueType".split(" "),Hc={accept_charset:"acceptCharset",
"char":"ch",charoff:"chOff",checked:"defaultChecked","class":"className","for":"htmlFor",http_equiv:"httpEquiv",muted:"defaultMuted",selected:"defaultSelected",value:"defaultValue"};let Gc=null,Cc=null;/*

 Copyright 2017 Google LLC
 SPDX-License-Identifier: BSD-3-Clause

*/
const Jc={},Kc=RegExp("^(?!(?:annotation-xml|color-profile|font-face|font-face(?:-(?:src|uri|format|name))?|missing-glyph)$)[a-z][a-z.0-9_\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u200c\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\udfff\uf900-\ufdcf\ufdf0-\ufffd]*-[\\-a-z.0-9_\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u200c\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\udfff\uf900-\ufdcf\ufdf0-\ufffd]*$");
function Lc(a,b){const c=window.customElements;return c&&c.get(a)||!0===Jc[a]?2:"HTMLUnknownElement"===b.name?1:"HTMLElement"===b.name&&Kc.test(a)?3:0};/*

 Copyright 2020 Google LLC
 SPDX-License-Identifier: BSD-3-Clause
*/
function Mc(a,b){switch(b){case "innerHTML":return 1===Nc(a)?2:null;case "textContent":return a=Nc(a),1===a||6===a?1:null;default:let c,d;return null!=(d=null==(c=Oc[a.localName])?void 0:c[b])?d:null}}function Nc(a){const b=a.localName,c=Lc(b,a.constructor);switch(c){case 0:case 1:return Pc(b,a);case 3:case 2:return 1;default:tb(c,"got an unknown element classification")}}
function Pc(a,b){var c=Object.hasOwnProperty.call(yc,a)?yc[a]:null;return null!==c?c:Object.hasOwnProperty.call(Qc,a)&&b instanceof SVGElement?Qc[a]:null}const Qc={text:1},Oc={audio:{currentTime:1,srcObject:1},video:{currentTime:1,srcObject:1}};const Rc=/(?!,)([^\t\n\f\r ]+)(?:[\t\n\f\r ]+([.0-9+\-]+[a-z]?))?/gi,Sc=/[\t\n\f\r ]+/,Tc=/[\t\n\f\r ,]+/g;function Uc(a){return(a=a.split(Sc,2))?{url:a[0],metadata:a[1]}:null}function Vc(a){let b=String(a.url).replace(Tc,encodeURIComponent);if(a=a.metadata){Tc.lastIndex=0;if(Tc.test(a))return null;b+=" "+a}return b}const Wc=(a,b,c)=>c,Xc={};
function Yc(a,b,c){const d=[,{gb(e,f,g){return g},hb:void 0,nb:void 0,ob:void 0},{gb:void 0,hb:void 0,nb:void 0,ob:"HTML"}];d[3]={gb:void 0,hb:void 0,nb:Zc,ob:"URL"};d[4]={gb:void 0,hb:void 0,nb:Zc,ob:"RESOURCE_URL"};d[5]={gb:void 0,hb:void 0,nb:$c,ob:"STYLE"};d[7]={gb:void 0,hb:void 0,nb:ad,ob:"JAVASCRIPT"};d[8]={gb:void 0,hb(e,f,g){g=String(g).toLowerCase();a:{let h=null;(e=Ac[e])&&(h=e[f]);if("number"!==typeof h&&((e=Ac["*"])&&(h=e[f]),"number"!==typeof h)){f=!1;break a}f=!0===zc[h][String(g).toLowerCase()]}return f?
g:$c},nb:$c,ob:void 0};d[9]={gb:void 0,hb:void 0,nb:$c,ob:"CONSTANT"};d[10]={gb:void 0,hb(e,f,g){return a.test(g)?g:$c},nb:$c,ob:"CONSTANT"};d[11]={gb(e,f,g,h){if("string"===typeof g)var k=(k=g.match(Rc))?k.map(Uc).filter(Boolean):[];else if(Array.isArray(g))k=g;else return Zc;var m=k;k=[];var n=[];const r={};if(Array.isArray(m))for(let w=0,u=m.length;w<u;++w){const y=m[w],A=y&&y.url;if(A){const z=b(A,"URL",r);if(z){const C=z!==r;(C?k:n).push({url:C?z:A,metadata:y.metadata})}}}else n.push(m);m=n.length?
JSON.stringify(n):null;n=Xc;if(k.length){if(!Array.isArray(k))throw Error();n=k.map(Vc).filter(Boolean).join(" , ")||Xc}m&&c&&c(!0,`Failed to sanitize attribute value of <${e}>: <${e} ${f}="${g}">: ${m}`,h);return n===Xc?Zc:n},hb:void 0,nb:void 0,ob:void 0};return d}
const {ej:$c,dj:ad,fj:Zc}=(()=>{var a=(()=>{const d={createHTML:()=>"zClosurez",createScript:()=>" /*zClosurez*/ ",createScriptURL:()=>"about:invalid#zClosurez"};return"undefined"!==typeof trustedTypes?trustedTypes.createPolicy("polymer_resin",d):d})();const b=a.createHTML(""),c=a.createScript("");a=a.createScriptURL("");return{ej:b,dj:c,fj:a}})();var bd=function(a){function b(k){const m=k.localName;if(!k.getAttribute("is")&&2===Lc(m,k.constructor))return h;(k=g[m])||(k=g[m]=document.createElement(m));return k}let c=a.reportHandler||void 0;const d=a.safeTypesBridge||Wc;let e=/^$/;if(a=a.allowedIdentifierPrefixes)for(const k of a)e=new RegExp(e.source+"|^"+String(k).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"));c&&c(!1,"initResin",null);const f=Yc(e,d,c),g={},h=document.createElement("polyresinuncustomized");return function(k,
m,n){var r=k.nodeType;if(r!==Node.ELEMENT_NODE){if(r===Node.TEXT_NODE){m=k.parentElement;n=!m;if(m&&m.nodeType===Node.ELEMENT_NODE){r=m.localName;var w=Lc(r,m.constructor);switch(w){case 0:case 1:m=Pc(r,m);n=1===m||6===m;break;case 3:case 2:n=!0;break;default:tb(w,"got an unknown element classification")}}if(n)return z=>""+d(z,"STRING",z)}return z=>{if(!z&&z!==document.all)return z;c&&c(!0,`Failed to sanitize ${k.parentElement&&k.parentElement.nodeName} #text node to value ${z}`,k.parentElement);
return $c}}const u=k.localName;r=b(k);let y=null;switch(n){case "attribute":if(Ec(m)in r)break;return z=>z;case "property":if(m in r){y=Mc(r,m);break}if((w=Fc(m))&&w in r)break;return z=>z;default:tb(n,"got an unknown resin type, expected either 'property' or 'attribute'")}const A="attribute"===n?m.toLowerCase():Bc(m);y||(y=vc(u,A,z=>{const C=k.getAttribute(z);return!C||/[\[\{]/.test(z)?null:C}));return z=>{var C=Xc;let X=null;if(!z&&z!==document.all)return z;if(null!=y){const J=f[y],qb=J.ob;X=J.nb;
qb&&(C=d(z,qb,Xc));C===Xc&&(J.hb?(C=String(d(z,"STRING",z)),C=J.hb(u,A,C)):J.gb&&(C=J.gb(u,A,z,k)),C===X&&(C=Xc))}C===Xc&&(C=X||$c,c&&(z=void 0!==z.za?z.za():z,c(!0,`Failed to sanitize attribute of <${u}>: <${u} ${A}="${z}">`,k)));return C}}}({allowedIdentifierPrefixes:[""],reportHandler:function(){},safeTypesBridge:(a,b,c)=>{var d=sc[b];return d.qc(a)&&(d=d.rc(a,c),d!==c)?d:(0,uc[b])(String(rc(a)),c)}});var cd;let dd,ed;
const fd=(null==(dd=window.ShadyDOM)?0:dd.inUse)&&!0===(null==(ed=window.ShadyDOM)?void 0:ed.noPatch)?window.ShadyDOM.wrap:a=>a,gd=window.trustedTypes,hd=gd?gd.createPolicy("lit-html",{createHTML:a=>a}):void 0,id=a=>a,jd=()=>id,kd=`lit$${String(Math.random()).slice(9)}$`,ld="?"+kd,md=`<${ld}>`,nd=document,od=a=>null===a||"object"!=typeof a&&"function"!=typeof a||jc(a),pd=Array.isArray,qd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,rd=/--\x3e/g,sd=/>/g,td=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),
ud=/'/g,vd=/"/g,wd=/^(?:script|style|textarea|title)$/i;var xd=(a,...b)=>({_$litType$:1,eb:a,values:b}),yd=Symbol.for("lit-noChange"),L=Symbol.for("lit-nothing");const zd=new WeakMap,Ad=nd.createTreeWalker(nd,129,null,!1);
var Bd=class{constructor({eb:a,_$litType$:b},c){this.parts=[];let d=0,e=0;const f=a.length-1,g=this.parts;var h=a.length-1,k=[];let m=2===b?"<svg>":"",n,r=qd;for(let A=0;A<h;A++){const z=a[A];let C=-1,X;var w=0;let J;for(;w<z.length;){r.lastIndex=w;J=r.exec(z);if(null===J)break;w=r.lastIndex;if(r===qd)"!--"===J[1]?r=rd:void 0!==J[1]?r=sd:void 0!==J[2]?(wd.test(J[2])&&(n=new RegExp(`</${J[2]}`,"g")),r=td):void 0!==J[3]&&(r=td);else if(r===td)if(">"===J[0]){let qb;r=null!=(qb=n)?qb:qd;C=-1}else void 0===
J[1]?C=-2:(C=r.lastIndex-J[2].length,X=J[1],r=void 0===J[3]?td:'"'===J[3]?vd:ud);else r===vd||r===ud?r=td:r===rd||r===sd?r=qd:(r=td,n=void 0)}w=r===td&&a[A+1].startsWith("/>")?" ":"";m+=r===qd?z+md:0<=C?(k.push(X),z.slice(0,C)+"$lit$"+z.slice(C))+kd+w:z+kd+(-2===C?(k.push(void 0),A):w)}h=m+(a[h]||"<?>")+(2===b?"</svg>":"");if(!Array.isArray(a)||!a.hasOwnProperty("raw"))throw Error("invalid template strings array");a=[void 0!==hd?hd.createHTML(h):h,k];const [u,y]=a;this.zc=Bd.createElement(u,c);Ad.currentNode=
this.zc.content;2===b&&(b=this.zc.content,c=b.firstChild,c.remove(),b.append(...c.childNodes));for(;null!==(b=Ad.nextNode())&&g.length<f;){if(1===b.nodeType){if(b.hasAttributes()){c=[];for(const A of b.getAttributeNames())if(A.endsWith("$lit$")||A.startsWith(kd))k=y[e++],c.push(A),void 0!==k?(a=b.getAttribute(k.toLowerCase()+"$lit$").split(kd),k=/([.?@])?(.*)/.exec(k),g.push({type:1,index:d,name:k[2],eb:a,vj:"."===k[1]?Cd:"?"===k[1]?Dd:"@"===k[1]?Ed:Fd})):g.push({type:6,index:d});for(const A of c)b.removeAttribute(A)}if(wd.test(b.tagName)&&
(c=b.textContent.split(kd),a=c.length-1,0<a)){b.textContent=gd?gd.emptyScript:"";for(k=0;k<a;k++)b.append(c[k],nd.createComment("")),Ad.nextNode(),g.push({type:2,index:++d});b.append(c[a],nd.createComment(""))}}else if(8===b.nodeType)if(b.data===ld)g.push({type:2,index:d});else for(c=-1;-1!==(c=b.data.indexOf(kd,c+1));)g.push({type:7,index:d}),c+=kd.length-1;d++}}static createElement(a){const b=nd.createElement("template");b.innerHTML=a;return b}};
function Gd(a,b,c=a,d){if(b===yd)return b;var e;let f=void 0!==d?null==(e=c.h)?void 0:e[d]:c.ea;e=od(b)?void 0:b._$litDirective$;let g;if((null==(g=f)?void 0:g.constructor)!==e){let h,k;null==(h=f)||null==(k=h._$notifyDirectiveConnectionChanged)||k.call(h,!1);void 0===e?f=void 0:(f=new e(a),f.ij(a,c,d));if(void 0!==d){let m;(null!=(m=c.h)?m:c.h=[])[d]=f}else c.ea=f}void 0!==f&&(b=Gd(a,f.jj(a,b.values),f,d));return b}
class Hd{constructor(a,b){this.h=[];this.o=void 0;this.mf=a;this.g=b}get parentNode(){return this.g.parentNode}get qb(){return this.g.qb}v(a){const {zc:{content:b},parts:c}=this.mf;var d;const e=(null!=(d=null==a?void 0:a.gp)?d:nd).importNode(b,!0);Ad.currentNode=e;d=Ad.nextNode();let f=0,g=0,h=c[0];for(;void 0!==h;){if(f===h.index){let m;2===h.type?m=new Id(d,d.nextSibling,this,a):1===h.type?m=new h.vj(d,h.name,h.eb,this,a):6===h.type&&(m=new Jd(d,this,a));this.h.push(m);h=c[++g]}let k;f!==(null==
(k=h)?void 0:k.index)&&(d=Ad.nextNode(),f++)}return e}m(a){let b=0;for(const c of this.h)void 0!==c&&(void 0!==c.eb?(c.sb(a,c,b),b+=c.eb.length-2):c.sb(a[b])),b++}}function Kd(a,b){if(void 0===a.g){a.da=b;let c;null==(c=a.ga)||c.call(a,b)}}
var Id=class{constructor(a,b,c,d){this.type=2;this.ja=L;this.o=void 0;this.tb=a;this.sc=b;this.g=c;this.options=d;let e;this.da=null!=(e=null==d?void 0:d.isConnected)?e:!0;this.h=void 0}get qb(){let a,b;return null!=(b=null==(a=this.g)?void 0:a.qb)?b:this.da}get parentNode(){let a=fd(this.tb).parentNode;const b=this.g;void 0!==b&&11===a.nodeType&&(a=b.parentNode);return a}sb(a,b=this){a=Gd(this,a,b);od(a)?a===L||null==a||""===a?(this.ja!==L&&this.m(),this.ja=L):a!==this.ja&&a!==yd&&this.aa(a):void 0!==
a._$litType$?this.ka(a):void 0!==a.nodeType?this.v(a):pd(a)||"function"===typeof(null==a?void 0:a[Symbol.iterator])?this.ha(a):this.aa(a)}ba(a,b=this.sc){return fd(fd(this.tb).parentNode).insertBefore(a,b)}v(a){if(this.ja!==a){this.m();if(bd!==jd){let b;const c=null==(b=this.tb.parentNode)?void 0:b.nodeName;if("STYLE"===c||"SCRIPT"===c)throw Error("Forbidden");}this.ja=this.ba(a)}}aa(a){if(this.ja!==L&&od(this.ja)){var b=fd(this.tb).nextSibling;void 0===this.h&&(this.h=bd(b,"data","property"));a=
this.h(a);b.data=a}else b=document.createTextNode(""),this.v(b),void 0===this.h&&(this.h=bd(b,"data","property")),a=this.h(a),b.data=a;this.ja=a}ka(a){const {values:b,_$litType$:c}=a;a="number"===typeof c?this.xg(a):(void 0===c.zc&&(c.zc=Bd.createElement(c.jp,this.options)),c);var d;(null==(d=this.ja)?void 0:d.mf)===a?this.ja.m(b):(d=new Hd(a,this),a=d.v(this.options),d.m(b),this.v(a),this.ja=d)}xg(a){let b=zd.get(a.eb);void 0===b&&zd.set(a.eb,b=new Bd(a));return b}ha(a){pd(this.ja)||(this.ja=[],
this.m());const b=this.ja;let c=0,d;for(const e of a)c===b.length?b.push(d=new Id(this.ba(nd.createComment("")),this.ba(nd.createComment("")),this,this.options)):d=b[c],d.sb(e),c++;c<b.length&&(this.m(d&&fd(d.sc).nextSibling,c),b.length=c)}m(a=fd(this.tb).nextSibling,b){let c;for(null==(c=this.ga)||c.call(this,!1,!0,b);a&&a!==this.sc;)b=fd(a).nextSibling,fd(a).remove(),a=b}},Fd=class{constructor(a,b,c,d,e){this.type=1;this.ja=L;this.o=void 0;this.element=a;this.name=b;this.g=d;this.options=e;2<c.length||
""!==c[0]||""!==c[1]?(this.ja=Array(c.length-1).fill(new String),this.eb=c):this.ja=L;this.xc=void 0}get tagName(){return this.element.tagName}get qb(){return this.g.qb}sb(a,b=this,c,d){const e=this.eb;let f=!1;if(void 0===e){if(a=Gd(this,a,b,0),f=!od(a)||a!==this.ja&&a!==yd)this.ja=a}else{const g=a;a=e[0];let h,k;for(h=0;h<e.length-1;h++){k=Gd(this,g[c+h],b,h);k===yd&&(k=this.ja[h]);f||(f=!od(k)||k!==this.ja[h]);if(k===L)a=L;else if(a!==L){let m;a+=(null!=(m=k)?m:"")+e[h+1]}this.ja[h]=k}}f&&!d&&
this.yf(a)}yf(a){if(a===L)fd(this.element).removeAttribute(this.name);else{void 0===this.xc&&(this.xc=bd(this.element,this.name,"attribute"));let b;a=this.xc(null!=(b=a)?b:"");let c;fd(this.element).setAttribute(this.name,null!=(c=a)?c:"")}}},Cd=class extends Fd{constructor(){super(...arguments);this.type=3}yf(a){void 0===this.xc&&(this.xc=bd(this.element,this.name,"property"));a=this.xc(a);this.element[this.name]=a===L?void 0:a}};const Ld=gd?gd.emptyScript:"";
var Dd=class extends Fd{constructor(){super(...arguments);this.type=4}yf(a){a&&a!==L?fd(this.element).setAttribute(this.name,Ld):fd(this.element).removeAttribute(this.name)}},Ed=class extends Fd{constructor(a,b,c,d,e){super(a,b,c,d,e);this.type=5}sb(a,b=this){var c;a=null!=(c=Gd(this,a,b,0))?c:L;if(a!==yd){b=this.ja;c=a===L&&b!==L||a.capture!==b.capture||a.once!==b.once||a.passive!==b.passive;var d=a!==L&&(b===L||c);c&&this.element.removeEventListener(this.name,this,b);d&&this.element.addEventListener(this.name,
this,a);this.ja=a}}handleEvent(a){if("function"===typeof this.ja){let b,c;this.ja.call(null!=(c=null==(b=this.options)?void 0:b.host)?c:this.element,a)}else this.ja.handleEvent(a)}},Jd=class{constructor(a,b,c){this.element=a;this.type=6;this.o=void 0;this.g=b;this.options=c}get qb(){return this.g.qb}sb(a){Gd(this,a)}};let Md;null==(Md=window.litHtmlPolyfillSupport)||Md(Bd,Id);let Nd;(null!=(Nd=(cd=window).litHtmlVersions)?Nd:cd.litHtmlVersions=[]).push("2.2.2");var Od=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;const Pd=Symbol(),Qd=new Map;
var Rd=class{constructor(a){this._$cssResult$=!0;if(Pd!==Pd)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=a}get styleSheet(){let a=Qd.get(this.cssText);Od&&void 0===a&&(Qd.set(this.cssText,a=new CSSStyleSheet),a.replaceSync(this.cssText));return a}toString(){return this.cssText}},Sd=(a,...b)=>{b=1===a.length?a[0]:b.reduce((c,d,e)=>{if(!0===d._$cssResult$)d=d.cssText;else if("number"!==typeof d)throw Error("Value passed to 'css' function must be a 'css' function result: "+
`${d}. Use 'unsafeCSS' to pass non-literal values, but take care `+"to ensure page security.");return c+d+a[e+1]},a[0]);return new Rd(b)},Td=(a,b)=>{Od?a.adoptedStyleSheets=b.map(c=>c instanceof CSSStyleSheet?c:c.styleSheet):b.forEach(c=>{const d=document.createElement("style"),e=window.litNonce;void 0!==e&&d.setAttribute("nonce",e);d.textContent=c.cssText;a.appendChild(d)})},Ud=Od?a=>a:a=>{if(a instanceof CSSStyleSheet){let b="";for(const c of a.cssRules)b+=c.cssText;a=new Rd("string"===typeof b?
b:String(b))}return a};function Vd(a){Vd[" "](a);return a}Vd[" "]=function(){};function Wd(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var Xd=x("Opera"),Yd=x("Trident")||x("MSIE"),Zd=x("Edge"),$d=x("Gecko")&&!(-1!=gb().toLowerCase().indexOf("webkit")&&!x("Edge"))&&!(x("Trident")||x("MSIE"))&&!x("Edge"),ae=-1!=gb().toLowerCase().indexOf("webkit")&&!x("Edge"),be=x("Macintosh");function ce(){var a=p.document;return a?a.documentMode:void 0}var de;
a:{var ee="",fe=function(){var a=gb();if($d)return/rv:([^\);]+)(\)|;)/.exec(a);if(Zd)return/Edge\/([\d\.]+)/.exec(a);if(Yd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(ae)return/WebKit\/(\S+)/.exec(a);if(Xd)return/(?:Version)[ \/]?(\S+)/.exec(a)}();fe&&(ee=fe?fe[1]:"");if(Yd){var ge=ce();if(null!=ge&&ge>parseFloat(ee)){de=String(ge);break a}}de=ee}var he=de,ie={};
function je(){return Wd(ie,"10",function(){let a=0;const b=Oa(String(he)).split("."),c=Oa("10").split("."),d=Math.max(b.length,c.length);for(let g=0;0==a&&g<d;g++){var e=b[g]||"",f=c[g]||"";do{e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""];f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];if(0==e[0].length&&0==f[0].length)break;a=Wa(0==e[1].length?0:parseInt(e[1],10),0==f[1].length?0:parseInt(f[1],10))||Wa(0==e[2].length,0==f[2].length)||Wa(e[2],f[2]);e=e[3];f=f[3]}while(0==a)}return 0<=a})}var ke;
if(p.document&&Yd){var le=ce();ke=le?le:parseInt(he,10)||void 0}else ke=void 0;var me=ke;!x("Android")||ib();var ne=ib();hb();"localName"in HTMLElement.prototype||(HTMLElement.prototype.__defineGetter__?HTMLElement.prototype.__defineGetter__("localName",function(){return this.tagName.toLowerCase()}):Object.defineProperty(HTMLElement.prototype,"localName",{writable:!1,configurable:!1,enumerable:!1,get(){return this.tagName.toLowerCase()}}));try{Object.setPrototypeOf({},null)}catch(a){}(()=>{const a={},b=Object.getOwnPropertyNames(a);(new WeakMap).set(a,123);return Object.getOwnPropertyNames(a).filter(c=>!b.includes(c))})();
const oe=gb();if(oe&&0<=oe.toLowerCase().indexOf("cobalt"))try{document.createEvent("CustomEvent")}catch(a){window.CustomEvent=(b,c)=>{c=c||{};const d=document.createEvent("Event");d.initEvent(b,!!c.bubbles,!!c.cancelable);d.detail=c.detail;return d},window.CustomEvent.prototype=window.Event.prototype};var pe=!/^\s*class\s*\{\s*\}\s*$/.test(class{}.toString());/*

 Copyright 2016 Google LLC
 SPDX-License-Identifier: BSD-3-Clause
*/
(function(){if(pe&&!HTMLElement.es5Shimmed&&void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){var a=HTMLElement;window.HTMLElement=function(){return Reflect.construct(a,[],this.constructor)};HTMLElement.prototype=a.prototype;HTMLElement.prototype.constructor=HTMLElement;HTMLElement.es5Shimmed=!0;Object.setPrototypeOf(HTMLElement,a)}})();var qe;const re=window.trustedTypes,se=re?re.emptyScript:"",te=window.reactiveElementPolyfillSupport;var ue={bj(a,b){switch(b){case Boolean:a=a?se:null;break;case Object:case Array:a=null==a?a:JSON.stringify(a)}return a},xh(a,b){let c=a;switch(b){case Boolean:c=null!==a;break;case Number:c=null===a?null:Number(a);break;case Object:case Array:try{c=JSON.parse(a)}catch(d){c=null}}return c}},ve=(a,b)=>b!==a&&(b===b||a===a);const we={kd:!0,type:String,rh:ue,ed:!1,ek:ve};
function xe(a,b,c){return{get(){return this[b]},set(d){const e=this[a];this[b]=d;ye(this,a,e,c)},configurable:!0,enumerable:!0}}function ze(a,b,c=we){c.state&&(c.kd=!1);a.finalize();a.mc.set(b,c);c.vp||a.prototype.hasOwnProperty(b)||(c=xe(b,"symbol"===typeof b?Symbol():`__${b}`,c),void 0!==c&&Object.defineProperty(a.prototype,b,c))}
function ye(a,b,c,d){let e=!0;void 0!==b&&(d=d||a.constructor.mc.get(b)||we,(d.ek||ve)(a[b],c)?(a.ga.has(b)||a.ga.set(b,c),!0===d.ed&&a.m!==b&&(void 0===a.v&&(a.v=new Map),a.v.set(b,d))):e=!1);!a.da&&e&&(a.va=a.mb())}function Ae(a){if(a.da){a.o&&(a.o.forEach((d,e)=>a[e]=d),a.o=void 0);var b=!1,c=a.ga;try{b=!0;let d;null==(d=a.ka)||d.forEach(e=>{let f;return null==(f=e.mp)?void 0:f.call(e)});a.update(c)}catch(d){throw b=!1,a.pa(),d;}b&&a.lf(c)}}
var Be=class extends HTMLElement{constructor(){super();this.o=new Map;this.xd=this.da=!1;this.m=null;this.cd()}static get observedAttributes(){this.finalize();const a=[];this.mc.forEach((b,c)=>{b=this.yg(c,b);void 0!==b&&(this.zg.set(b,c),a.push(b))});return a}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var a=Object.getPrototypeOf(this);a.finalize();this.mc=new Map(a.mc);this.zg=new Map;if(this.hasOwnProperty("properties")){a=this.properties;const c=[...Object.getOwnPropertyNames(a),
...Object.getOwnPropertySymbols(a)];for(var b of c)ze(this,b,a[b])}a=this.g;b=[];if(Array.isArray(a)){a=new Set(a.flat(Infinity).reverse());for(const c of a)b.unshift(Ud(c))}else void 0!==a&&b.push(Ud(a));this.cg=b;return!0}static yg(a,b){b=b.kd;return!1===b?void 0:"string"===typeof b?b:"string"===typeof a?a.toLowerCase():void 0}cd(){this.va=new Promise(b=>this.jb=b);this.ga=new Map;this.bd();ye(this);let a;null==(a=this.constructor.ap)||a.forEach(b=>b(this))}bd(){this.kh?(this.o=this.kh,this.kh=
void 0):this.constructor.mc.forEach((a,b)=>{this.hasOwnProperty(b)&&(this.o.set(b,this[b]),delete this[b])})}lc(){let a;const b=null!=(a=this.shadowRoot)?a:this.attachShadow(this.constructor.wi);Td(b,this.constructor.cg);return b}connectedCallback(){void 0===this.ea&&(this.ea=this.lc());this.jb(!0);let a;null==(a=this.ka)||a.forEach(b=>{let c;return null==(c=b.kp)?void 0:c.call(b)})}jb(){}disconnectedCallback(){let a;null==(a=this.ka)||a.forEach(b=>{let c;return null==(c=b.lp)?void 0:c.call(b)})}attributeChangedCallback(a,
b,c){this.ab(a,c)}ad(a,b,c=we){const d=this.constructor.yg(a,c);if(void 0!==d&&!0===c.ed){let e,f;const g=(null!=(f=null==(e=c.rh)?void 0:e.bj)?f:ue.bj)(b,c.type);this.m=a;null==g?this.removeAttribute(d):this.setAttribute(d,g);this.m=null}}ab(a,b){var c=this.constructor;a=c.zg.get(a);if(void 0!==a&&this.m!==a){c=c.mc.get(a)||we;const d=c.rh;let e,f;const g=null!=(f=null!=(e=null==d?void 0:d.xh)?e:"function"===typeof d?d:null)?f:ue.xh;this.m=a;this[a]=g(b,c.type);this.m=null}}async mb(){this.da=!0;
try{await this.va}catch(b){this.ue||Promise.reject(b)}const a=Ae(this);null!=a&&await a;return!this.da}lf(a){let b;null==(b=this.ka)||b.forEach(c=>{let d;return null==(d=c.np)?void 0:d.call(c)});this.xd||(this.xd=!0,this.ba());this.bc(a)}pa(){this.ga=new Map;this.da=!1}update(){void 0!==this.v&&(this.v.forEach((a,b)=>this.ad(b,this[b],a)),this.v=void 0);this.pa()}bc(){}ba(){}};Be.finalized=!0;Be.mc=new Map;Be.cg=[];Be.wi={mode:"open"};null==te||te({ReactiveElement:Be});let Ce;
(null!=(Ce=(qe=window).reactiveElementVersions)?Ce:qe.reactiveElementVersions=[]).push("1.3.1");var De,Ee=class extends Be{constructor(){super(...arguments);this.cf={host:this};this.ha=void 0}lc(){var a;const b=super.lc();null!=(a=this.cf).bf||(a.bf=b.firstChild);return b}update(a){const b=this.render();this.xd||(this.cf.isConnected=this.isConnected);super.update(a);a=this.ea;var c=this.cf,d;const e=null!=(d=null==c?void 0:c.bf)?d:a;d=e._$litPart$;if(void 0===d){var f;d=null!=(f=null==c?void 0:c.bf)?f:null;if(!0===(null==c?void 0:c.fp))for(f=a.firstChild;f&&f!==d;){const g=f.nextSibling;f.remove();
f=g}e._$litPart$=d=new Id(a.insertBefore(nd.createComment(""),d),d,void 0,null!=c?c:{})}d.sb(b);this.ha=d}connectedCallback(){super.connectedCallback();let a;null==(a=this.ha)||Kd(a,!0)}disconnectedCallback(){super.disconnectedCallback();let a;null==(a=this.ha)||Kd(a,!1)}render(){return yd}};Ee.finalized=!0;Ee._$litElement$=!0;let Fe,Ge;null==(Ge=(Fe=window).litElementHydrateSupport)||Ge.call(Fe,{LitElement:Ee});let He;null==(He=window.litElementPolyfillSupport)||He({LitElement:Ee});let Ie;
(null!=(Ie=(De=window).litElementVersions)?Ie:De.litElementVersions=[]).push("3.2.0");var Je=Sd`'Roboto', 'Noto', sans-serif`,Ke=Sd`1px solid #dadce0`,Le=Sd`
  .tool-properties-container {
    font-family: ${Je};
    background-color: white;
    max-width: 350px;
    border: ${Ke};
    border-radius: 6px;
    box-shadow: 2px 2px #44444455;
    text-align: center;
    padding: 8px;
  }

  #size-slider {
    width: 280px;
  }

  :host {
    display: inline-block;
  }
`,Me=Sd`
  :host {
    width: 100%;
  }

  #toolbar-container {
    font-family: ${Je};
    text-align: center;
    width: 100%;
    height: 45px;
    background-color: var(--toolbar-background-color, #F4F4F4);
    /** Round corners. */
    padding-left: 20px;
    padding-right: 20px;
    border-bottom: 1px solid #AAA;
    /** Position above canvas in z-order. */
    position: relative;
    z-index: 100;
    /** Make contents non-drag-selectable. */
    -webkit-user-select: none;
    user-select: none;
  }

  toolbar-button {
    display:inline-block;
  }

  img {
    padding-top: 8px;
    padding-bottom: 7px;
  }
  #dropdown-container {
    position: absolute;
    z-index: 100;
  }

  /* Occurs as a child of <toolbar-button> and also plain. */
  button {
    font-family: ${Je};
    font-size: 14px;
    font-weight: 500;
    height: 100%;
    border: 0;
    vertical-align: middle;
    background-color: var(--toolbar-background-color, #f4f4f4);
  }
  button:hover {
    background-color: var(--toolbar-background-color-hover, #e4e4e4);
  }
  button.open {
    background-color: var(--toolbar-button-color-selected, #DDD);
  }

  #button-group-undo-redo {
    padding-left: 30px;
  }
  #button-group-center {
    padding-left: 30px;
    padding-right: 30px;
  }
`,Ne=Sd`
  .control-button {
    font-family: ${Je};
    font-weight: 500;
    font-size: 14px;
    color: black;
    background-color: var(--control-button-gray, #EEEEEE);
    border: 1px solid #d8d8d8;
    height: 36px;
    box-shadow: none;
    border-radius: 4px;
    letter-spacing: 0.25px;
    cursor: pointer;
  }
`,Oe=Sd`
  :host {
    font-family: ${Je};
    padding: 0;
    margin: 0;
    background-color: #E5E5E5;  /* Match ink background. */
  }

  body {
    margin: 0;
    background: #E5E5E5;  /* Match ink background. */
  }

  #ink-canvas-container {
    /* Center the canvas. */
    -webkit-box-align:center;
    -webkit-box-pack:center;
    display:-webkit-box;
  }

  #ink-canvas {
    /* Default for empty contents; will size to input screenshot. */
    width: 960px;
    height: 776px;
    /* Checkerboard background before Ink loads. */
    background-position: 0px 0px, 10px 10px;
    background-size: 20px 20px;
    background-image: linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee 100%),
                      linear-gradient(45deg, #eee 25%, white 25%, white 75%, #eee 75%, #eee 100%);
  }

  #ink-canvas.fullscreen {
    position: absolute;
    overflow: hidden;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
  }

  #bottom-bar {
    position: fixed;
    bottom: 0px;
    width: 100%;
    height: 40px;
    padding-top: 8px;
    text-align: end;
    background-color: var(--toolbar-background-color, #F4F4F4);
    /* Make contents non-drag-selectable. */
    -webkit-user-select: none;
    user-select: none;
  }

  #modal-ui-crop {
    background-color: var(--toolbar-background-color, #F4F4F4);
    text-align: center;
    height: 50px;
  }

  #modal-ui-crop > button {
    margin: 8px;
  }

  #button-export {
    color: white;
    background-color: #1a73e8;
    border-color: transparent;
    margin-right: 15px;
  }

  #button-copy {
    margin-right: 15px;
  }
`;const Pe=(a,b)=>({kind:b.kind,elements:b.elements,te(c){window.customElements.define(a,c)}});var Qe=a=>b=>{"function"===typeof b?window.customElements.define(a,b):b=Pe(a,b);return b};var Re=({te:a,yc:b})=>(c,d)=>{if(void 0!==d){var e=c.constructor;void 0!==b&&Object.defineProperty(c,d,b(d));null==a||a(e,d)}else{const f=null!=(e=c.tk)?e:c.key;c=void 0!=b?{kind:"method",vk:"prototype",key:f,yc:b(c.key)}:Object.assign({},c,{key:f});void 0!=a&&(c.te=function(g){a(g,f)});return c}};const Se=(a,b)=>"method"!==b.kind||!b.yc||"value"in b.yc?{kind:"field",key:Symbol(),vk:"own",yc:{},tk:b.key,hi(){"function"===typeof b.hi&&(this[b.key]=b.hi.call(this))},te(c){ze(c,b.key,a)}}:Object.assign({},b,{te(c){ze(c,b.key,a)}});function Te(a){return(b,c)=>{void 0!==c?(ze(b.constructor,c,a),b=void 0):b=Se(a,b);return b}};function Ue(a){return Re({yc:()=>({get(){let b,c;return null!=(c=null==(b=this.ea)?void 0:b.querySelectorAll(a))?c:[]},enumerable:!0,configurable:!0})})};function Ve(a){return Re({yc:()=>({get(){let b,c;return null!=(c=null==(b=this.ea)?void 0:b.querySelector(a))?c:null},enumerable:!0,configurable:!0})})};var We=class{get qb(){return this.g.qb}ij(a,b,c){this.o=a;this.g=b;this.m=c}jj(a,b){return this.update(a,b)}update(a,b){return this.render(...b)}};var Xe=(a=>(...b)=>({_$litDirective$:a,values:b}))(class extends We{constructor(a){super();let b;if(1!==a.type||"style"!==a.name||2<(null==(b=a.eb)?void 0:b.length))throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");}render(a){return Object.keys(a).reduce((b,c)=>{const d=a[c];if(null==d)return b;c=c.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase();return b+`${c}:${d};`},"")}update(a,[b]){const c=a.element.style;
void 0===this.h&&(this.h=new Set);this.h.forEach(d=>{null==b[d]&&(this.h.delete(d),d.includes("-")?c.removeProperty(d):c[d]="")});for(const d in b)a=b[d],null!=a&&(this.h.add(d),d.includes("-")?c.setProperty(d,a):c[d]=a);return yd}});/*

Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.JSCompiler_renameProperty=function(a){return a};let Ye=0;function Ze(a){let b=a.h;b||(b=new WeakMap,a.h=b);let c=Ye++;return function(d){let e=d.g;if(e&&e[c])return d;let f=b,g=f.get(d);g||(g=a(d),f.set(d,g),d=Object.create(g.g||e||null),d[c]=!0,g.g=d);return g}};function $e(a,b,c,d,e){let f;e&&(f="object"===typeof c&&null!==c)&&(d=a.__dataTemp[b]);d=d!==c&&(d===d||c===c);f&&d&&(a.__dataTemp[b]=c);return d}const af=Ze(a=>{class b extends a{_shouldPropertyChange(c,d,e){return $e(this,c,d,e,!0)}}return b}),bf=Ze(a=>{class b extends a{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(c,d,e){return $e(this,c,d,e,this.mutableData)}}return b});af.bp=$e;let cf=0,df=0,ef=[],ff=0,gf=!1,hf=document.createTextNode("");(new window.MutationObserver(jf)).observe(hf,{characterData:!0});function jf(){gf=!1;const a=ef.length;for(let b=0;b<a;b++){let c=ef[b];if(c)try{c()}catch(d){setTimeout(()=>{throw d;})}}ef.splice(0,a);df+=a}function kf(a){return{run(b){return window.setTimeout(b,a)},cancel(b){window.clearTimeout(b)}}}
const lf={run(a){gf||(gf=!0,hf.textContent=ff++);ef.push(a);return cf++},cancel(a){const b=a-df;if(0<=b){if(!ef[b])throw Error("invalid async handle: "+a);ef[b]=null}}};class mf{constructor(){this.g=this.m=this.h=null}setConfig(a,b){this.h=a;this.m=b;this.g=this.h.run(()=>{this.g=null;nf.delete(this);this.m()})}cancel(){this.isActive()&&(this._cancelAsync(),nf.delete(this))}_cancelAsync(){this.isActive()&&(this.h.cancel(this.g),this.g=null)}flush(){this.isActive()&&(this.cancel(),this.m())}isActive(){return null!=this.g}}let nf=new Set;function of(){const a=!!nf.size;nf.forEach(b=>{try{b.flush()}catch(c){setTimeout(()=>{throw c;})}});return a};let pf=/(url\()([^)]*)(\))/g,qf=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/,rf,sf;
function tf(a,b){if(a&&qf.test(a)||"//"===a)return a;if(void 0===rf){rf=!1;try{const c=new URL("b","http://a");c.pathname="c%20d";rf="http://a/c%20d"===c.href}catch(c){}}b||(b=document.baseURI||window.location.href);if(rf)try{return(new URL(a,b)).href}catch(c){return a}sf||(sf=document.implementation.createHTMLDocument("temp"),sf.base=sf.createElement("base"),sf.head.appendChild(sf.base),sf.anchor=sf.createElement("a"),sf.body.appendChild(sf.anchor));sf.base.href=b;sf.anchor.href=a;return sf.anchor.href||
a}function uf(a,b){return a.replace(pf,function(c,d,e,f){return d+"'"+tf(e.replace(/["']/g,""),b)+"'"+f})}function vf(a){return a.substring(0,a.lastIndexOf("/")+1)};const wf=!window.ShadyDOM||!window.ShadyDOM.inUse;var xf;if(xf=wf&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype)try{const a=new CSSStyleSheet;a.replaceSync("");const b=document.createElement("div");b.attachShadow({mode:"open"});b.shadowRoot.adoptedStyleSheets=[a];xf=b.shadowRoot.adoptedStyleSheets[0]===a}catch(a){xf=!1}const yf=xf;
let zf=window.Polymer&&window.Polymer.rootPath||vf(document.baseURI||window.location.href),Af=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,Bf=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,Cf=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,Df=window.Polymer&&window.Polymer.legacyOptimizations||!1,Ef=window.Polymer&&window.Polymer.legacyWarnings||!1,Ff=window.Polymer&&window.Polymer.syncInitialRender||!1,Gf=window.Polymer&&window.Polymer.legacyUndefined||!1,Hf=window.Polymer&&
window.Polymer.orderedComputed||!1,If=window.Polymer&&window.Polymer.removeNestedTemplates||!1,Jf=window.Polymer&&window.Polymer.fastDomIf||!1,Kf=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1,Lf=window.Polymer&&window.Polymer.aq||!1;let Mf=!1;function Nf(a){let b=a.indexOf(".");return-1===b?a:a.slice(0,b)}function Of(a){if(Array.isArray(a)){let b=[];for(let c=0;c<a.length;c++){let d=a[c].toString().split(".");for(let e=0;e<d.length;e++)b.push(d[e])}return b.join(".")}return a}function Pf(a){return Array.isArray(a)?Of(a).split("."):a.toString().split(".")}function Qf(a,b,c){b=Pf(b);for(let d=0;d<b.length;d++){if(!a)return;a=a[b[d]]}c&&(c.path=b.join("."));return a}
function Rf(a,b,c){let d=Pf(b),e=d[d.length-1];if(1<d.length){for(b=0;b<d.length-1;b++)if(a=a[d[b]],!a)return;a[e]=c}else a[b]=c;return d.join(".")};/*

Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
window.COMPILED=window.COMPILED||!1;const M=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?a=>ShadyDOM.patch(a):a=>a;const Sf=Ze(a=>{class b extends a{static createProperties(c){const d=this.prototype;for(let e in c)e in d||d._createPropertyAccessor(e)}static attributeNameForProperty(c){return c.toLowerCase()}static typeForProperty(){}_createPropertyAccessor(c,d){this._addPropertyToAttributeMap(c);this.hasOwnProperty("ra")||(this.ra=Object.assign({},this.ra));this.ra[c]||(this.ra[c]=!0,this._definePropertyAccessor(c,d))}_addPropertyToAttributeMap(c){this.hasOwnProperty("gd")||(this.gd=Object.assign({},this.gd));
let d=this.gd[c];d||(d=this.constructor.attributeNameForProperty(c),this.gd[d]=c);return d}_definePropertyAccessor(c,d){Object.defineProperty(this,c,{get(){return this.__data[c]},set:d?function(){}:function(e){this._setPendingProperty(c,e,!0)&&this._invalidateProperties()}})}constructor(){super();this.ke=this.le=this.__dataEnabled=!1;this.__data={};this.vc=this.__dataOld=this.__dataPending=null;this.pf=0;this.vf=!1;this._initializeProperties()}ready(){this.le=!0;this._flushProperties()}_initializeProperties(){for(let c in this.ra)this.hasOwnProperty(c)&&
(this.vc=this.vc||{},this.vc[c]=this[c],delete this[c])}_initializeInstanceProperties(c){Object.assign(this,c)}_setProperty(c,d){this._setPendingProperty(c,d)&&this._invalidateProperties()}_getProperty(c){return this.__data[c]}_setPendingProperty(c,d){let e=this.__data[c],f=this._shouldPropertyChange(c,d,e);f&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||c in this.__dataOld||(this.__dataOld[c]=e),this.__data[c]=d,this.__dataPending[c]=d);return f}_isPropertyPending(c){return!(!this.__dataPending||
!this.__dataPending.hasOwnProperty(c))}_invalidateProperties(){!this.ke&&this.le&&(this.ke=!0,lf.run(()=>{this.ke&&(this.ke=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.vc&&(this._initializeInstanceProperties(this.vc),this.vc=null),this.ready())}_flushProperties(){this.pf++;const c=this.__data,d=this.__dataPending,e=this.__dataOld;this._shouldPropertiesChange(c,d,e)&&(this.__dataOld=this.__dataPending=null,this._propertiesChanged(c,d,e));this.pf--}_shouldPropertiesChange(c,
d){return!!d}_propertiesChanged(){}_shouldPropertyChange(c,d,e){return e!==d&&(e===e||d===d)}attributeChangedCallback(c,d,e,f){d!==e&&this._attributeToProperty(c,e);super.attributeChangedCallback&&super.attributeChangedCallback(c,d,e,f)}_attributeToProperty(c,d,e){if(!this.vf){const f=this.gd;c=f&&f[c]||c;this[c]=this._deserializeValue(d,e||this.constructor.typeForProperty(c))}}_propertyToAttribute(c,d,e){this.vf=!0;e=3>arguments.length?this[c]:e;this._valueToNodeAttribute(this,e,d||this.constructor.attributeNameForProperty(c));
this.vf=!1}_valueToNodeAttribute(c,d,e){d=this._serializeValue(d);if("class"===e||"name"===e||"slot"===e)c=M(c);void 0===d?c.removeAttribute(e):c.setAttribute(e,d)}_serializeValue(c){switch(typeof c){case "boolean":return c?"":void 0;default:return null!=c?c.toString():void 0}}_deserializeValue(c,d){switch(d){case Boolean:return null!==c;case Number:return Number(c);default:return c}}}return b});const Tf={},Uf=/-[a-z]/g,Vf=/([A-Z])/g;function Wf(a){return Tf[a]||(Tf[a]=0>a.indexOf("-")?a:a.replace(Uf,b=>b[1].toUpperCase()))}function Xf(a){return Tf[a]||(Tf[a]=a.replace(Vf,"-$1").toLowerCase())};const Yf={};let Zf=HTMLElement.prototype;for(;Zf;){let a=Object.getOwnPropertyNames(Zf);for(let b=0;b<a.length;b++)Yf[a[b]]=!0;Zf=Object.getPrototypeOf(Zf)}let $f;$f=window.trustedTypes?a=>trustedTypes.isHTML(a)||trustedTypes.isScript(a)||trustedTypes.isScriptURL(a):()=>!1;
const ag=Ze(a=>{a=Sf(a);class b extends a{static createPropertiesForAttributes(){let c=this.observedAttributes;for(let d=0;d<c.length;d++)this.prototype._createPropertyAccessor(Wf(c[d]))}static attributeNameForProperty(c){return Xf(c)}_initializeProperties(){this.kb&&(this._initializeProtoProperties(this.kb),this.kb=null);super._initializeProperties()}_initializeProtoProperties(c){for(let d in c)this._setProperty(d,c[d])}_ensureAttribute(c,d){this.hasAttribute(c)||this._valueToNodeAttribute(this,
d,c)}_serializeValue(c){switch(typeof c){case "object":if(c instanceof Date)return c.toString();if(c){if($f(c))return c;try{return JSON.stringify(c)}catch(d){return""}}default:return super._serializeValue(c)}}_deserializeValue(c,d){let e;switch(d){case Object:try{e=JSON.parse(c)}catch(f){e=c}break;case Array:try{e=JSON.parse(c)}catch(f){e=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${c}`)}break;case Date:e=isNaN(c)?String(c):Number(c);e=new Date(e);break;default:e=super._deserializeValue(c,
d)}return e}_definePropertyAccessor(c,d){if(!Yf[c]){let e=this[c];void 0!==e&&(this.__data?this._setPendingProperty(c,e):(this.kb?this.hasOwnProperty("kb")||(this.kb=Object.create(this.kb)):this.kb={},this.kb[c]=e))}super._definePropertyAccessor(c,d)}_hasAccessor(c){return this.ra&&this.ra[c]}_isPropertyPending(c){return!!(this.__dataPending&&c in this.__dataPending)}}return b});const bg={"dom-if":!0,"dom-repeat":!0};let cg=!1,dg=!1;const eg=(()=>{const a=window.trustedTypes&&window.trustedTypes.createPolicy("polymer-template-event-attribute-policy",{createScript:b=>b});return(b,c,d)=>{c=c.getAttribute(d);a&&d.startsWith("on-")?b.setAttribute(d,a.createScript(c,d)):b.setAttribute(d,c)}})();function fg(a,b){let c=b.parentInfo&&fg(a,b.parentInfo);if(c)for(let d=c.firstChild,e=0;d;d=d.nextSibling){if(b.parentIndex===e++)return d}else return a}
function gg(a,b){a=a._methodHost||a;return function(c){if(a[b])a[b](c,c.detail);else console.warn("listener method `"+b+"` not defined")}}
const hg=Ze(a=>{class b extends a{static _parseTemplate(c,d){if(!c._templateInfo){let e=c._templateInfo={};e.nodeInfoList=[];e.nk=!!d;e.xi=d&&d.xi||c.hasAttribute&&c.hasAttribute("strip-whitespace");this._parseTemplateContent(c,e,{parent:null})}return c._templateInfo}static _parseTemplateContent(c,d,e){return this._parseTemplateNode(c.content,d,e)}static _parseTemplateNode(c,d,e){let f=!1;"template"!=c.localName||c.hasAttribute("preserve-content")?"slot"===c.localName&&(d.hasInsertionPoint=!0):f=
this._parseTemplateNestedTemplate(c,d,e)||f;if(!cg){cg=!0;const g=document.createElement("textarea");g.placeholder="a";dg=g.placeholder===g.textContent}dg&&"textarea"===c.localName&&c.placeholder&&c.placeholder===c.textContent&&(c.textContent=null);c.firstChild&&this._parseTemplateChildNodes(c,d,e);c.hasAttributes&&c.hasAttributes()&&(f=this._parseTemplateNodeAttributes(c,d,e)||f);return f||e.g}static _parseTemplateChildNodes(c,d,e){if("script"!==c.localName&&"style"!==c.localName)for(let h=c.firstChild,
k=0,m;h;h=m){if("template"==h.localName){var f=h,g=f.getAttribute("is");if(g&&bg[g]){let n=f;n.removeAttribute("is");f=n.ownerDocument.createElement(g);n.parentNode.replaceChild(f,n);for(f.appendChild(n);n.attributes.length;)({name:g}=n.attributes[0]),eg(f,n,g),n.removeAttribute(g)}h=f}m=h.nextSibling;if(h.nodeType===Node.TEXT_NODE){for(f=m;f&&f.nodeType===Node.TEXT_NODE;)h.textContent+=f.textContent,m=f.nextSibling,c.removeChild(f),f=m;if(d.xi&&!h.textContent.trim()){c.removeChild(h);continue}}f=
{parentIndex:k,parentInfo:e};this._parseTemplateNode(h,d,f)&&(f.infoIndex=d.nodeInfoList.push(f)-1);h.parentNode&&k++}}static _parseTemplateNestedTemplate(c,d,e){d=this._parseTemplate(c,d);(d.content=c.content.ownerDocument.createDocumentFragment()).appendChild(c.content);e.templateInfo=d;return!0}static _parseTemplateNodeAttributes(c,d,e){let f=!1,g=Array.from(c.attributes);for(let h=g.length-1,k;k=g[h];h--)f=this._parseTemplateNodeAttribute(c,d,e,k.name,k.value)||f;return f}static _parseTemplateNodeAttribute(c,
d,e,f,g){return"on-"===f.slice(0,3)?(c.removeAttribute(f),e.events=e.events||[],e.events.push({name:f.slice(3),value:g}),!0):"id"===f?(e.id=g,!0):!1}static _contentForTemplate(c){let d=c._templateInfo;return d&&d.content||c.content}_stampTemplate(c,d){c&&!c.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(c);d=d||this.constructor._parseTemplate(c);let e=d.nodeInfoList;c=document.importNode(d.content||c.content,!0);c.__noInsertionPoint=!d.hasInsertionPoint;
let f=c.nodeList=Array(e.length);c.$={};for(let k=0,m=e.length,n;k<m&&(n=e[k]);k++){let r=f[k]=fg(c,n);n.id&&(c.$[n.id]=r);var g=r,h=d;n.templateInfo&&(g._templateInfo=n.templateInfo,g.rj=h);g=r;h=n;if(h.events&&h.events.length)for(let w=0,u=h.events,y;w<u.length&&(y=u[w]);w++)this._addMethodEventListenerToNode(g,y.name,y.value,this)}return c}_addMethodEventListenerToNode(c,d,e,f){e=gg(f||c,e);this._addEventListenerToNode(c,d,e);return e}_addEventListenerToNode(c,d,e){c.addEventListener(d,e)}_removeEventListenerFromNode(c,
d,e){c.removeEventListener(d,e)}}return b});/*
 Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at
 http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 Google as part of the polymer project is also subject to an additional IP
 rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ig=0;const jg=[],kg={nl:"__computeEffects",un:"__reflectEffects",vg:"__notifyEffects",gj:"__propagateEffects",wm:"__observeEffects",READ_ONLY:"__readOnly"},lg=/[A-Z]/;function mg(a,b,c){let d=a[b];if(!d)d=a[b]={};else if(!a.hasOwnProperty(b)&&(d=a[b]=Object.create(a[b]),c))for(let e in d)for(a=d[e],b=d[e]=Array(a.length),c=0;c<a.length;c++)b[c]=a[c];return d}
function ng(a,b,c,d,e,f){if(b){let g=!1;const h=ig++;for(let k in c){let m=b[e?Nf(k):k];if(m)for(let n=0,r=m.length,w;n<r&&(w=m[n]);n++)w.info&&w.info.yd===h||e&&!og(k,w.fd)||(w.info&&(w.info.yd=h),w.ib(a,k,c,d,w.info,e,f),g=!0)}return g}return!1}function og(a,b){if(b){let c=b.name;return c==a||!(!b.structured||0!==c.indexOf(a+"."))||!(!b.wildcard||0!==a.indexOf(c+"."))}return!0}
function pg(a,b,c,d,e){b="string"===typeof e.method?a[e.method]:e.method;c=e.oi;b?b.call(a,a.__data[c],d[c]):e.dynamicFn||console.warn("observer method `"+e.method+"` not defined")}function qg(a,b,c,d){c={value:c,wk:!0};d&&(c.path=d);M(a).dispatchEvent(new CustomEvent(b,{detail:c}))}function rg(a,b,c,d,e,f){f=(d=(f?Nf(b):b)!=b?b:null)?Qf(a,d):a.__data[b];d&&void 0===f&&(f=c[b]);qg(a,e.zj,f,d)}
function sg(a,b,c,d,e){c=a.__data[b];Af&&(c=Af(c,e.attrName,"attribute",a));a._propertyToAttribute(b,e.attrName,c)}const tg=(a,b,c,d,e)=>{if(b=b[e?Nf(a):a])for(let k=0;k<b.length;k++){var f=b[k];if(f.info.yd!==ig&&(!e||og(a,f.fd))){f.info.yd=ig;f=f.info;var g=c,h=d;let m=0,n=g.length-1,r=-1;for(;m<=n;){const w=m+n>>1,u=h.get(g[w].zd)-h.get(f.zd);if(0>u)m=w+1;else if(0<u)n=w-1;else{r=w;break}}0>r&&(r=n+1);g.splice(r,0,f)}}};
function ug(a){let b=a.constructor.mj;if(!b){b=new Map;const d=a.__computeEffects;let {uj:e,ready:f,total:g}=vg(a);for(var c;c=f.shift();)b.set(c,b.size),(c=d[c])&&c.forEach(h=>{h=h.info.zd;--g;0===--e[h]&&f.push(h)});0!==g&&console.warn(`Computed graph for ${a.localName} incomplete; circular?`);a.constructor.mj=b}return b}
function vg(a){const b=a.__computeInfo,c={};a=a.__computeEffects;const d=[];let e=0;for(let f in b){const g=b[f];e+=c[f]=g.args.filter(h=>!h.literal).length+(g.dynamicFn?1:0)}for(let f in a)b[f]||d.push(f);return{uj:c,ready:d,total:e}}function wg(a,b,c,d,e){b=xg(a,b,c,d,e);if(b===jg)return!1;e=e.zd;if(a.ra&&a.ra[e])return a._setPendingProperty(e,b,!0);a[e]=b;return!1}
function yg(a,b,c,d,e,f,g){c.bindings=c.bindings||[];d={kind:d,target:e,parts:f,literal:g,isCompound:1!==f.length};c.bindings.push(d);if(d.target&&"attribute"!=d.kind&&"text"!=d.kind&&!d.isCompound&&"{"===d.parts[0].mode){let {event:r,negate:w}=d.parts[0];d.listenerEvent=r||Xf(e)+"-changed";d.listenerNegate=w}c=b.nodeInfoList.length;for(g=0;g<d.parts.length;g++){var h=d.parts[g];h.compoundIndex=g;e=a;f=b;var k=d,m=h,n=c;if(!m.literal)if("attribute"===k.kind&&"-"===k.target[0])console.warn("Cannot set attribute "+
k.target+' because "-" is not a valid attribute starting character');else for(h=m.dependencies,k={index:n,sj:k,ae:m,yj:e},m=0;m<h.length;m++)n=h[m],"string"==typeof n&&(n=zg(n),n.wildcard=!0),e._addTemplatePropertyEffect(f,n.rootProperty,{ib:Ag,info:k,fd:n})}}
function Ag(a,b,c,d,e,f,g){g=g[e.index];var h=e.sj;let k=e.ae;f&&k.source&&b.length>k.source.length&&"property"==h.kind&&!h.isCompound&&g.ah&&g.ra&&g.ra[h.target]?(c=c[b],b=h.target+b.slice(k.source.length),g._setPendingPropertyOrPath(b,c,!1,!0)&&a._enqueueClient(g)):(b=e.yj._evaluateBinding(a,k,b,c,d,f),b!==jg&&(h.isCompound&&(c=g.__dataCompoundStorage[h.target],c[k.compoundIndex]=b,b=c.join("")),"attribute"===h.kind||"textContent"!==h.target&&("value"!==h.target||"input"!==g.localName&&"textarea"!==
g.localName)||(b=void 0==b?"":b),Af&&(b=Af(b,h.target,h.kind,g)),"attribute"==h.kind?a._valueToNodeAttribute(g,b,h.target):(h=h.target,g.ah&&g.ra&&g.ra[h]?g.__readOnly&&g.__readOnly[h]||g._setPendingProperty(h,b)&&a._enqueueClient(g):a._setUnmanagedPropertyToNode(g,h,b))))}
function Bg(a,b,c){if(c.listenerEvent){let d=c.parts[0];a.addEventListener(c.listenerEvent,function(e){var f=c.target,g=d.source;let h=e.detail,k=h&&h.path;k?(g+=k.slice(f.length),e=h&&h.value):e=e.currentTarget[f];b.__readOnly&&b.__readOnly[g]||!b._setPendingPropertyOrPath(g,d.negate?!e:e,!0,!!k)||h&&h.wk||b._invalidateProperties()})}}
function Cg(a,b,c,d,e,f){f=b.static||f&&("object"!==typeof f||f[b.methodName]);e={methodName:b.methodName,args:b.args,zd:e,dynamicFn:f};for(let g=0,h;g<b.args.length&&(h=b.args[g]);g++)h.literal||a._addPropertyEffect(h.rootProperty,c,{ib:d,info:e,fd:h});f&&a._addPropertyEffect(b.methodName,c,{ib:d,info:e});return e}
function xg(a,b,c,d,e){d=a._methodHost||a;let f=d[e.methodName];if(f)return a=a._marshalArgs(e.args,b,c),a===jg?jg:f.apply(d,a);e.dynamicFn||console.warn("method `"+e.methodName+"` not defined")}
const Dg=[],Eg=RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");
function Fg(a){let b="";for(let c=0;c<a.length;c++)b+=a[c].literal||"";return b}function Gg(a){if(a=a.match(/([^\s]+?)\(([\s\S]*)\)/)){let b={methodName:a[1],static:!0,args:Dg};return a[2].trim()?Hg(a[2].replace(/\\,/g,"&comma;").split(","),b):b}return null}function Hg(a,b){b.args=a.map(function(c){c=zg(c);c.literal||(b.static=!1);return c},this);return b}
function zg(a){a=a.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1");let b={name:a,value:"",literal:!1},c=a[0];"-"===c&&(c=a[1]);"0"<=c&&"9">=c&&(c="#");switch(c){case "'":case '"':b.value=a.slice(1,-1);b.literal=!0;break;case "#":b.value=Number(a),b.literal=!0}b.literal||(b.rootProperty=Nf(a),b.structured=0<=a.indexOf("."),b.structured&&(b.wildcard=".*"==a.slice(-2),b.wildcard&&(b.name=a.slice(0,-2))));return b}function Ig(a,b,c){a=Qf(a,c);void 0===a&&(a=b[c]);return a}
function Jg(a,b,c,d){d={indexSplices:d};Gf&&!a._overrideLegacyUndefined&&(b.zp=d);a.notifyPath(c+".splices",d);a.notifyPath(c+".length",b.length);Gf&&!a._overrideLegacyUndefined&&(d.indexSplices=[])}function Kg(a,b,c,d,e,f){Jg(a,b,c,[{index:d,addedCount:e,removed:f,object:b,type:"splice"}])}
const Mg=Ze(a=>{const b=hg(ag(a));class c extends b{constructor(){super();this.ah=!0}get PROPERTY_EFFECT_TYPES(){return kg}_initializeProperties(){super._initializeProperties();this._registerHost();this.__dataClientsReady=!1;this.__dataLinkedPaths=this.__dataToNotify=this.__dataPendingClients=null;this.__dataHasPaths=!1;this.__dataCompoundStorage=this.__dataCompoundStorage||null;this.__dataHost=this.__dataHost||null;this.__dataTemp={};this.__dataClientsInitialized=!1}_registerHost(){if(Lg.length){let d=
Lg[Lg.length-1];d._enqueueClient(this);this.__dataHost=d}}_initializeProtoProperties(d){this.__data=Object.create(d);this.__dataPending=Object.create(d);this.__dataOld={}}_initializeInstanceProperties(d){let e=this.__readOnly;for(let f in d)e&&e[f]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[f]=this.__dataPending[f]=d[f])}_addPropertyEffect(d,e,f){this._createPropertyAccessor(d,"__readOnly"==e);let g=mg(this,e,!0)[d];g||(g=this[e][d]=[]);g.push(f)}_removePropertyEffect(d,
e,f){d=mg(this,e,!0)[d];f=d.indexOf(f);0<=f&&d.splice(f,1)}_hasPropertyEffect(d,e){e=this[e];return!(!e||!e[d])}_hasReadOnlyEffect(d){return this._hasPropertyEffect(d,"__readOnly")}_hasNotifyEffect(d){return this._hasPropertyEffect(d,"__notifyEffects")}_hasReflectEffect(d){return this._hasPropertyEffect(d,"__reflectEffects")}_hasComputedEffect(d){return this._hasPropertyEffect(d,"__computeEffects")}_setPendingPropertyOrPath(d,e,f,g){if(g||Nf(Array.isArray(d)?d[0]:d)!==d){if(!g&&(g=Qf(this,d),d=Rf(this,
d,e),!d||!super._shouldPropertyChange(d,e,g)))return!1;this.__dataHasPaths=!0;if(this._setPendingProperty(d,e,f)){if(f=this.__dataLinkedPaths)for(let h in f)g=f[h],0===d.indexOf(h+".")?(g+=d.slice(h.length),this._setPendingPropertyOrPath(g,e,!0,!0)):0===d.indexOf(g+".")&&(g=h+d.slice(g.length),this._setPendingPropertyOrPath(g,e,!0,!0));return!0}}else{if(this.ra&&this.ra[d])return this._setPendingProperty(d,e,f);this[d]=e}return!1}_setUnmanagedPropertyToNode(d,e,f){if(f!==d[e]||"object"==typeof f)"className"===
e&&(d=M(d)),d[e]=f}_setPendingProperty(d,e,f){let g=this.__dataHasPaths&&0<=d.indexOf(".");if(this._shouldPropertyChange(d,e,(g?this.__dataTemp:this.__data)[d])){this.__dataPending||(this.__dataPending={},this.__dataOld={});d in this.__dataOld||(this.__dataOld[d]=this.__data[d]);g?this.__dataTemp[d]=e:this.__data[d]=e;this.__dataPending[d]=e;if(g||this.__notifyEffects&&this.__notifyEffects[d])this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[d]=f;return!0}return!1}_setProperty(d,e){this._setPendingProperty(d,
e,!0)&&this._invalidateProperties()}_invalidateProperties(){this.le&&this._flushProperties()}_enqueueClient(d){this.__dataPendingClients=this.__dataPendingClients||[];d!==this&&this.__dataPendingClients.push(d)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.le=!0)}__enableOrFlushClients(){let d=this.__dataPendingClients;if(d){this.__dataPendingClients=null;for(let e=0;e<d.length;e++){let f=d[e];f.__dataEnabled?f.__dataPending&&
f._flushProperties():f._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(d,e){for(let f in d)!e&&this.__readOnly&&this.__readOnly[f]||this._setPendingPropertyOrPath(f,d[f],!0);this._invalidateProperties()}ready(){this._flushProperties();this.__dataClientsReady||this._flushClients();this.__dataPending&&this._flushProperties()}_propertiesChanged(d,e,f){d=this.__dataHasPaths;this.__dataHasPaths=!1;var g;if(g=this.__computeEffects)if(Hf){ig++;var h=ug(this),k=[];for(var m in e)tg(m,
g,k,h,d);for(;m=k.shift();)wg(this,"",e,f,m)&&tg(m.zd,g,k,h,d);Object.assign(f,this.__dataOld);Object.assign(e,this.__dataPending);this.__dataPending=null}else for(h=e;ng(this,g,h,f,d);)Object.assign(f,this.__dataOld),Object.assign(e,this.__dataPending),h=this.__dataPending,this.__dataPending=null;g=this.__dataToNotify;this.__dataToNotify=null;this._propagatePropertyChanges(e,f,d);this._flushClients();ng(this,this.__reflectEffects,e,f,d);ng(this,this.__observeEffects,e,f,d);if(g){h=this.__notifyEffects;
let y;k=ig++;for(let z in g)if(g[z]){if(m=h){m=k;var n=z,r=e,w=f,u=d;let C=!1,X=h[u?Nf(n):n];if(X)for(let J=0,qb=X.length,ab;J<qb&&(ab=X[J]);J++)ab.info&&ab.info.yd===m||u&&!og(n,ab.fd)||(ab.info&&(ab.info.yd=m),ab.ib(this,n,r,w,ab.info,u,void 0),C=!0);m=C}if(m)y=!0;else{if(m=d)m=z,n=e,r=Nf(m),r!==m?(r=Xf(r)+"-changed",qg(this,r,n[m],m),m=!0):m=!1;m&&(y=!0)}}let A;y&&(A=this.__dataHost)&&A._invalidateProperties&&A._invalidateProperties()}1==this.pf&&(this.__dataTemp={})}_propagatePropertyChanges(d,
e,f){this.__propagateEffects&&ng(this,this.__propagateEffects,d,e,f);this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,d,e,f)}_runEffectsForTemplate(d,e,f,g){const h=(k,m)=>{ng(this,d.propertyEffects,k,f,m,d.nodeList);for(let n=d.firstChild;n;n=n.nextSibling)this._runEffectsForTemplate(n,k,f,m)};d.xk?d.xk(h,e,g):h(e,g)}linkPaths(d,e){d=Of(d);e=Of(e);this.__dataLinkedPaths=this.__dataLinkedPaths||{};this.__dataLinkedPaths[d]=e}unlinkPaths(d){d=Of(d);this.__dataLinkedPaths&&delete this.__dataLinkedPaths[d]}notifySplices(d,
e){let f={path:""};d=Qf(this,d,f);Jg(this,d,f.path,e)}get(d,e){return Qf(e||this,d)}set(d,e,f){f?Rf(f,d,e):this.__readOnly&&this.__readOnly[d]||this._setPendingPropertyOrPath(d,e,!0)&&this._invalidateProperties()}push(d,...e){let f={path:""};d=Qf(this,d,f);let g=d.length,h=d.push(...e);e.length&&Kg(this,d,f.path,g,e.length,[]);return h}pop(d){let e={path:""};d=Qf(this,d,e);let f=!!d.length,g=d.pop();f&&Kg(this,d,e.path,d.length,0,[g]);return g}splice(d,e,f,...g){let h={path:""},k=Qf(this,d,h);0>e?
e=k.length-Math.floor(-e):e&&(e=Math.floor(e));let m;m=2===arguments.length?k.splice(e):k.splice(e,f,...g);(g.length||m.length)&&Kg(this,k,h.path,e,g.length,m);return m}shift(d){let e={path:""};d=Qf(this,d,e);let f=!!d.length,g=d.shift();f&&Kg(this,d,e.path,0,0,[g]);return g}unshift(d,...e){let f={path:""};d=Qf(this,d,f);let g=d.unshift(...e);e.length&&Kg(this,d,f.path,0,e.length,[]);return g}notifyPath(d,e){if(1==arguments.length){var f={path:""};e=Qf(this,d,f);f=f.path}else f=Array.isArray(d)?Of(d):
d;this._setPendingPropertyOrPath(f,e,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(d,e){this._addPropertyEffect(d,"__readOnly");e&&(this["_set"+(d[0].toUpperCase()+d.substring(1))]=function(f){this._setProperty(d,f)})}_createPropertyObserver(d,e,f){let g={oi:d,method:e,dynamicFn:!!f};this._addPropertyEffect(d,"__observeEffects",{ib:pg,info:g,fd:{name:d}});f&&this._addPropertyEffect(e,"__observeEffects",{ib:pg,info:g,fd:{name:e}})}_createMethodObserver(d,e){let f=Gg(d);if(!f)throw Error("Malformed observer expression '"+
d+"'");Cg(this,f,"__observeEffects",xg,null,e)}_createNotifyingProperty(d){this._addPropertyEffect(d,"__notifyEffects",{ib:rg,info:{zj:Xf(d)+"-changed",oi:d}})}_createReflectedProperty(d){let e=this.constructor.attributeNameForProperty(d);"-"===e[0]?console.warn("Property "+d+" cannot be reflected to attribute "+e+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(d,"__reflectEffects",{ib:sg,info:{attrName:e}})}_createComputedProperty(d,
e,f){let g=Gg(e);if(!g)throw Error("Malformed computed expression '"+e+"'");e=Cg(this,g,"__computeEffects",wg,d,f);mg(this,"__computeInfo")[d]=e}_marshalArgs(d,e,f){const g=this.__data,h=[];for(let k=0,m=d.length;k<m;k++){let {name:n,structured:r,wildcard:w,value:u,literal:y}=d[k];if(!y)if(w){const A=0===e.indexOf(n+"."),z=Ig(g,f,A?e:n);u={path:A?e:n,value:z,base:A?Qf(g,n):z}}else u=r?Ig(g,f,n):g[n];if(Gf&&!this._overrideLegacyUndefined&&void 0===u&&1<d.length)return jg;h[k]=u}return h}static addPropertyEffect(d,
e,f){this.prototype._addPropertyEffect(d,e,f)}static createPropertyObserver(d,e,f){this.prototype._createPropertyObserver(d,e,f)}static createMethodObserver(d,e){this.prototype._createMethodObserver(d,e)}static createNotifyingProperty(d){this.prototype._createNotifyingProperty(d)}static createReadOnlyProperty(d,e){this.prototype._createReadOnlyProperty(d,e)}static createReflectedProperty(d){this.prototype._createReflectedProperty(d)}static createComputedProperty(d,e,f){this.prototype._createComputedProperty(d,
e,f)}static bindTemplate(d){return this.prototype._bindTemplate(d)}_bindTemplate(d,e){let f=this.constructor._parseTemplate(d),g=this.pj==f;if(!g)for(let h in f.propertyEffects)this._createPropertyAccessor(h);e?(f=Object.create(f),f.wasPreBound=g,this.__templateInfo?(d=d.rj||this.__templateInfo,e=d.lastChild,f.parent=d,d.lastChild=f,(f.previousSibling=e)?e.nextSibling=f:d.firstChild=f):this.__templateInfo=f):this.pj=f;return f}static _addTemplatePropertyEffect(d,e,f){(d.hostProps=d.hostProps||{})[e]=
!0;d=d.propertyEffects=d.propertyEffects||{};(d[e]=d[e]||[]).push(f)}_stampTemplate(d,e){e=e||this._bindTemplate(d,!0);Lg.push(this);d=super._stampTemplate(d,e);Lg.pop();e.nodeList=d.nodeList;if(!e.wasPreBound){var f=e.childNodes=[];for(var g=d.firstChild;g;g=g.nextSibling)f.push(g)}d.templateInfo=e;let {nodeList:h,nodeInfoList:k}=e;if(k.length)for(let n=0;n<k.length;n++){let r=h[n],w=k[n].bindings;if(w)for(let u=0;u<w.length;u++){let y=w[u];f=r;g=y;if(g.isCompound){let A=f.__dataCompoundStorage||
(f.__dataCompoundStorage={});var m=g.parts;let z=Array(m.length);for(let C=0;C<m.length;C++)z[C]=m[C].literal;m=g.target;A[m]=z;g.literal&&"property"==g.kind&&("className"===m&&(f=M(f)),f[m]=g.literal)}Bg(r,this,y)}r.__dataHost=this}this.__dataClientsReady&&(this._runEffectsForTemplate(e,this.__data,null,!1),this._flushClients());return d}_removeBoundDom(d){d=d.templateInfo;var e=d.previousSibling,f=d.nextSibling;const g=d.parent;e?e.nextSibling=f:g&&(g.firstChild=f);f?f.previousSibling=e:g&&(g.lastChild=
e);d.nextSibling=d.previousSibling=null;d=d.childNodes;for(e=0;e<d.length;e++)f=d[e],M(M(f).parentNode).removeChild(f)}static _parseTemplateNode(d,e,f){let g=b._parseTemplateNode.call(this,d,e,f);if(d.nodeType===Node.TEXT_NODE){let h=this._parseBindings(d.textContent,e);h&&(d.textContent=Fg(h)||" ",yg(this,e,f,"text","textContent",h),g=!0)}return g}static _parseTemplateNodeAttribute(d,e,f,g,h){let k=this._parseBindings(h,e);if(k){h=g;let m="property";lg.test(g)?m="attribute":"$"==g[g.length-1]&&(g=
g.slice(0,-1),m="attribute");let n=Fg(k);n&&"attribute"==m&&("class"==g&&d.hasAttribute("class")&&(n+=" "+d.getAttribute(g)),d.setAttribute(g,n));"attribute"==m&&"disable-upgrade$"==h&&d.setAttribute(g,"");"input"===d.localName&&"value"===h&&d.setAttribute(h,"");d.removeAttribute(h);"property"===m&&(g=Wf(g));yg(this,e,f,m,g,k,n);return!0}return b._parseTemplateNodeAttribute.call(this,d,e,f,g,h)}static _parseTemplateNestedTemplate(d,e,f){let g=b._parseTemplateNestedTemplate.call(this,d,e,f);const h=
d.parentNode,k=f.templateInfo,m="dom-if"===h.localName,n="dom-repeat"===h.localName;If&&(m||n)&&(h.removeChild(d),f=f.parentInfo,f.templateInfo=k,f.g=!0,g=!1);d=k.hostProps;if(Jf&&m)d&&(e.hostProps=Object.assign(e.hostProps||{},d),If||(f.parentInfo.g=!0));else for(let r in d)yg(this,e,f,"property","_host_"+r,[{mode:"{",source:r,dependencies:[r],fk:!0}]);return g}static _parseBindings(d,e){let f=[];for(var g=0,h;null!==(h=Eg.exec(d));){h.index>g&&f.push({literal:d.slice(g,h.index)});g=h[1][0];let n=
!!h[2];h=h[3].trim();let r=!1,w="";var k=-1;"{"==g&&0<(k=h.indexOf("::"))&&(w=h.substring(k+2),h=h.substring(0,k),r=!0);k=Gg(h);let u=[];if(k){let {args:y,methodName:A}=k;for(var m=0;m<y.length;m++){let z=y[m];z.literal||u.push(z)}if((m=e.vh)&&m[A]||k.static)u.push(A),k.dynamicFn=!0}else u.push(h);f.push({source:h,mode:g,negate:n,customEvent:r,signature:k,dependencies:u,event:w});g=Eg.lastIndex}g&&g<d.length&&(d=d.substring(g))&&f.push({literal:d});return f.length?f:null}static _evaluateBinding(d,
e,f,g,h,k){d=e.signature?xg(d,f,g,h,e.signature):f!=e.source?Qf(d,e.source):k&&0<=f.indexOf(".")?Qf(d,f):d.__data[f];e.negate&&(d=!d);return d}}return c}),Lg=[];let Ng=null;function Og(){return Ng}Og.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:Og,writable:!0}});const Pg=Mg(Og),Qg=af(Pg),Rg=Mg(class{});
class Sg extends Rg{constructor(a){super();this._configureProperties(a);this.root=this._stampTemplate(this.__dataHost);var b=[];this.children=b;for(let c=this.root.firstChild;c;c=c.nextSibling)b.push(c),c.qj=this;this.wc&&this.wc.qf&&this._showHideChildren(!0);b=this.oe;(a&&b.instanceProps||!b.instanceProps)&&this._enableProperties()}_configureProperties(a){if(this.oe.forwardHostProp)for(let b in this.lj)this._setPendingProperty(b,this.__dataHost["_host_"+b]);for(let b in a)this._setPendingProperty(b,
a[b])}forwardHostProp(a,b){this._setPendingPropertyOrPath(a,b,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(a,b,c){if(this._methodHost&&this.oe.parentModel)this._methodHost._addEventListenerToNode(a,b,d=>{d.model=this;c(d)});else{let d=this.__dataHost.__dataHost;d&&d._addEventListenerToNode(a,b,c)}}_showHideChildren(a){var b=this.children;for(let c=0;c<b.length;c++){let d=b[c];if(!!a!=!!d.qf)if(d.nodeType===Node.TEXT_NODE)a?(d.hh=d.textContent,d.textContent=""):d.textContent=
d.hh;else if("slot"===d.localName)if(a)d.gh=document.createComment("hidden-slot"),M(M(d).parentNode).replaceChild(d.gh,d);else{const e=d.gh;e&&M(M(e).parentNode).replaceChild(d,e)}else d.style&&(a?(d.oj=d.style.display,d.style.display="none"):d.style.display=d.oj);d.qf=a;d._showHideChildren&&d._showHideChildren(a)}}_setUnmanagedPropertyToNode(a,b,c){a.qf&&a.nodeType==Node.TEXT_NODE&&"textContent"==b?a.hh=c:super._setUnmanagedPropertyToNode(a,b,c)}get parentModel(){let a=this.nj;if(!a){let b;a=this;
do a=a.__dataHost.__dataHost;while((b=a.oe)&&!b.parentModel);this.nj=a}return a}dispatchEvent(){return!0}}const Tg=af(Sg);function Ug(a){return(a=a.__dataHost)&&a._methodHost||a}function Vg(a){return function(b,c,d){a.call(b.wc,c.substring(6),d[c])}}function Wg(a){return function(b,c,d){a.call(b.wc,b,c,d[c])}}function Xg(){return function(a,b,c){a.__dataHost._setPendingPropertyOrPath("_host_"+b,c[b],!0,!0)}}
function Yg(a,b,c){if(Bf&&!Ug(a))throw Error("strictTemplatePolicy: template owner not trusted");c=c||{};if(a.wc)throw Error("A <template> can only be templatized once");a.wc=b;let d=(b?b.constructor:Sg)._parseTemplate(a);var e=d.bl;if(!e){e=c;var f=e.mutableData?Tg:Sg;Yg.mixin&&(f=Yg.mixin(f));var g=class extends f{};g.prototype.oe=e;g.prototype._bindTemplate(a);f=g;var h=d.hostProps||{};for(var k in e.instanceProps){delete h[k];var m=e.notifyInstanceProp;m&&f.prototype._addPropertyEffect(k,f.prototype.PROPERTY_EFFECT_TYPES.vg,
{ib:Wg(m)})}if(e.forwardHostProp&&a.__dataHost)for(var n in h)d.ei||(d.ei=!0),f.prototype._addPropertyEffect(n,f.prototype.PROPERTY_EFFECT_TYPES.vg,{ib:Xg()});e=g;d.bl=e}k=Ug(a);f=c;if((g=f.forwardHostProp)&&d.ei){c="template"==a.localName;n=d.zi;if(!n){if(c){n=f.mutableData?Qg:Pg;class y extends n{}n=d.zi=y}else{n=a.constructor;class y extends n{}n=d.zi=y}h=d.hostProps;for(var r in h)n.prototype._addPropertyEffect("_host_"+r,n.prototype.PROPERTY_EFFECT_TYPES.gj,{ib:Vg(g)}),n.prototype._createNotifyingProperty("_host_"+
r);if(Ef&&k){r=k.constructor.yb;g=d.propertyEffects;f=f.instanceProps;for(var w in g)if(!(r[w]||f&&f[w]))for(h=g[w],m=0;m<h.length;m++){const {ae:y}=h[m].info;if(!y.signature||!y.signature.static){console.warn(`Property '${w}' used in template but not `+"declared in 'properties'; attribute will not be observed.");break}}}}a.kb&&Object.assign(a.__data,a.kb);if(c){var u=n;Ng=a;Object.setPrototypeOf(a,u.prototype);new u;Ng=null;a.__dataTemp={};a.__dataPending=null;a.__dataOld=null;a._enableProperties()}else for(u in Object.setPrototypeOf(a,
n.prototype),w=d.hostProps,w)u="_host_"+u,u in a&&(w=a[u],delete a[u],a.__data[u]=w)}u=class extends e{};u.prototype._methodHost=k;u.prototype.__dataHost=a;u.prototype.wc=b;u.prototype.lj=d.hostProps;return u};let Zg={},$g={};
class ah extends HTMLElement{static get observedAttributes(){return["id"]}static import(a,b){return a?(a=Zg[a]||$g[a.toLowerCase()])&&b?a.querySelector(b):a:null}attributeChangedCallback(a,b,c){b!==c&&this.register()}get assetpath(){if(!this.h){var a=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument;a=tf(this.getAttribute("assetpath")||"",a.baseURI);this.h=vf(a)}return this.h}register(a){if(a=a||this.id){if(Bf&&void 0!==(Zg[a]||$g[a.toLowerCase()]))throw Zg[a]=
$g[a.toLowerCase()]=null,Error(`strictTemplatePolicy: dom-module ${a} re-registered`);this.id=a;Zg[a]=$g[a.toLowerCase()]=this;this.querySelector("style")&&console.warn("dom-module %s has style outside template",this.id)}}}ah["import"]=ah.import;ah.prototype.modules=Zg;customElements.define("dom-module",ah);let bh=0;const ch=[];function _regLog$$module$third_party$javascript$polymer$v2$polymer$lib$utils$telemetry(a){console.log("["+a.is+"]: registered")};const dh=Ze(a=>{function b(e){e=Object.getPrototypeOf(e);return e.prototype instanceof d?e:null}function c(e){if(!e.hasOwnProperty("fh")){var f=null;if(e.hasOwnProperty("properties")){var g=e.properties;if(g){f=g;g={};for(let h in f){const k=f[h];g[h]="function"===typeof k?{type:k}:k}f=g}}e.fh=f}return e.fh}a=Sf(a);class d extends a{static get observedAttributes(){if(!this.hasOwnProperty("dh")){ch.push(this.prototype);const e=this.yb;this.dh=e?Object.keys(e).map(f=>this.prototype._addPropertyToAttributeMap(f)):
[]}return this.dh}static finalize(){if(!this.hasOwnProperty("kj")){const e=b(this);e&&e.finalize();this.kj=!0;this._finalizeClass()}}static _finalizeClass(){const e=c(this);e&&this.createProperties(e)}static get yb(){if(!this.hasOwnProperty("ih")){const e=b(this);this.ih=Object.assign({},e&&e.yb,c(this))}return this.ih}static typeForProperty(e){return(e=this.yb[e])&&e.type}_initializeProperties(){bh++;this.constructor.finalize();super._initializeProperties()}connectedCallback(){super.connectedCallback&&
super.connectedCallback();this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return d});function eh(a){a=uf((a.body?a.body:a).textContent,a.baseURI);const b=document.createElement("style");b.textContent=a;return b}
function fh(a){a=a.trim().split(/\s+/);const b=[];for(let g=0;g<a.length;g++){var c=b,d=c.push,e;var f=a[g];if(e=ah.import(f)){if(void 0===e.g){f=[];f.push(..._stylesFromModuleImports$$module$third_party$javascript$polymer$v2$polymer$lib$utils$style_gather(e));const h=e.querySelector("template");h&&f.push(...gh(h,e.assetpath));e.g=f}e=e.g}else console.warn("Could not find style data in module named",f),e=[];d.call(c,...e)}return b}
function gh(a,b){if(!a.g){const c=[],d=a.content.querySelectorAll("style");for(let e=0;e<d.length;e++){let f=d[e],g=f.getAttribute("include");g&&c.push(...fh(g).filter(function(h,k,m){return m.indexOf(h)===k}));b&&(f.textContent=uf(f.textContent,b));c.push(f)}a.g=c}return a.g}function hh(a){return(a=ah.import(a))?_stylesFromModuleImports$$module$third_party$javascript$polymer$v2$polymer$lib$utils$style_gather(a):[]}
function _stylesFromModuleImports$$module$third_party$javascript$polymer$v2$polymer$lib$utils$style_gather(a){const b=[];a=a.querySelectorAll("link[rel=import][type~=css]");for(let d=0;d<a.length;d++){var c=a[d];if(c.import){const e=c.import;if((c=c.hasAttribute("shady-unscoped"))&&!e.nh){const f=eh(e);f.setAttribute("shady-unscoped","");e.nh=f}else e.mh||(e.mh=eh(e));b.push(c?e.nh:e.mh)}}return b}
function _cssFromModuleImports$$module$third_party$javascript$polymer$v2$polymer$lib$utils$style_gather(a){let b="";a=_stylesFromModuleImports$$module$third_party$javascript$polymer$v2$polymer$lib$utils$style_gather(a);for(let c=0;c<a.length;c++)b+=a[c].textContent;return b};const ih=window.ShadyCSS&&window.ShadyCSS.cssBuild,jh=Ze(a=>{function b(e,f,g,h){if(!ih){const w=f.content.querySelectorAll("style"),u=gh(f);var k=hh(g),m=f.content.firstElementChild;for(var n=0;n<k.length;n++){var r=k[n];r.textContent=e._processStyleText(r.textContent,h);f.content.insertBefore(r,m)}k=0;for(m=0;m<u.length;m++)n=u[m],r=w[k],r!==n?(n=n.cloneNode(!0),r.parentNode.insertBefore(n,r)):k++,n.textContent=e._processStyleText(n.textContent,h)}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(f,
g);if(Lf&&ih&&yf&&(f=f.content.querySelectorAll("style"))){let w="";Array.from(f).forEach(u=>{w+=u.textContent;u.parentNode.removeChild(u)});e.zf=new CSSStyleSheet;e.zf.replaceSync(w)}}const c=dh(Mg(a));class d extends c{static _finalizeClass(){c._finalizeClass.call(this);var e;this.hasOwnProperty("eh")||(this.eh=this.hasOwnProperty("observers")?this.observers:null);(e=this.eh)&&this.createObservers(e,this.yb);this._prepareTemplate()}static _prepareTemplate(){let e=this.template;e&&("string"===typeof e?
(console.error("template getter must return HTMLTemplateElement"),e=null):Df||(e=e.cloneNode(!0)));this.prototype._template=e}static createProperties(e){for(let m in e){var f=this.prototype,g=m,h=e[m],k=e;h.computed&&(h.readOnly=!0);h.computed&&(f._hasReadOnlyEffect(g)?console.warn(`Cannot redefine computed property '${g}'.`):f._createComputedProperty(g,h.computed,k));h.readOnly&&!f._hasReadOnlyEffect(g)?f._createReadOnlyProperty(g,!h.computed):!1===h.readOnly&&f._hasReadOnlyEffect(g)&&console.warn(`Cannot make readOnly property '${g}' non-readOnly.`);
h.reflectToAttribute&&!f._hasReflectEffect(g)?f._createReflectedProperty(g):!1===h.reflectToAttribute&&f._hasReflectEffect(g)&&console.warn(`Cannot make reflected property '${g}' non-reflected.`);h.notify&&!f._hasNotifyEffect(g)?f._createNotifyingProperty(g):!1===h.notify&&f._hasNotifyEffect(g)&&console.warn(`Cannot make notify property '${g}' non-notify.`);h.observer&&f._createPropertyObserver(g,h.observer,k[h.observer]);f._addPropertyToAttributeMap(g)}}static createObservers(e,f){const g=this.prototype;
for(let h=0;h<e.length;h++)g._createMethodObserver(e[h],f)}static get template(){if(!this.hasOwnProperty("_template")){var e=this.prototype.hasOwnProperty("_template")?this.prototype._template:void 0;"function"===typeof e&&(e=e());if(void 0===e){if(e=this.hasOwnProperty("is")){e=this.is;let f=null;if(e&&(!Bf||Cf)&&(f=ah.import(e,"template"),Bf&&!f))throw Error(`strictTemplatePolicy: expecting dom-module or null template for ${e}`);e=f}e=e||Object.getPrototypeOf(this.prototype).constructor.template}this._template=
e}return this._template}static set template(e){this._template=e}static get importPath(){if(!this.hasOwnProperty("_importPath")){var e=this.op;e?this._importPath=vf(e.url):this._importPath=(e=ah.import(this.is))&&e.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}return this._importPath}constructor(){super()}_initializeProperties(){this.constructor.finalize();this.constructor._finalizeTemplate(this.localName);super._initializeProperties();this.rootPath=zf;this.importPath=this.constructor.importPath;
var e=this.constructor;if(!e.hasOwnProperty("hd")){e.hd=null;var f=e.yb;for(let g in f){let h=f[g];"value"in h&&(e.hd=e.hd||{},e.hd[g]=h)}}if(e=e.hd)for(let g in e)f=e[g],this._canApplyPropertyDefault(g)&&(f="function"==typeof f.value?f.value.call(this):f.value,this._hasAccessor(g)?this._setPendingProperty(g,f,!0):this[g]=f)}_canApplyPropertyDefault(e){return!this.hasOwnProperty(e)}static _processStyleText(e,f){return uf(e,f)}static _finalizeTemplate(e){const f=this.prototype._template;if(f&&!f.h){f.h=
!0;var g=this.importPath;g=g?tf(g):"";b(this,f,e,g);this.prototype._bindTemplate(f)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this);super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$);super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root));super._readyClients()}_attachDom(e){const f=M(this);if(f.attachShadow)return e?(f.shadowRoot||(f.attachShadow({mode:"open",xp:e}),
f.shadowRoot.appendChild(e),this.constructor.zf&&(f.shadowRoot.adoptedStyleSheets=[this.constructor.zf])),Ff&&window.ShadyDOM&&window.ShadyDOM.flushInitial(f.shadowRoot),f.shadowRoot):null;throw Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.");}updateStyles(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}resolveUrl(e,f){!f&&this.importPath&&(f=tf(this.importPath));return tf(e,f)}static _parseTemplateContent(e,
f,g){f.vh=f.vh||this.yb;return c._parseTemplateContent.call(this,e,f,g)}static _addTemplatePropertyEffect(e,f,g){!Ef||f in this.yb||g.info.ae.signature&&g.info.ae.signature.static||g.info.ae.fk||e.nk||console.warn(`Property '${f}' used in template but not declared in 'properties'; `+"attribute will not be observed.");return c._addTemplatePropertyEffect.call(this,e,f,g)}}return d});/*

Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
window.trustedTypes&&trustedTypes.createPolicy("polymer-html-literal",{createHTML:a=>a});const kh=jh(HTMLElement);const lh=bf(kh);
class mh extends lh{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:mh.prototype.__sortChanged},filter:{type:Function,observer:mh.prototype.__filterChanged},observe:{type:String,observer:mh.prototype.__observeChanged},delay:Number,renderedItemCount:{type:Number,notify:!Kf,readOnly:!0},initialCount:{type:Number},
targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super();this.sa=[];this.uf=null;this.bh={};this.jh=this.tc=null;this.wf=this.xf=this.sf=!1;this.uc=0;this.nf=this.tf=this.me=this.ne=null;this.rf=!0;this.template=null}disconnectedCallback(){super.disconnectedCallback();this.rf=!0;for(let a=0;a<
this.sa.length;a++)this.__detachInstance(a);this.uc&&cancelAnimationFrame(this.uc)}connectedCallback(){super.connectedCallback();if(Df&&!wf){if(!Mf){Mf=!0;var a=document.createElement("style");a.textContent="dom-bind,dom-if,dom-repeat{display:none;}";document.head.appendChild(a)}a=!0}else a=!1;a||(this.style.display="none");if(this.rf){this.rf=!1;a=M(M(this).parentNode);for(let b=0;b<this.sa.length;b++)this.__attachInstance(b,a);this.uc&&this.__render()}}__ensureTemplatized(){if(!this.nf){let a=this.template=
this._templateInfo?this:this.querySelector("template");if(!a){let c=new MutationObserver(()=>{if(this.querySelector("template"))c.disconnect(),this.__render();else throw Error("dom-repeat requires a <template> child");});c.observe(this,{childList:!0});return!1}let b={};b[this.as]=!0;b[this.indexAs]=!0;b[this.itemsIndexAs]=!0;this.nf=Yg(a,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:b,forwardHostProp:function(c,d){let e=this.sa;for(let f=0,g;f<e.length&&(g=e[f]);f++)g.forwardHostProp(c,
d)},notifyInstanceProp:function(c,d,e){var f=this.as;if(f===d||0===f.indexOf(d+".")||0===d.indexOf(f+"."))c=c[this.itemsIndexAs],d==this.as&&(this.items[c]=e),d=`${"items"}.${c}`+d.slice(this.as.length),this.notifyPath(d,e)}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(a){if("string"===typeof a){let b=this.__getMethodHost();return function(){return b[a].apply(b,arguments)}}return a}__sortChanged(a){this.ne=this.__functionFromPropertyValue(a);
this.items&&this.__debounceRender(this.__render)}__filterChanged(a){this.me=this.__functionFromPropertyValue(a);this.items&&this.__debounceRender(this.__render)}__computeFrameTime(a){return Math.ceil(1E3/a)}__observeChanged(){this.tf=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(a){if(this.ne||this.me)if(!a)this.__debounceRender(this.__render,this.delay);else if(this.tf){let b=this.tf;for(let c=0;c<b.length;c++)0===a.indexOf(b[c])&&this.__debounceRender(this.__render,
this.delay)}}__itemsChanged(a){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items);this.__handleItemPath(a.path,a.value)||("items"===a.path&&(this.sf=!0),this.__debounceRender(this.__render))}__debounceRender(a,b=0){var c=this.uf;b=0<b?kf(b):lf;a=a.bind(this);c instanceof mf?c._cancelAsync():c=new mf;c.setConfig(b,a);this.uf=c;nf.add(this.uf)}render(){this.__debounceRender(this.__render);let a,b;do a=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&
window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),b=of();while(a||b)}__render(){if(this.__ensureTemplatized()){var a=this.items||[],b=this.__sortAndFilterItems(a),c=this.__calculateLimit(b.length);this.__updateInstances(a,c,b);this.initialCount&&(this.xf||this.wf)&&(cancelAnimationFrame(this.uc),this.uc=requestAnimationFrame(()=>{this.uc=null;this.__continueChunking()}));this._setRenderedItemCount(this.sa.length);Kf&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",
{bubbles:!0,composed:!0}))}}__sortAndFilterItems(a){let b=Array(a.length);for(let c=0;c<a.length;c++)b[c]=c;this.me&&(b=b.filter((c,d,e)=>this.me(a[c],d,e)));this.ne&&b.sort((c,d)=>this.ne(a[c],a[d]));return b}__calculateLimit(a){let b=a;const c=this.sa.length;if(this.initialCount){let d;!this.tc||this.sf&&!this.reuseChunkedInstances?(b=Math.min(a,this.initialCount),this.tc=(d=Math.max(b-c,0))||1):(d=Math.min(Math.max(a-c,0),this.tc),b=Math.min(c+d,a));this.xf=d===this.tc;this.wf=b<a;this.jh=performance.now()}this.sf=
!1;return b}__continueChunking(){this.xf&&(this.tc=Math.round(this._targetFrameTime/(performance.now()-this.jh)*this.tc)||1);this.wf&&this.__debounceRender(this.__render)}__updateInstances(a,b,c){const d=this.bh={};let e;for(e=0;e<b;e++){let f=this.sa[e],g=c[e],h=a[g];d[g]=e;f?(f._setPendingProperty(this.as,h),f._setPendingProperty(this.indexAs,e),f._setPendingProperty(this.itemsIndexAs,g),f._flushProperties()):this.__insertInstance(h,e,g)}for(a=this.sa.length-1;a>=e;a--)this.__detachAndRemoveInstance(a)}__detachInstance(a){a=
this.sa[a];const b=M(a.root);for(let c=0;c<a.children.length;c++)b.appendChild(a.children[c]);return a}__attachInstance(a,b){b.insertBefore(this.sa[a].root,this)}__detachAndRemoveInstance(a){this.__detachInstance(a);this.sa.splice(a,1)}__stampInstance(a,b,c){let d={};d[this.as]=a;d[this.indexAs]=b;d[this.itemsIndexAs]=c;return new this.nf(d)}__insertInstance(a,b,c){a=this.__stampInstance(a,b,c);c=(c=this.sa[b+1])?c.children[0]:this;M(M(this).parentNode).insertBefore(a.root,c);return this.sa[b]=a}_showHideChildren(a){for(let b=
0;b<this.sa.length;b++)this.sa[b]._showHideChildren(a)}__handleItemPath(a,b){var c=a.slice(6);let d=c.indexOf(".");a=0>d?c:c.substring(0,d);if(a==parseInt(a,10)){c=0>d?"":c.substring(d+1);this.__handleObservedPaths(c);if(a=this.sa[this.bh[a]])a._setPendingPropertyOrPath(this.as+(c?"."+c:""),b,!1,!0),a._flushProperties();return!0}}itemForElement(a){return(a=this.modelForElement(a))&&a[this.as]}indexForElement(a){return(a=this.modelForElement(a))&&a[this.indexAs]}modelForElement(a){a:{var b=this.template;
let c;for(;a;)if(c=a.__dataHost?a:a.qj)if(c.__dataHost!=b)a=c.__dataHost;else{b=c;break a}else a=M(a).parentNode;b=null}return b}}mh.prototype._setRenderedItemCount=function(){};customElements.define(mh.is,mh);var nh=class extends Ee{constructor(){super(...arguments);this.selectedColor="#000000";this.colors=[{hex:"#000000",name:"Black"},{hex:"#5f6368",name:"Grey 700"},{hex:"#9aa0a6",name:"Grey 500"},{hex:"#dadce0",name:"Grey 300"},{hex:"#f1f3f4",name:"Grey 100"},{hex:"#ffffff",name:"White"},{hex:"#f28b82",name:"Red 300"},{hex:"#fdd663",name:"Yellow 300"},{hex:"#81c995",name:"Green 300"},{hex:"#78d9ec",name:"Cyan 300"},{hex:"#8ab4f8",name:"Blue 300"},{hex:"#c58af9",name:"Purple 300"},{hex:"#ea4335",name:"Red 500"},
{hex:"#fbbc04",name:"Yellow 500"},{hex:"#34a853",name:"Green 500"},{hex:"#24c1e0",name:"Cyan 500"},{hex:"#4285f4",name:"Blue 500"},{hex:"#a142f4",name:"Purple 500"},{hex:"#c5221f",name:"Red 700"},{hex:"#f29900",name:"Yellow 700"},{hex:"#188038",name:"Green 700"},{hex:"#12a4af",name:"Cyan 700"},{hex:"#1967d2",name:"Blue 700"},{hex:"#8430ce",name:"Purple 700"}]}static get g(){return Sd`
      :host {
        display: block;
        --blue-600: #1a73e8;
        --blue-600-opacity-10: #1a73e81a;
        --color-border: 1px;
        --color-size: 24px;
        --grey-200: #e8eaed;
        --grey-900: #202124;
        --grid-cell-size: 48px;
        --padding-divide-size: 20px;
        --tab_underline-size: 1px;
      }
      :host > div {
        padding: 0 var(--padding-divide-size);
      }
      #palette form {
        margin: 0;
      }
      .swatches {
        display: grid;
        grid-auto-rows: var(--grid-cell-size);
        grid-template-columns: repeat(6, var(--grid-cell-size));
      }
      /* Color styling from chrome/apps/drawing/client/ui/color_palette. */
      #palette label.color-item {
        -webkit-tap-highlight-color: transparent;
        align-items: center;
        box-sizing: border-box;
        cursor: pointer;
        display: inline-flex;
        height: var(--grid-cell-size);
        justify-content: center;
        position: relative;
        width: var(--grid-cell-size);
      }
      #palette input {
        /* Restyle <input> radio button to a simple circle that enlarges with
           :checked state. */
        -webkit-appearance: none;
        border-radius: calc(var(--color-size) * 0.5);
        cursor: pointer;
        height: var(--color-size);
        line-height: 0;
        margin: 0;
        width: var(--color-size);
      }
      #palette input:focus {
        box-shadow: var(--pointer-focus-box-shadow, 0 0 0 2px #1A73E87f);
        outline: none;
      }
      #palette input:checked {
        --color-size: 36px;
      }
      /* Add a border on the white swatch. */
      #palette input[value="#ffffff"] {
        border: 1px solid var(--grey-200);
      }
    `}render(){return xd`
      <div id="palette">
        <div id="color-container" class="swatches">
           ${this.colors.map(a=>xd`
             <label
                class="color-item"
                aria-label="${a.name}"
                for="${a.hex}"
                title="${a.name}">
              <input
                  id="${a.hex}"
                  type="radio"
                  name="color-swatch"
                  style=${Xe({backgroundColor:`${a.hex}`})}
                  value="${a.hex}" />
            </label>
           `)}
        </div>
      </div>
    `}ba(){this.uk.addEventListener("change",a=>{a=a.target;a.value&&(this.selectedColor=a.value)})}bc(a){if(a.has("selectedColor")){this.dispatchEvent(new CustomEvent("color",{detail:this.selectedColor}));for(const b of this.hk)b.checked=b.value===this.selectedColor}}};t([Ve("#palette"),v(HTMLElement)],nh.prototype,"uk",void 0);t([Ue("input"),v(Array)],nh.prototype,"hk",void 0);t([Te({type:String}),v(Object)],nh.prototype,"selectedColor",void 0);
t([Te({type:Array}),v(Array)],nh.prototype,"colors",void 0);nh=t([Qe("color-picker")],nh);var oh={xl:0,gm:1,fm:2,cm:3,dm:4,sl:5,rl:6,pl:7,ql:8,so:9,ro:10,po:11,qo:12,jo:13},ph={wl:0,lm:1,ll:2,vn:3,jm:4};function qh(){B.call(this)}q(qh,B);var rh=null;function sh(){B.call(this)}q(sh,B);var th=null;sh.prototype.dg=function(){return G(this,5)};sh.prototype.ef=function(a){F(this,5,a)};sh.prototype.hasAttributes=function(){return D(this,5)};function uh(){B.call(this)}q(uh,B);var vh=null;l=uh.prototype;l.lb=function(){return G(this,1)};l.cb=function(a){F(this,1,a)};
l.pc=function(){return E(this,3)};l.wb=function(a){F(this,3,a)};l.kg=function(){return D(this,3)};function wh(){B.call(this)}q(wh,B);var xh=null;function yh(){B.call(this)}q(yh,B);var zh=null;yh.prototype.ac=function(){return G(this,1)};yh.prototype.xb=function(a){F(this,1,a)};function Ah(){B.call(this)}q(Ah,B);var Bh=null;l=Ah.prototype;l.lb=function(){return G(this,1)};l.cb=function(a){F(this,1,a)};l.pc=function(){return E(this,3)};l.wb=function(a){F(this,3,a)};l.kg=function(){return D(this,3)};
l.ud=function(){return E(this,4)};l.ac=function(){return G(this,5)};l.xb=function(a){F(this,5,a)};l.ve=function(){return G(this,6)};l.df=function(a){F(this,6,a)};l.hg=function(){return E(this,7)};l.ai=function(){return G(this,7)};l.gf=function(a){F(this,7,a)};l.fi=function(){return D(this,7)};l.rd=function(){return E(this,9)};function Ch(){B.call(this)}q(Ch,B);var Dh=null;l=Ch.prototype;l.lb=function(){return G(this,1)};l.cb=function(a){F(this,1,a)};l.vd=function(){return G(this,2)};
l.be=function(a){F(this,2,a)};l.si=function(a){F(this,3,a)};l.tg=function(a){F(this,4,a)};function Eh(){B.call(this)}q(Eh,B);var Fh=null;function Gh(){B.call(this)}q(Gh,B);var Hh=null;l=Gh.prototype;l.ta=function(){return E(this,1)};l.ua=function(){return G(this,1)};l.ya=function(a){F(this,1,a)};l.lb=function(){return G(this,2)};l.cb=function(a){F(this,2,a)};l.si=function(a){F(this,3,a)};l.tg=function(a){F(this,5,a)};
qh.prototype.l=function(){var a=rh;a||(rh=a=H(qh,{0:{name:"FontAttributes",ca:"ink.proto.text.FontAttributes"},1:{name:"family",j:9,type:String},2:{name:"is_italic",j:8,type:Boolean},3:{name:"weight",j:5,defaultValue:400,type:Number}}));return a};qh.l=qh.prototype.l;
sh.prototype.l=function(){var a=th;a||(th=a=H(sh,{0:{name:"Font",ca:"ink.proto.text.Font"},1:{name:"postscript_font",j:14,defaultValue:0,type:oh},2:{name:"name",j:9,type:String},5:{name:"attributes",j:11,type:qh},3:{name:"asset_id",j:9,type:String},4:{name:"resource_id",j:13,type:Number}}));return a};sh.l=sh.prototype.l;
uh.prototype.l=function(){var a=vh;a||(vh=a=H(uh,{0:{name:"Line",ca:"ink.proto.text.Line"},1:{name:"text",j:9,type:String},2:{name:"origin_fraction",j:11,type:I},3:{name:"font",j:11,type:sh}}));return a};uh.l=uh.prototype.l;wh.prototype.l=function(){var a=xh;a||(xh=a=H(wh,{0:{name:"Layout",ca:"ink.proto.text.Layout"},1:{name:"line",na:!0,j:11,type:uh}}));return a};wh.l=wh.prototype.l;
yh.prototype.l=function(){var a=zh;a||(zh=a=H(yh,{0:{name:"DropShadow",ca:"ink.proto.text.DropShadow"},1:{name:"rgba",j:13,type:Number},2:{name:"radius_fraction",j:2,type:Number},3:{name:"dx_fraction",j:2,type:Number},4:{name:"dy_fraction",j:2,type:Number}}));return a};yh.l=yh.prototype.l;
Ah.prototype.l=function(){var a=Bh;a||(Bh=a=H(Ah,{0:{name:"Text",ca:"ink.proto.text.Text"},1:{name:"text",j:9,type:String},3:{name:"font",j:11,type:sh},4:{name:"font_size_fraction",j:2,type:Number},5:{name:"rgba",j:13,defaultValue:255,type:Number},6:{name:"alignment",j:14,defaultValue:0,type:ph},7:{name:"shadow",j:11,type:yh},8:{name:"layout",j:11,type:wh},9:{name:"background_color",j:11,type:Lb},10:{name:"border_color",j:11,type:Lb},11:{name:"border_width_fraction",j:2,type:Number},12:{name:"padding_fraction",
j:2,type:Number}}));return a};Ah.l=Ah.prototype.l;Ch.prototype.l=function(){var a=Dh;a||(Dh=a=H(Ch,{0:{name:"AddText",ca:"ink.proto.text.AddText"},1:{name:"text",j:11,type:Ah},2:{name:"group_uuid",j:9,type:String},3:{name:"bounds_world",j:11,type:K},4:{name:"bounds_screen",j:11,type:Pb}}));return a};Ch.l=Ch.prototype.l;
Eh.prototype.l=function(){var a=Fh;a||(Fh=a=H(Eh,{0:{name:"RelativeSize",ca:"ink.proto.text.RelativeSize"},1:{name:"width_multiplier",j:2,type:Number},2:{name:"height_multiplier",j:2,type:Number}}));return a};Eh.l=Eh.prototype.l;
Gh.prototype.l=function(){var a=Hh;a||(Hh=a=H(Gh,{0:{name:"UpdateText",ca:"ink.proto.text.UpdateText"},1:{name:"uuid",j:9,type:String},2:{name:"text",j:11,type:Ah},3:{name:"bounds_world",j:11,type:K},4:{name:"relative_size",j:11,type:Eh},5:{name:"bounds_screen",j:11,type:Pb}}));return a};Gh.l=Gh.prototype.l;var Ih={co:0,bo:1,zn:2,ao:3},Jh={nm:0,om:1,pm:2};function Kh(){B.call(this)}q(Kh,B);var Lh=null,Mh={vo:0,yo:1,POINTS:2,zo:3,xo:6,on:4,pn:5};function Nh(){B.call(this)}q(Nh,B);var Oh=null;function Ph(){B.call(this)}q(Ph,B);var Qh=null;Ph.prototype.ma=function(){return E(this,1)};Ph.prototype.setFillColor=function(a){F(this,2,a)};function Rh(){B.call(this)}q(Rh,B);var Sh=null;l=Rh.prototype;l.pc=function(){return E(this,1)};l.wb=function(a){F(this,1,a)};l.kg=function(){return D(this,1)};
l.ve=function(){return G(this,2)};l.df=function(a){F(this,2,a)};l.hg=function(){return E(this,3)};l.ai=function(){return G(this,3)};l.gf=function(a){F(this,3,a)};l.fi=function(){return D(this,3)};l.rd=function(){return E(this,4)};function Th(){B.call(this)}q(Th,B);var Uh=null;Th.prototype.eg=function(){return G(this,1)};Th.prototype.setColor=function(a){F(this,1,a)};Th.prototype.di=function(){return D(this,1)};Th.prototype.clearColor=function(){Hb(this,1)};function Vh(){B.call(this)}q(Vh,B);
var Wh=null,Xh={wg:0,bm:1,fo:2,qn:3,oo:4};function Yh(){B.call(this)}q(Yh,B);var Zh=null,$h={wo:0,wn:1,ho:2,xn:3};function ai(){B.call(this)}q(ai,B);var bi=null;ai.prototype.bi=function(){return G(this,2)};ai.prototype.vi=function(a){F(this,2,a)};ai.prototype.gi=function(){return D(this,2)};function ci(){B.call(this)}q(ci,B);var di=null;function ei(){B.call(this)}q(ei,B);var fi=null,gi={uo:0,kl:1,im:2,um:3,jl:4,to:15,zl:6,hm:8,nn:12,ml:13,rn:14};function hi(){B.call(this)}q(hi,B);var ii=null;
function ji(){B.call(this)}q(ji,B);var ki=null;ji.prototype.o=function(a){F(this,1,a)};ji.prototype.ac=function(){return G(this,2)};ji.prototype.xb=function(a){F(this,2,a)};var li={wg:0,mm:1,yl:2,tm:3,tn:4,vm:5,sn:7,tl:8,mo:9,io:10,eo:11,am:12,lo:13,no:14,vl:15,sm:16,rm:17,qm:18,yn:19,ko:20};Kh.prototype.l=function(){var a=Lh;a||(Lh=a=H(Kh,{0:{name:"ToolSize",ca:"ink.proto.ToolSize"},7:{name:"stroke_width",j:2,type:Number},8:{name:"units",j:14,defaultValue:1,type:Mh}}));return a};Kh.l=Kh.prototype.l;
Nh.prototype.l=function(){var a=Oh;a||(Oh=a=H(Nh,{0:{name:"PusherToolParams",ca:"ink.proto.PusherToolParams"},1:{name:"manipulate_stickers",j:8,type:Boolean},2:{name:"manipulate_text",j:8,type:Boolean}}));return a};Nh.l=Nh.prototype.l;
Ph.prototype.l=function(){var a=Qh;a||(Qh=a=H(Ph,{0:{name:"ShapeToolParams",ca:"ink.proto.ShapeToolParams"},1:{name:"shape_kind",j:14,defaultValue:0,type:Ih},2:{name:"fill_color",j:11,type:Lb},3:{name:"start_linecap",j:14,defaultValue:0,type:Jh},4:{name:"end_linecap",j:14,defaultValue:0,type:Jh}}));return a};Ph.l=Ph.prototype.l;
Rh.prototype.l=function(){var a=Sh;a||(Sh=a=H(Rh,{0:{name:"TextToolParams",ca:"ink.proto.TextToolParams"},1:{name:"font",j:11,type:sh},2:{name:"alignment",j:14,defaultValue:0,type:ph},3:{name:"shadow",j:11,type:Th},4:{name:"background_color",j:11,type:Lb},5:{name:"border_color",j:11,type:Lb}}));return a};Rh.l=Rh.prototype.l;
Th.prototype.l=function(){var a=Uh;a||(Uh=a=H(Th,{0:{name:"TextToolShadowParams",ca:"ink.proto.TextToolShadowParams"},1:{name:"color",j:11,type:Lb},2:{name:"radius_fraction_of_font_size",j:2,type:Number},3:{name:"dx_fraction_of_font_size",j:2,type:Number},4:{name:"dy_fraction_of_font_size",j:2,type:Number}}));return a};Th.l=Th.prototype.l;
Vh.prototype.l=function(){var a=Wh;a||(Wh=a=H(Vh,{0:{name:"TipShapeParams",ca:"ink.proto.TipShapeParams"},1:{name:"size_ratio",j:2,defaultValue:1,type:Number},2:{name:"radius_behavior",j:14,defaultValue:1,type:Xh},3:{name:"max_radius_speed_cm_per_sec",j:2,defaultValue:200,type:Number},4:{name:"min_radius_speed_cm_per_sec",j:2,defaultValue:0,type:Number},5:{name:"size_drag_factor",j:2,defaultValue:.85,type:Number}}));return a};Vh.l=Vh.prototype.l;
Yh.prototype.l=function(){var a=Zh;a||(Zh=a=H(Yh,{0:{name:"CustomLineParams",ca:"ink.proto.CustomLineParams"},3:{name:"tip_shape_params",j:11,type:Vh},4:{name:"expand_small_strokes",j:8,defaultValue:!1,type:Boolean},5:{name:"tip_type",j:14,defaultValue:1,type:$h}}));return a};Yh.l=Yh.prototype.l;ai.prototype.l=function(){var a=bi;a||(bi=a=H(ai,{0:{name:"TextPusherToolParams",ca:"ink.proto.TextPusherToolParams"},1:{name:"pusher_params",j:11,type:Nh},2:{name:"text_params",j:11,type:Rh}}));return a};
ai.l=ai.prototype.l;ci.prototype.l=function(){var a=di;a||(di=a=H(ci,{0:{name:"LineEffectParams",ca:"ink.proto.LineEffectParams"},1:{name:"texture_uri",j:9,type:String},2:{name:"winding_texture_period",j:11,type:Kh},3:{name:"u_animation_duration_seconds",j:2,defaultValue:0,type:Number},4:{name:"tiled_texture_scale",j:2,defaultValue:100,type:Number}}));return a};ci.l=ci.prototype.l;
ei.prototype.l=function(){var a=fi;a||(fi=a=H(ei,{0:{name:"LineToolParams",ca:"ink.proto.LineToolParams"},1:{name:"brush_type",j:14,defaultValue:0,type:gi},2:{name:"custom_line_params",j:11,type:Yh},3:{name:"line_effect_params",j:11,type:ci}}));return a};ei.l=ei.prototype.l;hi.prototype.l=function(){var a=ii;a||(ii=a=H(hi,{0:{name:"MagicEraserToolParams",ca:"ink.proto.MagicEraserToolParams"},1:{name:"erase_text",j:8,defaultValue:!0,type:Boolean}}));return a};hi.l=hi.prototype.l;
ji.prototype.l=function(){var a=ki;a||(ki=a=H(ji,{0:{name:"ToolParams",ca:"ink.proto.ToolParams"},1:{name:"tool",j:14,defaultValue:0,type:li},2:{name:"rgba",j:13,type:Number},3:{name:"tool_size",j:11,type:Kh},4:{name:"pusher_tool_params",j:11,type:Nh},8:{name:"shape_tool_params",j:11,type:Ph},7:{name:"text_tool_params",j:11,type:Rh},5:{name:"line_tool_params",j:11,type:ei},21:{name:"text_pusher_tool_params",j:11,type:ai},9:{name:"magic_eraser_tool_params",j:11,type:hi}}));return a};ji.l=ji.prototype.l;var mi=class extends Ee{constructor(){super(...arguments);this.selectedColor="#000000";this.size=12;this.tool="pen"}static get g(){return Le}render(){return xd`
        <div class="tool-properties-container">
          <div id="size">
            <input id="size-slider" class="slider"
                   type="range" min="6" max="100"
                   value="${this.size}"
                   @change=${this.g}>
          </div>
          <color-picker id="color-picker"
            @color=${this.ia}
          ></color-picker>
        </div>
    `}g(a){a=Number(a.target.value);isNaN(a)||(this.size=a,this.dispatchEvent(new CustomEvent("size",{detail:this.size})),this.h())}ia(a){this.selectedColor=a.detail;this.dispatchEvent(new CustomEvent("color",{detail:this.selectedColor}));this.h()}h(){var a=new Kh;F(a,7,this.size);F(a,8,2);"pen"===this.tool?this.dispatchEvent(la({hc:1,ee:this.selectedColor,fe:a})):(a={hc:19,ee:this.selectedColor,fe:a,zk:this.ma(),ik:"arrow"===this.tool},this.dispatchEvent(la(a)))}aa(){this.h()}ma(){switch(this.tool){case "rect":return 1;
case "ellipse":return 2;case "line":case "arrow":return 3;default:return 0}}};t([Ve("#color-picker"),v(nh)],mi.prototype,"tj",void 0);t([Te({type:String,kd:"selected-color",ed:!0}),v(Object)],mi.prototype,"selectedColor",void 0);t([Te({type:Number,ed:!0}),v(Object)],mi.prototype,"size",void 0);t([Te({type:String}),v(Object)],mi.prototype,"tool",void 0);mi=t([Qe("brush-dropdown")],mi);var ni=Sd(['.emojiitem:hover,.selected{outline:#bdc1c6 solid 5px;background:#bdc1c6}:host{display:inline-block;cursor:default;min-width:200px}#emoji-picker,#tone-picker{font-size:1.5em}.emojiitem,.toneitem{margin:2px;padding:2px}.selected{border-radius:5px}.emojiitem:hover{border-radius:100px;cursor:pointer}.toneitem:hover{cursor:pointer}.center{text-align:center}div{padding-bottom:5px}.fitzpatrick-none::after{content:""}.fitzpatrick-2::after{content:"\ud83c\udffb"}.fitzpatrick-3::after{content:"\ud83c\udffc"}.fitzpatrick-4::after{content:"\ud83c\udffd"}.fitzpatrick-5::after{content:"\ud83c\udffe"}.fitzpatrick-6::after{content:"\ud83c\udfff"}']);var oi=class extends Ee{constructor(){super(...arguments);this.tone="";this.aa=()=>{this.dispatchEvent(new CustomEvent("select-text-pusher",{detail:{bubbles:!0,composed:!0}}))}}g(a){this.shadowRoot&&a&&a.target&&(a=new CustomEvent("emoji-added",{detail:{xj:a.target.innerText,size:80},bubbles:!0,composed:!0}),this.dispatchEvent(a))}h(a){if(this.shadowRoot&&a&&a.target){var b=this.shadowRoot.querySelectorAll(".toneitem");a=a.target;for(var c=0;c<b.length;c++)b[c].classList.remove("selected");a.classList.add("selected");
this.tone="";switch(a.id){case "fitz-6":this.tone="\ud83c\udfff";break;case "fitz-5":this.tone="\ud83c\udffe";break;case "fitz-4":this.tone="\ud83c\udffd";break;case "fitz-3":this.tone="\ud83c\udffc";break;case "fitz-2":this.tone="\ud83c\udffb";break;default:this.tone=""}b=this.shadowRoot.querySelectorAll(".supports-tone");for(a=0;a<b.length;a++)if(c=b[a].getAttribute("base-emoji"))b[a].textContent=c+this.tone}}render(){return xd`
      <div class="tool-properties-container">
        <div id="emojis">
          <div id="emoji-picker">
            <div>
              <span class="emojiitem" @click="${this.g}">\ud83d\ude02</span>
              <span class="emojiitem" @click="${this.g}">\ud83e\udd14</span>
              <span class="emojiitem" @click="${this.g}">\ud83d\ude2d</span>
              <span class="emojiitem" @click="${this.g}">\ud83d\ude00</span>
              <span class="emojiitem" @click="${this.g}">\ud83d\ude33</span>
            </div>

            <div>
              <span class="emojiitem" @click="${this.g}">\ud83d\udc40</span>
              <span class="emojiitem" @click="${this.g}">\ud83d\udc96</span>
              <span class="emojiitem" @click="${this.g}">\ud83d\udd25</span>
              <span class="emojiitem supports-tone"
                    base-emoji="\ud83d\udc4f" @click="${this.g}">\ud83d\udc4f</span>
              <span class="emojiitem supports-tone"
                    base-emoji="\ud83d\ude4f" @click="${this.g}">\ud83d\ude4f</span>
            </div>
          </div>
        </div>
        <div id="tone">
          <div id="tone-picker">
            <span class="toneitem fitzpatrick-none selected"
                @click="${this.h}">\ud83d\udc4f</span>
            <span id="fitz-6" class="toneitem fitzpatrick-6"
                @click="${this.h}">\ud83d\udc4f</span>
            <span id="fitz-5" class="toneitem fitzpatrick-5"
                @click="${this.h}">\ud83d\udc4f</span>
            <span id="fitz-4" class="toneitem fitzpatrick-4"
                @click="${this.h}">\ud83d\udc4f</span>
            <span id="fitz-3" class="toneitem fitzpatrick-3"
                @click="${this.h}">\ud83d\udc4f</span>
            <span id="fitz-2" class="toneitem fitzpatrick-2"
                @click="${this.h}">\ud83d\udc4f</span>
          </div>
        </div>
      </div>
    `}};oi.g=[ni,Ne,Le];t([Te({type:String}),v(Object)],oi.prototype,"tone",void 0);oi=t([Qe("emoji-dropdown")],oi);const pi=Wb("black");var qi=class extends Ee{constructor(){super(...arguments);this.selectedColor="#000000";this.size=60}static get g(){return[Le,Sd`
        #font-options_container {
          line-height: 1.5em;
        }`]}render(){return xd`
        <div class="tool-properties-container">
          <div id="size">
            <input id="size-slider" class="slider"
                   type="range" min="6" max="100"
                   value="${this.size}"
                   @change=${this.ma}>
          </div>
          <color-picker id="color-picker"
            @color=${this.ia}
          ></color-picker>
          <div id="font_options_container">
            <input type="radio" name="font" value="default"
                   @change=${this.g} checked>
            <span><img src="/img/font_regular.svg"/></span>
            <input type="radio" name="font" value="monospace"
                   @change=${this.g}>
            <span><img src="/img/font_mono.svg"/></span>
            <input type="radio" name="font" value="italic"
                   @change=${this.g}>
            <span><img src="/img/font_italic.svg"/></span>
            <br/>
            <input type="radio" name="justification" value="left"
                   @change=${this.g} checked>
            <span><img src="/img/align_left.svg"/></span>
            <input type="radio" name="justification" value="center"
                   @change=${this.g}>
            <span><img src="/img/align_center.svg"/></span>
            <input type="radio" name="justification" value="right"
                   @change=${this.g}>
            <span><img src="/img/align_right.svg"/></span>
            <br/>
            <input type="radio" name="shadow" value="none"
                   @change=${this.g} checked>
            <span><img src="/img/shadow_none.svg"/></span>
            <input type="radio" name="shadow" value="small"
                   @change=${this.g}>
            <span><img src="/img/shadow_small.svg"/></span>
            <input type="radio" name="shadow" value="large"
                   @change=${this.g}>
            <span><img src="/img/shadow_big.svg"/></span>
          </div>
        </div>
    `}ma(a){a=Number(a.target.value);isNaN(a)||(this.size=a,this.dispatchEvent(new CustomEvent("size",{detail:this.size})),this.h())}g(){this.h()}ia(a){this.selectedColor=a.detail;this.dispatchEvent(new CustomEvent("color",{detail:this.selectedColor}));this.h()}aa(){this.h()}h(){const a=new Kh;F(a,7,this.size);F(a,8,2);const b=new Rh;var c;const d=null==(c=this.kk)?void 0:c.value;b.df("center"===d?2:"right"===d?3:1);var e;c=null==(e=this.yk)?void 0:e.value;e=new Th;e.setColor(pi.g());"small"===c&&
(F(e,2,.04),F(e,3,.04),F(e,4,.04),b.gf(e));"large"===c&&(F(e,2,.08),F(e,3,.1),F(e,4,.1),b.gf(e));var f;e=null==(f=this.bk)?void 0:f.value;f=new sh;c=new qh;"monospace"===e?F(c,1,"Courier"):"italic"===e?(F(c,1,"Sans-Serif"),F(c,2,!0)):F(c,1,"Roboto");f.ef(c);b.wb(f);this.dispatchEvent(la({hc:13,ee:this.selectedColor,fe:a,aj:b}))}};t([Ve("#color-picker"),v(nh)],qi.prototype,"tj",void 0);t([Ve("input[name=shadow]:checked"),v(HTMLInputElement)],qi.prototype,"yk",void 0);
t([Ve("input[name=justification]:checked"),v(HTMLInputElement)],qi.prototype,"kk",void 0);t([Ve("input[name=font]:checked"),v(HTMLInputElement)],qi.prototype,"bk",void 0);t([Te({type:String,kd:"selected-color",ed:!0}),v(Object)],qi.prototype,"selectedColor",void 0);t([Te({type:Number,ed:!0}),v(Object)],qi.prototype,"size",void 0);qi=t([Qe("text-dropdown")],qi);var ri=class extends Ee{constructor(){super(...arguments);this.opened=!1;this.g=()=>{this.opened=!this.opened;this.h()};this.close=()=>{this.opened&&this.g()};this.h=()=>{if(this.opened){this.dispatchEvent(new CustomEvent("tool-menu-opened",{detail:{bubbles:!0,composed:!0}}));this.uh.classList.add("open");this.bg.style.display="block";this.bg.focus();var a=this.querySelector("brush-dropdown");a instanceof mi&&a.aa();a=this.querySelector("text-dropdown");a instanceof qi&&a.aa();(a=this.querySelector("emoji-dropdown"))&&
a instanceof oi&&a.aa()}else this.dispatchEvent(new CustomEvent("tool-menu-closed",{bubbles:!0,composed:!0})),this.uh.classList.remove("open"),this.bg.style.display="none"}}static get g(){return Me}render(){return xd`
      <div style="display:inline-block;">
        <button id="dropdown-button" @click=${this.g}>
          <slot name="icon"></slot>
          <div style="display:inline-block" float="right">
            <img src="/img/dropdown.svg"/>
          </div>
        </button>
        <div id="dropdown-container" tabindex="-1">
          <slot name="dropdown"></slot>
        </div>
      </div>`}ba(){this.h()}};t([Ve("#dropdown-button"),v(HTMLElement)],ri.prototype,"uh",void 0);t([Ve("#dropdown-container"),v(HTMLElement)],ri.prototype,"bg",void 0);t([Te({type:Boolean}),v(Object)],ri.prototype,"opened",void 0);t([Te({type:String,kd:"aria-label"}),v(String)],ri.prototype,"ariaLabel",void 0);ri=t([Qe("tool-button")],ri);var si=class extends Ee{constructor(){super(...arguments);this.g=a=>{a=new CustomEvent(a);this.dispatchEvent(a)};this.h=()=>{for(const a of this.cj)a.close();this.g("close-temporary-ui")}}static get g(){return Me}render(){return xd`
      <div id="toolbar-container">
        <span id="button-group-zoom">
          <button id="zoom-out-button" title="Zoom Out" @click=${this.jc}>
            <img src="/img/minus.svg" alt="Zoom Out" />
          </button>
          <button id="zoom-in-button" title="Zoom In" @click=${this.ic}>
            <img src="/img/plus.svg" alt="Zoom In" />
          </button>
        </span>
        <span id="button-group-undo-redo">
          <!-- Undo -->
          <button id="undo-button" class='simple-toolbar-button' title="Undo" @click=${this.fc}>
            <img src="/img/back.svg" alt="Undo" />
          </button>

          <!-- Redo -->
          <button id="redo-button" class='simple-toolbar-button' title="Redo" @click=${this.ma}>
            <img src="/img/forward.svg" alt="Redo" />
          </button>
        </span>

        <span id="button-group-center">
          <!-- Selection Tool -->
          <button id="select-tool-button" class='simple-toolbar-button' title="Selection" @click=${this.cc}>
            <!-- TODO(crbug 1307558): We're iterating this tool and will get
                 a real image. -->
            Select
          </button>

          <!-- We use the brush tool dropdown while the only properties to set
               are color/size. -->
          <!-- Shape: Rectangle -->
          <tool-button title="Rectangle" id="shape-rectangle-button">
            <img slot="icon" src="/img/rect.svg" alt="Rectangle" />
            <brush-dropdown slot="dropdown" tool="${"rect"}"></brush-dropdown>
          </tool-button>
          <!-- Shape: Ellipse -->
          <tool-button id="shape-ellipse-button" title="Ellipse">
            <img slot="icon" src="/img/circle.svg" alt="Ellipse" />
            <brush-dropdown slot="dropdown" tool="${"ellipse"}"></brush-dropdown>
          </tool-button>
          <!-- Shape: Arrow -->
          <tool-button id="shape-arrow-button" title="Arrow">
            <img slot="icon" src="/img/arrow.svg" alt="Arrow" />
            <brush-dropdown slot="dropdown" tool="${"arrow"}"></brush-dropdown>
          </tool-button>
          <!-- Shape: Line -->
          <tool-button id="shape-line-button" title="Line">
            <img slot="icon" src="/img/line.svg" alt="Line" />
            <brush-dropdown slot="dropdown" tool="${"line"}"></brush-dropdown>
          </tool-button>

          <!-- Brush -->
          <tool-button id="brush-button" title="Brush">
            <img slot="icon" src="/img/paint.svg" alt="Brush" />
            <brush-dropdown slot="dropdown" tool="${"pen"}"></brush-dropdown>
          </tool-button>

          <!-- Emoji -->
          <tool-button id="emoji-button" title="Emoji">
            <img slot="icon" src="/img/emoji.svg" alt="Emoji" />
            <emoji-dropdown slot="dropdown"></emoji-dropdown>
          </tool-button>

          <!-- Text -->
          <tool-button id="text-button" title="Text">
            <img slot="icon" src="/img/text.svg" alt="Text" />
            <text-dropdown slot="dropdown"></text-dropdown>
          </tool-button>
        </span>

        <span id="button-group-right">
          <!-- Crop -->
          <button id="crop-button" class='simple-toolbar-button' title="Crop" @click=${this.ia}>
            <img src="/img/crop.svg" alt="Crop" />
          </button>

          <!-- Clear -->
          <button title="Clear Canvas" class='simple-toolbar-button' @click=${this.aa}>
            Clear Canvas
          </button>
        </span>
      </div>
    `}ba(){for(const a of this.cj)a.addEventListener("click",this.h,!0);for(const a of this.al)a.addEventListener("click",this.h,!0)}cc(){this.g("selection")}ia(){this.g("crop")}jc(){this.g("zoom-out")}ic(){this.g("zoom-in")}ma(){this.g("redo")}fc(){this.g("undo")}aa(){this.g("clear-canvas")}};t([Te({type:String}),v(String)],si.prototype,"activeTool",void 0);t([Ue("tool-button"),v(Array)],si.prototype,"cj",void 0);t([Ue(".simple-toolbar-button"),v(Array)],si.prototype,"al",void 0);
si=t([Qe("editor-toolbar")],si);function ti(){B.call(this)}q(ti,B);var ui=null;function vi(){B.call(this)}q(vi,B);var wi=null;
ti.prototype.l=function(){var a=ui;a||(ui=a=H(ti,{0:{name:"MovementConstraints",ca:"ink.proto.camera_constraints.MovementConstraints"},1:{name:"allow_horizontal_pan",j:8,defaultValue:!0,type:Boolean},2:{name:"allow_vertical_pan",j:8,defaultValue:!0,type:Boolean},3:{name:"allow_zoom",j:8,defaultValue:!0,type:Boolean},4:{name:"allow_rotation",j:8,defaultValue:!1,type:Boolean},5:{name:"allow_fling",j:8,defaultValue:!1,type:Boolean},6:{name:"allow_elastic_constraints",j:8,defaultValue:!0,type:Boolean},
7:{name:"fling_dynamics",j:11,type:vi}}));return a};ti.l=ti.prototype.l;vi.prototype.l=function(){var a=wi;a||(wi=a=H(vi,{0:{name:"FlingDynamics",ca:"ink.proto.camera_constraints.FlingDynamics"},1:{name:"minimum_start_speed_cm_s",j:2,defaultValue:10,type:Number},2:{name:"stopping_speed_cm_s",j:2,defaultValue:.1,type:Number},3:{name:"decay_factor_per_second",j:2,defaultValue:.025,type:Number}}));return a};vi.l=vi.prototype.l;function xi(){B.call(this)}q(xi,B);var yi=null;xi.prototype.setUri=function(a){F(this,1,a)};function zi(){B.call(this)}q(zi,B);var Ai=null;zi.prototype.setUri=function(a){F(this,1,a)};zi.prototype.setScale=function(a){F(this,2,a)};function Bi(){B.call(this)}q(Bi,B);var Ci=null,Di={wg:0,km:1};xi.prototype.l=function(){var a=yi;a||(yi=a=H(xi,{0:{name:"BackgroundImageInfo",ca:"ink.proto.BackgroundImageInfo"},1:{name:"uri",j:9,type:String},3:{name:"bounds",j:11,type:K}}));return a};xi.l=xi.prototype.l;
zi.prototype.l=function(){var a=Ai;a||(Ai=a=H(zi,{0:{name:"Border",ca:"ink.proto.Border"},1:{name:"uri",j:9,type:String},2:{name:"scale",j:2,defaultValue:1,type:Number}}));return a};zi.l=zi.prototype.l;
Bi.prototype.l=function(){var a=Ci;a||(Ci=a=H(Bi,{0:{name:"ElementAttributes",ca:"ink.proto.ElementAttributes"},1:{name:"selectable",j:8,defaultValue:!0,type:Boolean},2:{name:"magic_erasable",j:8,defaultValue:!0,type:Boolean},3:{name:"is_sticker",j:8,defaultValue:!1,type:Boolean},4:{name:"is_text",j:8,defaultValue:!1,type:Boolean},5:{name:"is_group",j:8,defaultValue:!1,type:Boolean},6:{name:"is_zoomable",j:8,defaultValue:!1,type:Boolean},7:{name:"group_type",j:14,defaultValue:0,type:Di},9:{name:"is_split_text",
j:8,defaultValue:!1,type:Boolean}}));return a};Bi.l=Bi.prototype.l;function Ei(){B.call(this)}q(Ei,B);var Fi=null;l=Ei.prototype;l.ig=function(){return E(this,1)};l.xe=function(){return G(this,1)};l.jg=function(){return E(this,2)};l.ye=function(){return G(this,2)};l.ac=function(){return G(this,3)};l.xb=function(a){F(this,3,a)};function Gi(){B.call(this)}q(Gi,B);var Hi=null;l=Gi.prototype;l.ig=function(){return E(this,2)};l.xe=function(){return G(this,2)};l.jg=function(){return E(this,3)};l.ye=function(){return G(this,3)};l.ac=function(){return G(this,6)};
Ei.prototype.l=function(){var a=Fi;a||(Fi=a=H(Ei,{0:{name:"StrokeOutline",ca:"ink.proto.StrokeOutline"},1:{name:"x",na:!0,bb:!0,j:2,type:Number},2:{name:"y",na:!0,bb:!0,j:2,type:Number},3:{name:"rgba",j:13,type:Number}}));return a};Ei.l=Ei.prototype.l;
Gi.prototype.l=function(){var a=Hi;a||(Hi=a=H(Gi,{0:{name:"ElementMesh",ca:"ink.proto.ElementMesh"},1:{name:"index",na:!0,bb:!0,j:13,type:Number},2:{name:"x",na:!0,bb:!0,j:2,type:Number},3:{name:"y",na:!0,bb:!0,j:2,type:Number},4:{name:"u",na:!0,bb:!0,j:2,type:Number},5:{name:"v",na:!0,bb:!0,j:2,type:Number},6:{name:"rgba",na:!0,bb:!0,j:13,type:Number}}));return a};Gi.l=Gi.prototype.l;function Ii(){B.call(this)}q(Ii,B);var Ji=null;Ii.prototype.ta=function(){return E(this,1)};Ii.prototype.ua=function(){return G(this,1)};Ii.prototype.ya=function(a){F(this,1,a)};function Ki(){B.call(this)}q(Ki,B);var Li=null;Ki.prototype.ta=function(){return E(this,1)};Ki.prototype.ua=function(){return G(this,1)};Ki.prototype.ya=function(a){F(this,1,a)};function Mi(){B.call(this)}q(Mi,B);var Ni=null;Mi.prototype.ta=function(){return E(this,1)};Mi.prototype.ua=function(){return G(this,1)};
Mi.prototype.ya=function(a){F(this,1,a)};function Oi(){B.call(this)}q(Oi,B);var Pi=null;function Qi(){B.call(this)}q(Qi,B);var Ri=null;Qi.prototype.ta=function(){return E(this,1)};Qi.prototype.ua=function(){return G(this,1)};Qi.prototype.ya=function(a){F(this,1,a)};function Si(){B.call(this)}q(Si,B);var Ti=null;Si.prototype.ta=function(){return E(this,1)};Si.prototype.ua=function(){return G(this,1)};Si.prototype.ya=function(a){F(this,1,a)};function Ui(){B.call(this)}q(Ui,B);var Vi=null;l=Ui.prototype;
l.ta=function(){return E(this,1)};l.ua=function(){return G(this,1)};l.ya=function(a){F(this,1,a)};l.dc=function(a){F(this,8,a)};l.dg=function(){return G(this,9)};l.ef=function(a){F(this,9,a)};l.hasAttributes=function(){return D(this,9)};function Wi(){B.call(this)}q(Wi,B);var Xi=null;Wi.prototype.ta=function(){return E(this,1)};Wi.prototype.ua=function(){return G(this,1)};Wi.prototype.ya=function(a){F(this,1,a)};function Yi(){B.call(this)}q(Yi,B);var Zi=null;l=Yi.prototype;
l.ta=function(){return E(this,1)};l.ua=function(){return G(this,1)};l.ya=function(a){F(this,1,a)};l.dg=function(){return G(this,3)};l.ef=function(a){F(this,3,a)};l.hasAttributes=function(){return D(this,3)};function $i(){B.call(this)}q($i,B);var aj=null;function bj(){B.call(this)}q(bj,B);var cj=null;function dj(){B.call(this)}q(dj,B);var ej=null;function fj(){B.call(this)}q(fj,B);var gj=null;function hj(){B.call(this)}q(hj,B);var ij=null;function jj(){B.call(this)}q(jj,B);var kj=null;
Ii.prototype.l=function(){var a=Ji;a||(Ji=a=H(Ii,{0:{name:"LayerOrderUpdated",ca:"ink.proto.scene_change.LayerOrderUpdated"},1:{name:"uuid",j:9,type:String},2:{name:"below_uuid",j:9,type:String}}));return a};Ii.l=Ii.prototype.l;Ki.prototype.l=function(){var a=Li;a||(Li=a=H(Ki,{0:{name:"LayerOpacityUpdated",ca:"ink.proto.scene_change.LayerOpacityUpdated"},1:{name:"uuid",j:9,type:String},2:{name:"opacity",j:2,type:Number}}));return a};Ki.l=Ki.prototype.l;
Mi.prototype.l=function(){var a=Ni;a||(Ni=a=H(Mi,{0:{name:"LayerVisibilityUpdated",ca:"ink.proto.scene_change.LayerVisibilityUpdated"},1:{name:"uuid",j:9,type:String},2:{name:"visible",j:8,type:Boolean}}));return a};Mi.l=Mi.prototype.l;Oi.prototype.l=function(){var a=Pi;a||(Pi=a=H(Oi,{0:{name:"ActiveLayerUpdated",ca:"ink.proto.scene_change.ActiveLayerUpdated"},1:{name:"active_uuid",j:9,type:String}}));return a};Oi.l=Oi.prototype.l;
Qi.prototype.l=function(){var a=Ri;a||(Ri=a=H(Qi,{0:{name:"LayerAdded",ca:"ink.proto.scene_change.LayerAdded"},1:{name:"uuid",j:9,type:String},2:{name:"opacity",j:2,type:Number},3:{name:"visible",j:8,type:Boolean},4:{name:"below_uuid",j:9,type:String}}));return a};Qi.l=Qi.prototype.l;Si.prototype.l=function(){var a=Ti;a||(Ti=a=H(Si,{0:{name:"LayerRemoved",ca:"ink.proto.scene_change.LayerRemoved"},1:{name:"uuid",j:9,type:String}}));return a};Si.l=Si.prototype.l;
Ui.prototype.l=function(){var a=Vi;a||(Vi=a=H(Ui,{0:{name:"ElementAdded",ca:"ink.proto.scene_change.ElementAdded"},1:{name:"uuid",j:9,type:String},2:{name:"layer_uuid",j:9,type:String},3:{name:"stroke_x",na:!0,bb:!0,j:2,type:Number},4:{name:"stroke_y",na:!0,bb:!0,j:2,type:Number},5:{name:"stroke_t_sec",na:!0,bb:!0,j:2,type:Number},6:{name:"outline",j:11,type:Ei},7:{name:"mesh",j:11,type:Gi},8:{name:"tool_params",j:11,type:ji},9:{name:"attributes",j:11,type:Bi},10:{name:"world_bounds",j:11,type:K}}));
return a};Ui.l=Ui.prototype.l;Wi.prototype.l=function(){var a=Xi;a||(Xi=a=H(Wi,{0:{name:"ElementModified",ca:"ink.proto.scene_change.ElementModified"},1:{name:"uuid",j:9,type:String},2:{name:"layer_uuid",j:9,type:String},3:{name:"world_bounds",j:11,type:K}}));return a};Wi.l=Wi.prototype.l;
Yi.prototype.l=function(){var a=Zi;a||(Zi=a=H(Yi,{0:{name:"ElementRemoved",ca:"ink.proto.scene_change.ElementRemoved"},1:{name:"uuid",j:9,type:String},2:{name:"layer_uuid",j:9,type:String},3:{name:"attributes",j:11,type:Bi}}));return a};Yi.l=Yi.prototype.l;$i.prototype.l=function(){var a=aj;a||(aj=a=H($i,{0:{name:"UndoRedoStateUpdated",ca:"ink.proto.scene_change.UndoRedoStateUpdated"},1:{name:"can_undo",j:8,type:Boolean},2:{name:"can_redo",j:8,type:Boolean}}));return a};$i.l=$i.prototype.l;
bj.prototype.l=function(){var a=cj;a||(cj=a=H(bj,{0:{name:"EmptyStateUpdated",ca:"ink.proto.scene_change.EmptyStateUpdated"},1:{name:"is_empty",j:8,type:Boolean}}));return a};bj.l=bj.prototype.l;dj.prototype.l=function(){var a=ej;a||(ej=a=H(dj,{0:{name:"SerializedSizeChanged",ca:"ink.proto.scene_change.SerializedSizeChanged"},1:{name:"estimated_size_bytes",j:13,type:Number}}));return a};dj.l=dj.prototype.l;
fj.prototype.l=function(){var a=gj;a||(gj=a=H(fj,{0:{name:"DocumentLoaded",ca:"ink.proto.scene_change.DocumentLoaded"},1:{name:"elements",na:!0,j:11,type:Ui}}));return a};fj.l=fj.prototype.l;hj.prototype.l=function(){var a=ij;a||(ij=a=H(hj,{0:{name:"PageBoundsChanged",ca:"ink.proto.scene_change.PageBoundsChanged"},1:{name:"world_bounds",j:11,type:K}}));return a};hj.l=hj.prototype.l;
jj.prototype.l=function(){var a=kj;a||(kj=a=H(jj,{0:{name:"SceneChangeEvent",ca:"ink.proto.scene_change.SceneChangeEvent"},1:{name:"order_updated",j:11,type:Ii},2:{name:"opacity_updated",j:11,type:Ki},3:{name:"visibility_updated",j:11,type:Mi},4:{name:"active_layer_updated",j:11,type:Oi},5:{name:"layer_added",j:11,type:Qi},6:{name:"layer_removed",j:11,type:Si},7:{name:"element_added",j:11,type:Ui},8:{name:"element_modified",j:11,type:Wi},9:{name:"element_removed",j:11,type:Yi},10:{name:"undo_redo_state_updated",
j:11,type:$i},11:{name:"empty_state_updated",j:11,type:bj},12:{name:"serialized_size_changed",j:11,type:dj},13:{name:"document_loaded",j:11,type:fj},14:{name:"page_bounds_changed",j:11,type:hj}}));return a};jj.l=jj.prototype.l;function lj(){B.call(this)}q(lj,B);var mj=null;lj.prototype.yh=function(){return E(this,4)};lj.prototype.zh=function(){return G(this,4)};lj.prototype.ui=function(a){F(this,4,a)};function nj(){B.call(this)}q(nj,B);var oj=null;function pj(a,b){F(a,1,b)}function qj(){B.call(this)}q(qj,B);var rj=null;l=qj.prototype;l.sd=function(){return E(this,7)};l.vd=function(){return G(this,10)};l.be=function(a){F(this,10,a)};l.we=function(){return E(this,5)};l.ti=function(a){F(this,5,a)};
function sj(){B.call(this)}q(sj,B);var tj=null;sj.prototype.v=function(){return E(this,1)};function uj(){B.call(this)}q(uj,B);var vj=null;uj.prototype.ta=function(){return E(this,1)};uj.prototype.ua=function(){return G(this,1)};uj.prototype.ya=function(a){F(this,1,a)};function wj(){B.call(this)}q(wj,B);var xj=null;wj.prototype.getItem=function(a){return E(this,1,a)};wj.prototype.vd=function(){return G(this,4)};wj.prototype.be=function(a){F(this,4,a)};function yj(){B.call(this)}q(yj,B);var zj=null;
l=yj.prototype;l.ta=function(){return E(this,1)};l.ua=function(){return G(this,1)};l.ya=function(a){F(this,1,a)};l.setUri=function(a){F(this,3,a)};l.lb=function(){return G(this,4)};l.cb=function(a){F(this,4,a)};l.vd=function(){return G(this,5)};l.be=function(a){F(this,5,a)};function Aj(){B.call(this)}q(Aj,B);var Bj=null;function Cj(){B.call(this)}q(Cj,B);var Dj=null;l=Cj.prototype;l.ta=function(){return E(this,1)};l.ua=function(){return G(this,1)};l.ya=function(a){F(this,1,a)};
l.vd=function(){return G(this,2)};l.be=function(a){F(this,2,a)};l.lb=function(){return G(this,3)};l.cb=function(a){F(this,3,a)};function Ej(){B.call(this)}q(Ej,B);var Fj=null;l=Ej.prototype;l.ta=function(){return E(this,1)};l.ua=function(){return G(this,1)};l.ya=function(a){F(this,1,a)};l.eg=function(){return G(this,2)};l.setColor=function(a){F(this,2,a)};l.di=function(){return D(this,2)};l.clearColor=function(){Hb(this,2)};l.bi=function(){return G(this,4)};l.vi=function(a){F(this,4,a)};
l.gi=function(){return D(this,4)};function Gj(){B.call(this)}q(Gj,B);var Hj=null;Gj.prototype.ta=function(){return E(this,1)};Gj.prototype.ua=function(){return G(this,1)};Gj.prototype.ya=function(a){F(this,1,a)};function Ij(){B.call(this)}q(Ij,B);var Jj=null;function Kj(){B.call(this)}q(Kj,B);var Lj=null;function Mj(){B.call(this)}q(Mj,B);var Nj=null;function Oj(){B.call(this)}q(Oj,B);var Pj=null;
lj.prototype.l=function(){var a=mj;a||(mj=a=H(lj,{0:{name:"CameraPosition",ca:"ink.proto.CameraPosition"},1:{name:"world_center",j:11,type:I},2:{name:"world_width",j:2,type:Number},3:{name:"world_height",j:2,type:Number},4:{name:"rotation_radians",j:2,type:Number}}));return a};lj.l=lj.prototype.l;
nj.prototype.l=function(){var a=oj;a||(oj=a=H(nj,{0:{name:"AnimationExport",ca:"ink.proto.AnimationExport"},1:{name:"frame_options",j:11,type:qj},2:{name:"frame_rate",j:2,type:Number},3:{name:"max_frames",j:13,defaultValue:60,type:Number}}));return a};nj.l=nj.prototype.l;
qj.prototype.l=function(){var a=rj;a||(rj=a=H(qj,{0:{name:"ImageExport",ca:"ink.proto.ImageExport"},1:{name:"max_dimension_px",j:13,defaultValue:1024,type:Number},9:{name:"image_size",j:11,type:sj},2:{name:"should_draw_background",j:8,defaultValue:!0,type:Boolean},8:{name:"should_draw_tool",j:8,defaultValue:!1,type:Boolean},11:{name:"should_draw_drawables",j:8,defaultValue:!1,type:Boolean},12:{name:"should_flip_y_axis",j:8,defaultValue:!0,type:Boolean},13:{name:"max_tile_size_px",j:13,type:Number},
14:{name:"debug_draw_tiles",j:8,defaultValue:!1,type:Boolean},3:{name:"world_rect",j:11,type:K},7:{name:"camera_transform",j:11,type:Rb},4:{name:"layer_index",j:13,type:Number},10:{name:"group_uuid",j:9,type:String},5:{name:"id",j:5,type:Number}}));return a};qj.l=qj.prototype.l;sj.prototype.l=function(){var a=tj;a||(tj=a=H(sj,{0:{name:"ImageSize",ca:"ink.proto.ImageSize"},1:{name:"width_px",j:13,defaultValue:0,type:Number},2:{name:"height_px",j:13,defaultValue:0,type:Number}}));return a};sj.l=sj.prototype.l;
uj.prototype.l=function(){var a=vj;a||(vj=a=H(uj,{0:{name:"PusherPositionUpdate",ca:"ink.proto.PusherPositionUpdate"},1:{name:"uuid",j:9,type:String},2:{name:"pointer_location",na:!0,j:11,type:I}}));return a};uj.l=uj.prototype.l;wj.prototype.l=function(){var a=xj;a||(xj=a=H(wj,{0:{name:"ElementQueryData",ca:"ink.proto.ElementQueryData"},1:{name:"item",na:!0,j:11,type:yj},2:{name:"up_world_location",j:11,type:I},3:{name:"down_world_location",j:11,type:I},4:{name:"group_uuid",j:9,type:String}}));return a};
wj.l=wj.prototype.l;yj.prototype.l=function(){var a=zj;a||(zj=a=H(yj,{0:{name:"ElementQueryItem",ca:"ink.proto.ElementQueryItem"},1:{name:"uuid",j:9,type:String},2:{name:"world_bounds",j:11,type:K},3:{name:"uri",j:9,type:String},4:{name:"text",j:11,type:Ah},5:{name:"group_uuid",j:9,type:String}}));return a};yj.l=yj.prototype.l;Aj.prototype.l=function(){var a=Bj;a||(Bj=a=H(Aj,{0:{name:"SelectionState",ca:"ink.proto.SelectionState"},1:{name:"anything_selected",j:8,type:Boolean}}));return a};Aj.l=Aj.prototype.l;
Cj.prototype.l=function(){var a=Dj;a||(Dj=a=H(Cj,{0:{name:"StartEditingText",ca:"ink.proto.StartEditingText"},1:{name:"uuid",j:9,type:String},2:{name:"group_uuid",j:9,type:String},3:{name:"text",j:11,type:Ah},4:{name:"screen_rect",j:11,type:Pb}}));return a};Cj.l=Cj.prototype.l;
Ej.prototype.l=function(){var a=Fj;a||(Fj=a=H(Ej,{0:{name:"UpdateEditedText",ca:"ink.proto.UpdateEditedText"},1:{name:"uuid",j:9,type:String},2:{name:"color",j:11,type:Lb},3:{name:"font_size_screen",j:2,type:Number},4:{name:"text_params",j:11,type:Rh}}));return a};Ej.l=Ej.prototype.l;Gj.prototype.l=function(){var a=Hj;a||(Hj=a=H(Gj,{0:{name:"StopEditingText",ca:"ink.proto.StopEditingText"},1:{name:"uuid",j:9,type:String}}));return a};Gj.l=Gj.prototype.l;
Ij.prototype.l=function(){var a=Jj;a||(Jj=a=H(Ij,{0:{name:"CancelEditingText",ca:"ink.proto.CancelEditingText"}}));return a};Ij.l=Ij.prototype.l;Kj.prototype.l=function(){var a=Lj;a||(Lj=a=H(Kj,{0:{name:"TextSearchResult",ca:"ink.proto.TextSearchResult"},1:{name:"num_matches",j:5,type:Number},2:{name:"match_index",j:5,type:Number},3:{name:"is_partial",j:8,type:Boolean}}));return a};Kj.l=Kj.prototype.l;
Mj.prototype.l=function(){var a=Nj;a||(Nj=a=H(Mj,{0:{name:"TextSelectionState",ca:"ink.proto.TextSelectionState"},1:{name:"is_anything_selected",j:8,type:Boolean}}));return a};Mj.l=Mj.prototype.l;
Oj.prototype.l=function(){var a=Pj;a||(Pj=a=H(Oj,{0:{name:"ToolEvent",ca:"ink.proto.ToolEvent"},1:{name:"pusher_position_update",j:11,type:uj},2:{name:"element_query_data",j:11,type:wj},3:{name:"selection_state",j:11,type:Aj},4:{name:"start_editing_text",j:11,type:Cj},5:{name:"update_edited_text",j:11,type:Ej},6:{name:"stop_editing_text",j:11,type:Gj},9:{name:"cancel_editing_text",j:11,type:Ij},7:{name:"pen_detected",j:8,type:Boolean},8:{name:"text_search_result",j:11,type:Kj},10:{name:"text_selection_state",
j:11,type:Mj}}));return a};Oj.l=Oj.prototype.l;function Qj(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}l=Qj.prototype;l.clone=function(){return new Qj(this.x,this.y)};l.wa=function(a){return a instanceof Qj&&(this==a?!0:this&&a?this.x==a.x&&this.y==a.y:!1)};function Rj(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}l.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};l.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
l.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};l.translate=function(a,b){a instanceof Qj?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),"number"===typeof b&&(this.y+=b));return this};l.scale=function(a,b){this.x*=a;this.y*="number"===typeof b?b:a;return this};function Sj(a,b){this.width=a;this.height=b}function Tj(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}l=Sj.prototype;l.clone=function(){return new Sj(this.width,this.height)};function Uj(a){return Math.max(a.width,a.height)}function Vj(a){return a.width*a.height}l.aspectRatio=function(){return this.width/this.height};l.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};function Wj(a,b){return a.width<=b.width&&a.height<=b.height}
l.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};l.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};l.scale=function(a,b){this.width*=a;this.height*="number"===typeof b?b:a;return this};function Xj(a){return a?new Yj(Zj(a)):oa||(oa=new Yj)}function ak(a,b){wa(b,function(c,d){c&&"object"==typeof c&&c.vb&&(c=c.za());"style"==d?a.style.cssText=c:"class"==d?a.className=c:"for"==d?a.htmlFor=c:bk.hasOwnProperty(d)?a.setAttribute(bk[d],c):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,c):a[d]=c})}
var bk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ck(a,b,c,d){function e(h){h&&b.appendChild("string"===typeof h?a.createTextNode(h):h)}for(;d<c.length;d++){var f=c[d];if(!ea(f)||fa(f)&&0<f.nodeType)e(f);else{a:{if(f&&"number"==typeof f.length){if(fa(f)){var g="function"==typeof f.item||"string"==typeof f.item;break a}if("function"===typeof f){g="function"==typeof f.item;break a}}g=!1}qa(g?sa(f):f,e)}}}function dk(a,b){b=String(b);"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)}
function ek(a){return"CSS1Compat"==a.compatMode}function fk(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Zj(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function gk(){var a=window;return void 0!==a.devicePixelRatio?a.devicePixelRatio:a.matchMedia?hk(3)||hk(2)||hk(1.5)||hk(1)||.75:1}function hk(a){return window.matchMedia("(min-resolution: "+a+"dppx),(min--moz-device-pixel-ratio: "+a+"),(min-resolution: "+96*a+"dpi)").matches?a:0}
function Yj(a){this.g=a||p.document||document}l=Yj.prototype;l.oc=function(a){return"string"===typeof a?this.g.getElementById(a):a};l.$=Yj.prototype.oc;l.getElementsByTagName=function(a,b){return(b||this.g).getElementsByTagName(String(a))};
l.dk=function(a,b,c){c=c||this.g;var d=a&&"*"!=a?String(a).toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(d||b))b=c.querySelectorAll(d+(b?"."+b:""));else if(b&&c.getElementsByClassName)if(a=c.getElementsByClassName(b),d){c={};for(var e=0,f=0,g;g=a[f];f++)d==g.nodeName&&(c[e++]=g);c.length=e;b=c}else b=a;else if(a=c.getElementsByTagName(d||"*"),b){c={};for(f=e=0;g=a[f];f++){d=g.className;var h;if(h="function"==typeof d.split)d=d.split(/\s+/),h=0<=pa(d,b);h&&(c[e++]=g)}c.length=e;b=c}else b=
a;return b};l.$$=Yj.prototype.dk;l.setProperties=ak;l.nd=function(a,b,c){var d=this.g,e=arguments,f=e[1],g=dk(d,String(e[0]));f&&("string"===typeof f?g.className=f:Array.isArray(f)?g.className=f.join(" "):ak(g,f));2<e.length&&ck(d,g,e,2)};l.createElement=function(a){return dk(this.g,a)};l.createTextNode=function(a){return this.g.createTextNode(String(a))};l.appendChild=function(a,b){a.appendChild(b)};l.append=function(a,b){ck(Zj(a),a,arguments,1)};
l.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};l.removeNode=fk;
l.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};var ik={};function jk(){throw Error("Do not instantiate directly");}jk.prototype.g=null;jk.prototype.toString=function(){return this.content};function kk(){jk.call(this)}q(kk,jk);kk.prototype.qh=ik;/*
 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function lk(a){var b=a(mk,void 0);a=Xj().createElement("DIV");if(fa(b))if(b instanceof jk){if(b.qh!==ik)throw Error("Sanitized content was not of kind HTML.");b=nb(b.toString(),null)}else b=mb("zSoyz");else b=mb(String(b));b.za();var c=a;if(yb())for(;c.lastChild;)c.removeChild(c.lastChild);c.innerHTML=kb(b);1==a.childNodes.length&&(b=a.firstChild,1==b.nodeType&&(a=b));return a}const mk={};function nk(){this.bd=this.bd;this.cd=this.cd}nk.prototype.bd=!1;function ok(a){a.bd||(a.bd=!0,a.ub())}nk.prototype.ub=function(){if(this.cd)for(;this.cd.length;)this.cd.shift()()};function N(a){this.id=a}N.prototype.toString=function(){return this.id};function O(a,b){this.type=a instanceof N?String(a):a;this.currentTarget=this.target=b;this.defaultPrevented=this.h=!1}O.prototype.stopPropagation=function(){this.h=!0};O.prototype.preventDefault=function(){this.defaultPrevented=!0};var pk=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{p.addEventListener("test",()=>{},b),p.removeEventListener("test",()=>{},b)}catch(c){}return a}();function qk(a,b){O.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.g=null;if(a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=
b;if(b=a.relatedTarget){if($d){a:{try{Vd(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.offsetX=ae||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=ae||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:rk[a.pointerType]||"";this.state=a.state;this.g=a;a.defaultPrevented&&qk.ec.preventDefault.call(this)}}
q(qk,O);var rk={2:"touch",3:"pen",4:"mouse"};qk.prototype.ia=function(){return 0==this.g.button&&!(be&&this.ctrlKey)};qk.prototype.stopPropagation=function(){qk.ec.stopPropagation.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};qk.prototype.preventDefault=function(){qk.ec.preventDefault.call(this);var a=this.g;a.preventDefault?a.preventDefault():a.returnValue=!1};var sk="closure_listenable_"+(1E6*Math.random()|0);function tk(a){return!(!a||!a[sk])};var uk=0;function vk(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.la=e;this.key=++uk;this.removed=this.qe=!1}function wk(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.la=null};function xk(a){this.src=a;this.listeners={};this.g=0}l=xk.prototype;l.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.g++);var g=yk(a,b,d,e);-1<g?(b=a[g],c||(b.qe=!1)):(b=new vk(b,this.src,f,!!d,e),b.qe=c,a.push(b));return b};l.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=yk(e,b,c,d);return-1<b?(wk(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.g--),!0):!1};
function zk(a,b){var c=b.type;c in a.listeners&&ra(a.listeners[c],b)&&(wk(b),0==a.listeners[c].length&&(delete a.listeners[c],a.g--))}l.af=function(){var a=0,b;for(b in this.listeners){for(var c=this.listeners[b],d=0;d<c.length;d++)++a,wk(c[d]);delete this.listeners[b];this.g--}};l.wd=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=yk(a,b,c,d));return-1<e?a[e]:null};
l.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return xa(this.listeners,function(f){for(var g=0;g<f.length;++g)if(!(c&&f[g].type!=d||e&&f[g].capture!=b))return!0;return!1})};function yk(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.la==d)return e}return-1};var Ak="closure_lm_"+(1E6*Math.random()|0),Bk={},Ck=0;function Dk(a,b,c,d,e){if(d&&d.once)return Ek(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)Dk(a,b[f],c,d,e);return null}c=Fk(c);return tk(a)?a.listen(b,c,fa(d)?!!d.capture:!!d,e):Gk(a,b,c,!1,d,e)}
function Gk(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=fa(e)?!!e.capture:!!e,h=Hk(a);h||(a[Ak]=h=new xk(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=Ik();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)pk||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Jk(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Ck++;return c}
function Ik(){function a(c){return b.call(a.src,a.listener,c)}const b=Kk;return a}function Ek(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)Ek(a,b[f],c,d,e);return null}c=Fk(c);return tk(a)?a.rg(b,c,fa(d)?!!d.capture:!!d,e):Gk(a,b,c,!0,d,e)}function Lk(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Lk(a,b[f],c,d,e);else d=fa(d)?!!d.capture:!!d,c=Fk(c),tk(a)?a.unlisten(b,c,d,e):a&&(a=Hk(a))&&(b=a.wd(b,c,d,e))&&Mk(b)}
function Mk(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(tk(b))zk(b.pa,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Jk(c),d):b.addListener&&b.removeListener&&b.removeListener(d);Ck--;(c=Hk(b))?(zk(c,a),0==c.g&&(c.src=null,b[Ak]=null)):wk(a)}}}function Jk(a){return a in Bk?Bk[a]:Bk[a]="on"+a}function Kk(a,b){if(a.removed)a=!0;else{b=new qk(b,this);var c=a.listener,d=a.la||a.src;a.qe&&Mk(a);a=c.call(d,b)}return a}
function Hk(a){a=a[Ak];return a instanceof xk?a:null}var Nk="__closure_events_fn_"+(1E9*Math.random()>>>0);function Fk(a){if("function"===typeof a)return a;a[Nk]||(a[Nk]=function(b){return a.handleEvent(b)});return a[Nk]};function Ok(a){nk.call(this);this.h=a;this.g={}}q(Ok,nk);var Pk=[];l=Ok.prototype;l.listen=function(a,b,c,d){Array.isArray(b)||(b&&(Pk[0]=b.toString()),b=Pk);for(var e=0;e<b.length;e++){var f=Dk(a,b[e],c||this.handleEvent,d||!1,this.h||this);if(!f)break;this.g[f.key]=f}return this};l.rg=function(a,b,c,d){return Qk(this,a,b,c,d)};
function Qk(a,b,c,d,e,f){if(Array.isArray(c))for(var g=0;g<c.length;g++)Qk(a,b,c[g],d,e,f);else{b=Ek(b,c,d||a.handleEvent,e,f||a.h||a);if(!b)return a;a.g[b.key]=b}return a}l.unlisten=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)this.unlisten(a,b[f],c,d,e);else c=c||this.handleEvent,d=fa(d)?!!d.capture:!!d,e=e||this.h||this,c=Fk(c),d=!!d,b=tk(a)?a.wd(b,c,d,e):a?(a=Hk(a))?a.wd(b,c,d,e):null:null,b&&(Mk(b),delete this.g[b.key]);return this};
l.af=function(){wa(this.g,function(a,b){this.g.hasOwnProperty(b)&&Mk(a)},this);this.g={}};l.ub=function(){Ok.ec.ub.call(this);this.af()};l.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Rk(){nk.call(this);this.pa=new xk(this);this.fl=this;this.cc=null}q(Rk,nk);Rk.prototype[sk]=!0;l=Rk.prototype;l.ff=function(a){this.cc=a};l.addEventListener=function(a,b,c,d){Dk(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){Lk(this,a,b,c,d)};
l.dispatchEvent=function(a){var b,c=this.cc;if(c)for(b=[];c;c=c.cc)b.push(c);c=this.fl;var d=a.type||a;if("string"===typeof a)a=new O(a,c);else if(a instanceof O)a.target=a.target||c;else{var e=a;a=new O(d,c);Ca(a,e)}e=!0;if(b)for(var f=b.length-1;!a.h&&0<=f;f--){var g=a.currentTarget=b[f];e=Sk(g,d,!0,a)&&e}a.h||(g=a.currentTarget=c,e=Sk(g,d,!0,a)&&e,a.h||(e=Sk(g,d,!1,a)&&e));if(b)for(f=0;!a.h&&f<b.length;f++)g=a.currentTarget=b[f],e=Sk(g,d,!1,a)&&e;return e};
l.ub=function(){Rk.ec.ub.call(this);this.pa&&this.pa.af();this.cc=null};l.listen=function(a,b,c,d){return this.pa.add(String(a),b,!1,c,d)};l.rg=function(a,b,c,d){return this.pa.add(String(a),b,!0,c,d)};l.unlisten=function(a,b,c,d){return this.pa.remove(String(a),b,c,d)};
function Sk(a,b,c,d){b=a.pa.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var h=g.listener,k=g.la||g.src;g.qe&&zk(a.pa,g);e=!1!==h.call(k,d)&&e}}return e&&!d.defaultPrevented}l.wd=function(a,b,c,d){return this.pa.wd(String(a),b,c,d)};l.hasListener=function(a,b){return this.pa.hasListener(void 0!==a?String(a):void 0,b)};function Tk(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}l=Tk.prototype;l.ci=function(){return this.right-this.left};l.gg=function(){return this.bottom-this.top};l.clone=function(){return new Tk(this.top,this.right,this.bottom,this.left)};l.contains=function(a){return this&&a?a instanceof Tk?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
l.expand=function(a,b,c,d){fa(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};l.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
l.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};l.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
l.translate=function(a,b){a instanceof Qj?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,"number"===typeof b&&(this.top+=b,this.bottom+=b));return this};l.scale=function(a,b){b="number"===typeof b?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function Uk(a){try{return a.getBoundingClientRect()}catch(b){return{left:0,top:0,right:0,bottom:0}}}
function Vk(a){var b=Wk;a:{var c=Zj(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c.display||c.getPropertyValue("display")||"";break a}c=""}c||(c=a.currentStyle?a.currentStyle.display:null);if("none"!=(c||a.style&&a.style.display))return b(a);c=a.style;var d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}
function Wk(a){var b=a.offsetWidth,c=a.offsetHeight,d=ae&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=Uk(a),new Sj(a.right-a.left,a.bottom-a.top)):new Sj(b,c)};function Xk(){}Xk.g=void 0;Xk.h=function(){return Xk.g?Xk.g:Xk.g=new Xk};Xk.prototype.g=0;function Yk(a){Rk.call(this);this.bc=a||Xj();this.jb=null;this.xa=!1;this.m=null;this.va=void 0;this.ga=this.ka=this.da=null;this.yi=!1}q(Yk,Rk);l=Yk.prototype;l.gk=Xk.h();l.we=function(){return this.jb||(this.jb=":"+(this.gk.g++).toString(36))};l.ti=function(a){if(this.da&&this.da.ga){var b=this.da.ga,c=this.jb;c in b&&delete b[c];za(this.da.ga,a,this)}this.jb=a};l.oc=function(){return this.m};function Zk(a){a.va||(a.va=new Ok(a));return a.va}
function $k(a,b){if(a==b)throw Error("Unable to set parent component");var c;if(c=b&&a.da&&a.jb){c=a.da;var d=a.jb;c=c.ga&&d?Aa(c.ga,d)||null:null}if(c&&a.da!=b)throw Error("Unable to set parent component");a.da=b;Yk.ec.ff.call(a,b)}l.getParent=function(){return this.da};l.ff=function(a){if(this.da&&this.da!=a)throw Error("Method not supported");Yk.ec.ff.call(this,a)};l.nd=function(){this.m=this.bc.createElement("DIV")};l.render=function(a){al(this,a)};l.bf=function(a){al(this,a.parentNode,a)};
function al(a,b,c){if(a.xa)throw Error("Component already rendered");a.m||a.nd();b?b.insertBefore(a.m,c||null):a.bc.g.body.appendChild(a.m);a.da&&!a.da.xa||a.fb()}l.decorate=function(a){if(this.xa)throw Error("Component already rendered");if(a){this.yi=!0;var b=Zj(a);this.bc&&this.bc.g==b||(this.bc=Xj(a));this.m=a;this.fb()}else throw Error("Invalid element to decorate");};l.fb=function(){this.xa=!0;bl(this,function(a){!a.xa&&a.oc()&&a.fb()})};
l.pd=function(){bl(this,function(a){a.xa&&a.pd()});this.va&&this.va.af();this.xa=!1};l.ub=function(){this.xa&&this.pd();this.va&&(ok(this.va),delete this.va);bl(this,function(a){ok(a)});!this.yi&&this.m&&fk(this.m);this.da=this.m=this.ga=this.ka=null;Yk.ec.ub.call(this)};
function cl(a,b){var c=a.ka?a.ka.length:0;if(b.xa&&!a.xa)throw Error("Component already rendered");if(0>c||c>(a.ka?a.ka.length:0))throw Error("Child component index out of bounds");a.ga&&a.ka||(a.ga={},a.ka=[]);if(b.getParent()==a){var d=b.we();a.ga[d]=b;ra(a.ka,b)}else za(a.ga,b.we(),b);$k(b,a);ua(a.ka,c,0,b);b.xa&&a.xa&&b.getParent()==a?(a=a.m,(a.childNodes[c]||null)!=b.oc()&&(b.oc().parentElement==a&&a.removeChild(b.oc()),c=a.childNodes[c]||null,a.insertBefore(b.oc(),c))):a.xa&&!b.xa&&b.m&&b.m.parentNode&&
1==b.m.parentNode.nodeType&&b.fb()}function bl(a,b){a.ka&&a.ka.forEach(b,void 0)}l.removeChild=function(a,b){if(a){var c="string"===typeof a?a:a.we();a=this.ga&&c?Aa(this.ga,c)||null:null;if(c&&a){var d=this.ga;c in d&&delete d[c];ra(this.ka,a);b&&(a.pd(),a.m&&fk(a.m));$k(a,null)}}if(!a)throw Error("Child is not in parent component");return a};function P(a,b){return new dl(a,b)}function el(a){a|=0;return-128<=a&&128>a?fl(a):new dl(a,0>a?-1:0)}function gl(a){return 0<a?0x7fffffffffffffff<=a?hl:new dl(a,a/4294967296):0>a?-0x7fffffffffffffff>=a?il:(new dl(-a,-a/4294967296)).negate():jl}
function kl(a,b){if("-"==a.charAt(0))return kl(a.substring(1),b).negate();var c=parseInt(a,b||10);if(9007199254740991>=c)return new dl(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=gl(Math.pow(b,8));for(var d=jl,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=gl(Math.pow(b,
f)),d=d.multiply(f).add(gl(g))):(d=d.multiply(c),d=d.add(gl(g)))}return d}function ll(a){return 4294967296*a.h+(a.g>>>0)}
function ml(a,b){if(nl(b))throw Error("division by zero");if(0>a.h){if(a.wa(il)){if(b.wa(ol)||b.wa(pl))return il;if(b.wa(il))return ol;var c=1;if(0==c)c=a;else{var d=a.h;c=32>c?P(a.g>>>c|d<<32-c,d>>c):P(d>>c-32,0<=d?0:-1)}c=ml(c,b).shiftLeft(1);if(c.wa(jl))return 0>b.h?ol:pl;a=a.ce(b.multiply(c));return c.add(ml(a,b))}return 0>b.h?ml(a.negate(),b.negate()):ml(a.negate(),b).negate()}if(nl(a))return jl;if(0>b.h)return b.wa(il)?jl:ml(a,b.negate()).negate();for(d=jl;0<=a.compare(b);){c=Math.max(1,Math.floor(ll(a)/
ll(b)));var e=Math.ceil(Math.log(c)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=gl(c),g=f.multiply(b);0>g.h||0<g.compare(a);)c-=e,f=gl(c),g=f.multiply(b);nl(f)&&(f=ol);d=d.add(f);a=a.ce(g)}return d}function nl(a){return 0==a.g&&0==a.h}function ql(a,b){b&=63;if(0==b)return a;var c=a.h;return 32>b?P(a.g>>>b|c<<32-b,c>>>b):32==b?P(c,0):P(c>>>b-32,0)}
class dl{constructor(a,b){this.g=a|0;this.h=b|0}isSafeInteger(){var a=this.h>>21;return 0==a||-1==a&&!(0==this.g&&-2097152==this.h)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=ll(this);return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=P(c,c/4294967296);c=ml(this,d);d=Math.abs(ll(this.ce(c.multiply(d))));var e=10==a?""+d:d.toString(a);e.length<b&&(e="0000000000000".slice(e.length-b)+e);d=ll(c);return(10==a?d:d.toString(a))+e}wa(a){return this.g==
a.g&&this.h==a.h}compare(a){return this.h==a.h?this.g==a.g?0:this.g>>>0>a.g>>>0?1:-1:this.h>a.h?1:-1}negate(){var a=~this.g+1|0;return P(a,~this.h+!a|0)}add(a){var b=this.h>>>16,c=this.h&65535,d=this.g>>>16,e=a.h>>>16,f=a.h&65535,g=a.g>>>16;a=(this.g&65535)+(a.g&65535);g=(a>>>16)+(d+g);d=g>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return P((g&65535)<<16|a&65535,b<<16|d&65535)}ce(a){return this.add(a.negate())}multiply(a){if(nl(this))return this;if(nl(a))return a;var b=this.h>>>16,c=this.h&65535,d=this.g>>>
16,e=this.g&65535,f=a.h>>>16,g=a.h&65535,h=a.g>>>16;a=a.g&65535;var k=e*a;var m=(k>>>16)+d*a;var n=m>>>16;m=(m&65535)+e*h;n+=m>>>16;n+=c*a;var r=n>>>16;n=(n&65535)+d*h;r+=n>>>16;n=(n&65535)+e*g;r=r+(n>>>16)+(b*a+c*h+d*g+e*f)&65535;return P((m&65535)<<16|k&65535,r<<16|n&65535)}and(a){return P(this.g&a.g,this.h&a.h)}or(a){return P(this.g|a.g,this.h|a.h)}xor(a){return P(this.g^a.g,this.h^a.h)}shiftLeft(a){a&=63;if(0==a)return this;var b=this.g;return 32>a?P(b<<a,this.h<<a|b>>>32-a):P(0,b<<a-32)}}
const rl={};function fl(a){return Wd(rl,a,function(b){return new dl(b,0>b?-1:0)})}const jl=P(0,0),ol=P(1,0),pl=P(-1,-1),hl=P(4294967295,2147483647),il=P(0,2147483648);function sl(){}sl.prototype.v=function(a,b){Fb(a)&&this.serialize(b)};sl.prototype.deserialize=function(a,b){a=new a.sg;this.m(a,b);return a};
sl.prototype.o=function(a,b){if(Fb(a))return b instanceof B?b:this.deserialize(a.v.prototype.l(),b);if(14==a.h)return"string"===typeof b&&tl.test(b)&&(a=Number(b),0<a)?a:b;if(!a.ba)return b;a=a.v;if(a===String){if("number"===typeof b)return String(b)}else if(a===Number&&"string"===typeof b&&("Infinity"===b||"-Infinity"===b||"NaN"===b||tl.test(b)))return Number(b);return b};var tl=/^-?[0-9]+$/;function ul(a,b){do{var c=b&127;b>>>=7;0<b&&(c|=128);a.g.push(c)}while(0<b)}function vl(a,b){var c=el(127);do{var d=b.and(c).g;b=ql(b,7);0<b.compare(jl)&&(d|=128);a.g.push(d)}while(0<b.compare(jl))}function wl(a,b,c){for(var d=el(255),e=0;e<c;e++){var f=b.and(d).g;a.g.push(f);b=ql(b,8)}}function xl(a,b){a=a.ba;for(var c=0,d=0;d<b.length&&(c|=(b[d]&127)<<7*d,0!=(b[d]&128));d++);a.value=c;a.length=d+1;return a}
function yl(a,b){a=a.da;for(var c=gl(0),d=0;d<b.length;d++){var e=el(b[d]&127).shiftLeft(7*d);c=c.or(e);if(0==(b[d]&128))break}a.value=c;a.length=d+1;return a}function zl(a){var b="";a=new Uint16Array(a);for(var c=0;c<a.length;c+=65536)b+=String.fromCharCode.apply(null,a.subarray(c,c+Math.min(65536,a.length-c)));return b}function Al(a,b){for(var c=0,d=0;d<a.length;d++)c|=a[d]<<8*d;b||(c>>>=0);return c}
const Bl=class extends sl{constructor(){super();this.g=[];this.ba={value:0,length:0};this.da={value:jl,length:0};this.h=new DataView(new ArrayBuffer(8))}serialize(a){if(null==a)return[];this.g=[];for(var b=Db(a.l()),c=0;c<b.length;c++){var d=b[c];if(a.has(d))if(d.m)if(d.aa){var e=a,f=d;d=this.g;ul(this,f.g<<3|2);for(var g=d.length,h=0,k=Kb(e,f.g);h<k;h++){var m=e.get(f,h);this.v(f,m,!0)}e=d.splice(g,d.length-g);ul(this,e.length);d.splice.apply(d,[d.length,0].concat(e))}else for(e=0,f=Kb(a,d.g);e<
f;e++)g=a.get(d,e),this.v(d,g);else this.v(d,a.get(d))}return this.g}v(a,b,c){if(c=!c){a:{switch(a.h){default:c=!1;break a;case 17:case 18:case 8:case 3:case 14:case 5:case 13:case 4:c=0;break;case 6:case 16:case 1:c=1;break;case 9:case 12:case 11:c=2;break;case 10:c=3;break;case 7:case 15:case 2:c=5}ul(this,a.g<<3|c);c=!0}c=!c}if(!c)switch(a.h){default:throw Error("Unknown field type "+a.h);case 17:ul(this,b<<1^-(b>>>31));break;case 18:a=kl(b);b=ql(a,63);a=a.shiftLeft(1).xor(b.negate());vl(this,
a);break;case 8:ul(this,b?1:0);break;case 5:0<b?ul(this,b):vl(this,el(b));break;case 3:case 4:vl(this,kl(b));break;case 14:case 13:ul(this,b);break;case 6:case 16:wl(this,kl(b),8);break;case 1:this.h.setFloat64(0,b,!0);for(a=0;8>a;a++)this.g.push(this.h.getUint8(a));break;case 9:if(null!=b)for(a=unescape(encodeURIComponent(b)),ul(this,a.length),b=0;b<a.length;b++)this.g.push(a.charCodeAt(b));break;case 12:if(null!=b)for(ul(this,b.length),a=0;a<b.length;a++)this.g.push(b.charCodeAt(a));break;case 10:b=
(new Bl).serialize(b);ta(this.g,b);ul(this,a.g<<3|4);break;case 11:b=(new Bl).serialize(b);ul(this,b.length);ta(this.g,b);break;case 7:wl(this,gl(b),4);break;case 15:wl(this,el(b),4);break;case 2:for(this.h.setFloat32(0,b,!0),a=0;4>a;a++)this.g.push(this.h.getUint8(a))}}m(a,b){if(null==b)return b;b instanceof ArrayBuffer&&(b=new Uint8Array(b));for(var c=a.l(),d=0;d<b.length;){var e=xl(this,b.subarray(d)),f=e.value,g=f>>3;f&=7;d+=e.length;if(e=c.h[parseInt(g,10)]||null)if(e.aa)for(g=xl(this,b.subarray(d)),
f=g.value,d+=g.length;0<f&&d<b.length;){g=this.o(e,b.subarray(d));if(!g)throw Error("Expected "+e.h);a.add(e,g.value);d+=g.length;f-=g.length}else{f=this.o(e,b.subarray(d));if(!f)throw Error("Expected "+e.h);d+=f.length;e.m?a.add(e,f.value):a.set(e,f.value)}else{e=d;d=b.subarray(d);g=0;switch(f){case 0:g=yl(this,d).length;break;case 1:g=8;break;case 2:d=yl(this,d);g=d.length+d.value.g;break;case 5:g=4}d=e+g}}}o(a,b){var c=null,d=a.h,e=yl(this,b),f=e.length;switch(d){case 17:c=e.value.g;c=c>>>1^-(c&
1);break;case 18:c=e.value;c=ql(c,1).xor(c.and(ol).negate()).toString();break;case 8:c=e.value.wa(ol);break;case 3:case 4:c=e.value.toString();break;case 5:c=e.value.g;break;case 14:case 13:c=e.value.g>>>0;break;case 6:case 16:c=b.subarray(0,8);c=(new dl(Al(c.subarray(0,4),!0),Al(c.subarray(4,8),!0))).toString();f=8;break;case 1:c=b.subarray(0,8);for(b=0;8>b;b++)this.h.setUint8(b,c[b]);c=this.h.getFloat64(0,!0);f=8;break;case 9:c=b.subarray(e.length,e.length+e.value.g);c=zl(c);c=decodeURIComponent(escape(c));
f=e.length+e.value.g;break;case 12:c=b.subarray(e.length,e.length+e.value.g);c=zl(c);f=e.length+e.value.g;break;case 10:f=c=new (a.v.prototype.l().sg);e=b;a=f.l();for(d=0;;){var g=xl(this,e),h=g.value;g=g.length;var k=h>>3;if(4==(h&7))break;d+=g;h={value:void 0,length:0};(k=a.h[parseInt(k,10)]||null)&&(h=this.o(k,e.subarray(g)))&&null!==h.value&&(k.m?f.add(k,h.value):f.set(k,h.value));d+=h.length;if(e.length<g+h.length)break;e=e.subarray(g+h.length)}f=d;b=yl(this,b.subarray(f));f+=b.length;break;
case 11:f=e.length+e.value.g;b=b.subarray(e.length,f);c=new (a.v.prototype.l().sg);this.m(c,b);break;case 7:case 15:c=Al(b.subarray(0,4),15==d);f=4;break;case 2:c=b.subarray(0,4);for(b=0;4>b;b++)this.h.setUint8(b,c[b]);c=this.h.getFloat32(0,!0);f=4}return{value:c,length:f}}};function Cl(a){"function"!==typeof p.setImmediate||p.Window&&p.Window.prototype&&!x("Edge")&&p.Window.prototype.setImmediate==p.setImmediate?(Dl||(Dl=El()),Dl(a)):p.setImmediate(a)}var Dl;
function El(){var a=p.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!x("Presto")&&(a=function(){var e=dk(document,"IFRAME");e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=ja(function(k){if(("*"==h||k.origin==h)&&k.data==g)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!x("Trident")&&!x("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.ph;c.ph=null;e()}};return function(e){d.next={ph:e};d=d.next;b.port2.postMessage(0)}}return function(e){p.setTimeout(e,0)}};var Fl={mn:0,bn:1,cn:2,dn:3,en:4,fn:5,gn:6,hn:7,jn:8,kn:9,ln:10},Gl={ym:0,xm:1,an:2,zm:3};function Hl(){B.call(this)}q(Hl,B);var Il=null;Hl.prototype.getMetadata=function(){return E(this,1)};function Jl(){B.call(this)}q(Jl,B);var Kl=null;Hl.prototype.l=function(){var a=Il;a||(Il=a=H(Hl,{0:{name:"PdfDocumentInfo",ca:"ink.proto.PdfDocumentInfo"},1:{name:"metadata",j:11,type:Jl},2:{name:"page_labels",na:!0,j:9,type:String},3:{name:"pages_with_ink",na:!0,bb:!0,j:13,type:Number}}));return a};Hl.l=Hl.prototype.l;
Jl.prototype.l=function(){var a=Kl;a||(Kl=a=H(Jl,{0:{name:"PdfMetadata",ca:"ink.proto.PdfMetadata"},1:{name:"title",j:9,type:String},2:{name:"author",j:9,type:String},3:{name:"subject",j:9,type:String},4:{name:"keywords",na:!0,j:9,type:String},5:{name:"creator",j:9,type:String},6:{name:"producer",j:9,type:String},7:{name:"creation_date_iso",j:9,type:String},8:{name:"mod_date_iso",j:9,type:String},9:{name:"linearized",j:8,type:Boolean},10:{name:"version",j:14,defaultValue:0,type:Fl},11:{name:"tagged",
j:8,type:Boolean},12:{name:"form_type",j:14,defaultValue:0,type:Gl}}));return a};Jl.l=Jl.prototype.l;var Ll=function(a){function b(c){this.content=c}b.prototype=a.prototype;return function(c,d){c=new b(String(c));void 0!==d&&(c.g=d);return c}}(kk);function Ml(a){return null!=a&&a.qh===ik?String(String(a.content).replace(Nl,"").replace(Ol,"&lt;")).replace(Pl,Ql):String(a).replace(Rl,Ql)}
const Sl={"\x00":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Ql(a){return Sl[a]}const Rl=/[\x00\x22\x26\x27\x3c\x3e]/g,Pl=/[\x00\x22\x27\x3c\x3e]/g,Tl=/^[a-zA-Z0-9+\/_-]+={0,2}$/;function Ul(a){a=String(a);return Tl.test(a)?a:"zSoyz"}
const Nl=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Ol=/</g;function Vl(a,b){a=b&&b.sh;return Ll('<div class="ink-emscripten-engine"><style'+(a?' nonce="'+Ml(Ul(a))+'"':"")+'>\n      .ink-emscripten-engine {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n      }\n      .ink-engine {\n        transform-origin: left top;\n        /* Suppress default focus style on the canvas element. */\n        outline: 0;\n      }\n    </style><canvas class="ink-engine" tabindex="-1"></canvas></div>')}
;var Wl=new N("flag_changed"),Xl=new N("canvas_initialized"),Yl=new N("scene_change"),Zl=new N("camera_changed"),$l=new N("tool"),am=new N("blocking_state_changed"),bm=new N("invisible_layer_action_prevented"),cm=new N("navigate-to"),dm=new N("pdf-loaded"),em=new N("pdf-unsupported-feature"),fm=new N("pdf-form-changed"),gm=new N("pdf-form-field-focused"),hm=new N("pdf-form-text-field-focus-changed"),im=new N("pending-textures-changed"),jm=new N("fatal_error"),km=class extends O{constructor(a){super(Wl);
this.enabled=a}},lm=class extends O{constructor(){super(jm)}},mm=class extends O{constructor(){super(Yl)}},nm=class extends O{constructor(a){super($l);this.g=a}},om=class extends O{constructor(){super(am)}},pm=class extends O{constructor(a){super(cm);this.uri=a}},qm=class extends O{constructor(){super(im)}},rm=class extends O{constructor(){super(dm)}},sm=class extends O{constructor(){super(em)}},tm=class extends O{constructor(a){super(hm);this.text=a}},um=class extends O{constructor(a,b,c,d){super(gm);
this.g=a;this.o=b;this.m=c;this.text=d}};function vm(a){const b=[];let c=1,d=0;for(let f=0;f<a.length;++f){let g;var e=a.charCodeAt(f);e=null!=(g=33<=e&&126>=e?1:19968<=e&&40869>=e||59335<=e&&59379>=e||12288<=e&&12351>=e||8192<=e&&8303>=e?6:12352<=e&&12447>=e||12448<=e&&12543>=e||12784<=e&&12799>=e||65280<=e&&65519>=e?8:44032<=e&&55215>=e||4352<=e&&4607>=e||12592<=e&&12687>=e?7:3584<=e&&3711>=e?12:880<=e&&1023>=e||7936<=e&&8191>=e?10:1536<=e&&1791>=e||64336<=e&&65276>=e?2:1424<=e&&1535>=e?11:1024<=e&&1279>=e?4:256<=e&&591>=e?5:7680<=e&&
7935>=e?13:null)?g:c;e!==c&&(d<f&&(b.push({text:a.substring(d,f),charset:c}),d=f),c=e)}d<a.length&&b.push({text:a.substring(d),charset:c});return b};/*

 MIT License

 Copyright (c) 2018 Justin Windle

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
*/
let wm=!1,xm,ym,Q;var zm={re:"S",ld:"n",kf:"x",se:"p",pe:"h",hf:"i"};
const Am=(a="top")=>{ym.setTransform(1,0,0,1,0,"bottom"===a?Q.height:0);ym.textBaseline=a},Bm=a=>{ym.clearRect(0,0,Q.width,Q.height);ym.fillText(a,Q.width/2,xm,Q.width);return ym.getImageData(0,0,Q.width,Q.height).data},Cm=a=>{for(let b=3,c=a.length;b<c;b+=4)if(0<a[b])return(b-3)/4;return a.length},Dm=a=>{var b=Math,c=b.round;a:{a=Bm(a);for(let d=a.length-1;3<=d;d-=4)if(0<a[d]){a=d/4;break a}a=0}return c.call(b,a/Q.width)-xm},Em=({fontFamily:a="Times",fontWeight:b="normal",fontSize:c=200,origin:d=
"baseline"}={})=>{wm||(Q=document.createElement("canvas"),ym=Q.getContext("2d"),wm=!0);xm=.5*c;Q.width=2*c;Q.height=2*c+xm;ym.font=`${b} ${c}px ${a}`;ym.textBaseline="top";ym.textAlign="center";var e=Object,f=e.assign;var g=Math.round(Cm(Bm(zm.re))/Q.width)-xm;var h=Dm(zm.ld),k=Math.round(Cm(Bm(zm.kf))/Q.width)-xm,m=Dm(zm.se);Am("bottom");var n=Q.height-Dm("A");Am("top");n=Dm("A")+n;g={re:g,ld:h,kf:k,se:m,bottom:n,pe:Math.round(Cm(Bm(zm.pe))/Q.width)-xm,hf:Math.round(Cm(Bm(zm.hf))/Q.width)-xm,top:0};
h={};d=g[d];for(let r in g)h[r]=(g[r]-d)/c;return f.call(e,{},h,{fontFamily:a,fontWeight:b,fontSize:c})};function Fm(a){switch(a){case "right":return 3;case "center":return 2;case "justify":return 4;default:return 1}}function Gm(a){switch(a){case 3:return"right";case 2:return"center";case 4:return"justify";default:return"left"}}
function Hm({family:a,style:b,weight:c}){a:{a=Oa(a.split(",")[0]);for(var d=0;2>d;d++){var e="\"'".charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e){a=a.substring(1,a.length-1);break a}}}b="normal"!==b;c="bold"===c?700:Number(c)||400;e=500<=c;d=new sh;switch(a){case "Courier":e?b?F(d,1,8):F(d,1,7):b?F(d,1,6):F(d,1,5);break;case "Helvetica":e?b?F(d,1,4):F(d,1,3):b?F(d,1,2):F(d,1,1);break;case "Symbol":F(d,1,13);break;case "Times":e?b?F(d,1,12):F(d,1,11):b?F(d,1,10):F(d,1,9);break;default:e=new qh,
F(e,1,a),F(e,2,b),F(e,3,c),d.ef(e)}return d}function Im(a){let b="Helvetica",c=!1,d=400;if(a)if(D(a,1)){switch(G(a,1)){case 5:case 6:case 7:case 8:b="Courier";break;case 9:case 10:case 11:case 12:b="Times";break;case 13:b="Symbol"}switch(G(a,1)){case 2:case 4:case 6:case 8:case 10:case 12:c=!0}switch(G(a,1)){case 3:case 4:case 7:case 8:case 11:case 12:d=700}}else if(D(a,2))b=G(a,2);else if(a.hasAttributes())return a.dg();a=new qh;F(a,1,b);F(a,2,c);F(a,3,d);return a}
function Jm(a){let b;switch(E(a,1)){case "Courier":b='Courier, "Courier New", monospace';break;case null:case "Helvetica":b="Helvetica, Arial, sans-serif";break;case "Symbol":b="Symbol, math";break;case "Times":b='Times, "Times New Roman", serif';break;default:b=`"${E(a,1)}"`}const c=G(a,2)?"italic":"normal";a=`${G(a,3)}`;return{family:b,style:c,weight:a}}
function Km(a,b,{family:c,style:d,weight:e}){const f=document.createElement("div");f.style.display="inline-block";f.style.fontFamily=c;f.style.fontSize=`${b}px`;f.style.fontStyle=d;f.style.fontWeight=e;f.style.padding="0";f.style.whiteSpace="nowrap";f.textContent=a.replaceAll(" ","\u00a0");document.body.appendChild(f);a=Em({fontFamily:c,fontWeight:e,fontSize:b,origin:"top"});c=f.clientWidth;f.style.fontSize="2048px";b={width:c,re:a.re*b,ld:a.ld*b,kf:a.kf*b,se:a.se*b,bottom:a.bottom*b,pe:a.pe*b,hf:a.hf*
b,top:a.top*b,hl:.125*b,gl:Math.round(f.clientHeight/2048*b)};document.body.removeChild(f);return b}function Lm(a,b){if(a){const c=Yb(Vb(a.ac())),d=G(a,3)*b,e=G(a,4)*b;a=G(a,2)*b;return`${c} ${d}px ${e}px ${a}px`}return"none"};function Mm(a,b,c,d){const e=[];for(b=c-b;0<a.length;){for(var f=a.match(/^\s*/)[0],g=a.substring(f.length);0<g.length;){const h=g.match(/^\s*[^-\s]*-?/)[0];let k=f+h;if(d(k)>b){if(0<f.length||b<c)break;k=h.charAt(0);for(f=2;f<h.length;++f){g=h.substring(0,f);if(d(g)>b)break;k=g}}f=k;g=a.substring(f.length)}b=c;e.push(f);a=g.trimStart()}return e}function Nm(a,b,c){if(0!==b.length){var d=null===c?a.h:Jm(Im(c));d=Km(b,a.m,d);a.o.push({text:b,nc:c,pb:d.width});a.pb+=d.width}}
class Om{constructor(a,b,c){this.g=a;this.m=b;this.h=c;this.o=[];this.pb=0}v(){return this.pb}clear(){this.o=[];this.pb=0}align(a,b){if(4===a){var c=[];a=[];var d=0,e=0;for(var f of this.o){var g=f.nc;g=null===g?this.h:Jm(Im(g));let k=f.text.trimStart();for(;0<k.length;){const m=k.match(/^\S*/)[0];k=k.substring(m.length);const n=Km(m,this.m,g).width,r=k.match(/^\s*/)[0];k=k.substring(r.length);a.push({text:m,nc:f.nc,pb:n,pk:r.length});d+=n;e+=r.length}}f=(this.g-d)/e;d=0;for(var h of a)a=new uh,a.cb(h.text),
null!==h.nc&&a.wb(h.nc),e=new I,F(e,1,d/this.g),F(e,2,b),F(a,2,e),c.push(a),d+=h.pb+h.pk*f;return c}h=0;2===a?h=(this.g-this.pb)/2:3===a&&(h=this.g-this.pb);a=[];for(c of this.o)f=new uh,f.cb(c.text),null!==c.nc&&f.wb(c.nc),d=new I,F(d,1,h/this.g),F(d,2,b),F(f,2,d),a.push(f),h+=c.pb;return a}}function Pm(a,b){const c=null===a.aa?a.da.hl:a.aa+a.da.gl,d=1-(c+a.da.ld)/a.ha;let e=a.ba.ve();4===e&&b&&(e=1);b=a.o.align(e,d);for(const f of b)Gb(a.ga,1,f);a.o.clear();a.aa=c}
function Qm(a,b,c){const d=null===c?a.h:Jm(Im(c));b=Mm(b,a.o.v(),a.g,e=>Km(e,a.m,d).width);for(let e=0;e<b.length;++e)Nm(a.o,b[e],c),e<b.length-1&&Pm(a,!1)}function Rm(a){for(const e of a.ba.lb().split("\n")){for(const {text:f,charset:g}of vm(e)){var b=a,c=f,d=g;let h=null;1!==d&&(d=b.ea({family:G(b.v,1),weight:G(b.v,3),qp:G(b.v,2),charset:d}))&&(h=new sh,F(h,2,d));Qm(b,c,h)}Pm(a,!0)}return a.ga}
class Sm{constructor(a,b,c,d){this.ba=a;this.g=b;this.ha=c;this.ea=d;this.ga=new wh;this.aa=null;this.m=G(this.ba,4)*this.g;this.v=Im(this.ba.pc());this.h=Jm(this.v);this.da=Km("Mg",this.m,this.h);this.o=new Om(this.g,this.m,this.h)}};function Tm(a){return{top:a.top,right:a.right,bottom:a.bottom,left:a.left}}var Um=class extends Tk{constructor(a){super(a.top,a.right,a.bottom,a.left)}h(){return new Qj((this.right+this.left)/2,(this.top+this.bottom)/2)}g(){const a=new K;F(a,1,this.left);F(a,2,this.right);F(a,3,this.bottom);F(a,4,this.top);return a}};function R(a,b){Cl(()=>a.dispatchEvent(b))}
var Wm=class extends O{constructor(a,b,c,d,e,f){super(Vm);this.id=a;this.size=b;this.m=c;this.g=d;this.o=e;this.errorMessage=f}},Ym=class extends O{constructor(a){super(Xm);this.g=a}},$m=class extends O{constructor(a){super(Zm);this.error=a}},bn=class extends O{constructor(a){super(an);this.id=a}},dn=class extends O{constructor(a){super(cn);this.uri=a}},fn=class extends O{constructor(){var a=new Ub(0);super(en);this.m=0;this.color=a;this.g=0}},hn=class extends O{constructor(a){super(gn);this.g=a}},
kn=class extends O{constructor(a){super(jn);this.g=a}},mn=class extends O{constructor(){super(ln)}},on=class extends O{constructor(a,b,c,d){super(nn);this.g=a;this.o=b;this.text=c;this.m=d}},qn=class extends O{constructor(a){super(pn);this.mode=a}},Vm=new N("image_export_complete"),Xm=new N("pdf_save_complete"),Zm=new N("pdf_save_failed"),an=new N("sequence_point_reached"),cn=new N("image_requested"),en=new N("cursor_changed"),gn=new N("camera_movement_changed"),jn=new N("started_editing_text"),ln=
new N("text_edit_box_moved"),nn=new N("done_editing_text"),rn=new N("fps_zero"),pn=new N("keyboard_mode_changed");var tn=class{constructor(a,b,c,d,e){this.la=a;this.ba=b;this.g=c;this.da=d;this.ga=e;this.m=null;this.o=async()=>{throw Error("no font provider set");};this.v=()=>null;this.aa=new Bl;this.h=new fn}setTargetFPS(a){sn(this.ba,a)}bindScreen(){this.g.bindFramebuffer(this.g.FRAMEBUFFER,this.m)}requestImage(a){R(this.la,new dn(a))}setCursor(a,b,c){this.h.m=a;this.h.color=new Ub(b);this.h.g=c;this.la.dispatchEvent(this.h)}navigateToUri(a){this.la.dispatchEvent(new pm(a))}setKeyboardMode(a){R(this.la,new qn(a))}shouldPreloadShaders(){return this.da}shouldRegisterDocument(){return this.ga}renderText(a,
b,c){var d=new Ah;this.aa.m(d,a);var e=this.v;a=document.createElement("canvas");a.width=b;a.height=c;a=a.getContext("2d");a.fillStyle=Yb(Vb(d.ac()));const f=G(d,4)*b,g=Jm(Im(d.pc()));if(d.fi()){var h=d.ai();a.shadowColor=Yb(Vb(h.ac()));a.shadowBlur=G(h,2)*b;a.shadowOffsetX=G(h,3)*b;a.shadowOffsetY=G(h,4)*b}(h=E(d,8))||(h=Rm(new Sm(d,b,c,e)));a.textAlign="left";a.textBaseline="alphabetic";for(const k of Ib(h,1)||[]){d=k.lb();e=G(k,2).xe();h=G(k,2).ye();e*=b;h=c*(1-h);const m=k.kg()?Jm(Im(k.pc())):
g;a.font=`${m.style} ${m.weight} ${f}px ${m.family}`;a.fillText(d,e,h)}b=a.getImageData(0,0,b,c);return new Uint8Array(b.data.buffer)}async getFontData(){return this.o()}selectMatchingFont(){return null}onImageExported(a,b,c,d,e,f,g){R(this.la,new Wm(a,new Sj(b,c),d,e,f,g))}onSequencePointReached(a){R(this.la,new bn(a))}onFlagChanged(a,b){R(this.la,new km(b))}onSceneChange(a){const b=new jj;this.aa.m(b,a);R(this.la,new mm)}onToolEvent(a){const b=new Oj;this.aa.m(b,a);R(this.la,new nm(b))}onCameraChanged(){this.la.dispatchEvent(Zl)}onCameraMovementStateChanged(a){R(this.la,
new hn(a))}onBlockingStateChanged(){R(this.la,new om)}onInvisibleLayerActionPrevented(){R(this.la,bm)}onPdfLoaded(a){const b=new Hl;this.aa.m(b,a);R(this.la,new rm)}onPdfSaveComplete(a){R(this.la,new Ym(a))}onPdfUnsupportedFeature(){R(this.la,new sm)}onPdfSaveFailed(a){R(this.la,new $m(a))}onPdfFormChanged(){R(this.la,fm)}onPdfFormFieldFocused(a,b,c,d){var e=new K;this.aa.m(e,b);b=this.la;e=new Um({left:G(e,1),right:G(e,2),bottom:G(e,3),top:G(e,4)});R(b,new um(a,e,c,d))}onPdfFormTextFieldFocusChanged(a,
b){R(this.la,new tm(null!=b?b:""))}onPendingTexturesChanged(){R(this.la,new qm)}};function S(a,b){if(a instanceof S)this.h=a.h;else{var c;if(c=ea(a))a:{for(var d=c=0;d<a.length;d++){if(!ea(a[d])||0<c&&a[d].length!=c){c=!1;break a}for(var e=0;e<a[d].length;e++)if("number"!==typeof a[d][e]){c=!1;break a}0==c&&(c=a[d].length)}c=0!=c}if(c)this.h=sa(a);else if(a instanceof Sj)this.h=un(a.height,a.width);else if("number"===typeof a&&"number"===typeof b&&0<a&&0<b)this.h=un(a,b);else throw Error("Invalid argument(s) for Matrix contructor");}this.g=new Sj(this.h[0].length,this.h.length)}
function vn(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new S(b)}function wn(a,b,c){for(var d=0;d<a.g.height;d++)for(var e=0;e<a.g.width;e++)b.call(c,a.h[d][e],d,e,a)}function xn(a,b){var c=new S(a.g);wn(a,function(d,e,f){c.h[e][f]=b.call(void 0,d,e,f,a)});return c}function un(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c}
S.prototype.add=function(a){if(!Tj(this.g,a.g))throw Error("Matrix summation is only supported on arrays of equal size");return xn(this,function(b,c,d){return b+a.h[c][d]})};function yn(a,b){if(a.g.height!=b.g.height)throw Error("The given matrix has height "+b.g.height+", but  needs to have height "+a.g.height+".");var c=new S(a.g.height,a.g.width+b.g.width);wn(a,function(d,e,f){c.h[e][f]=d});wn(b,function(d,e,f){c.h[e][this.g.width+f]=d},a);return c}
S.prototype.wa=function(a){if(this.g.width!=a.g.width||this.g.height!=a.g.height)return!1;for(var b=0;b<this.g.height;b++)for(var c=0;c<this.g.width;c++)if(!(1E-6>=Math.abs(this.h[b][c]-a.h[b][c])))return!1;return!0};
function zn(a){if(a.g.width!=a.g.height)throw Error("An inverse can only be taken on a square matrix.");if(1==a.g.width){var b=An(a,0,0);return 0==b?null:new S([[1/Number(b)]])}b=vn(a.g.height);a:{a=yn(a,b);for(var c=new S(a),d=0,e=0;e<c.g.height&&!(d>=c.g.width);e++){for(var f=e;0==c.h[f][d];)if(f++,f==c.g.height&&(f=e,d++,d==c.g.width)){a=c;break a}var g=a,h=e,k=g.h[f];g.h[f]=g.h[h];g.h[h]=k;f=c.h[e][d];for(g=d;g<c.g.width;g++)c.h[e][g]/=f;for(f=0;f<c.g.height;f++)if(f!=e)for(h=c.h[f][d],g=d;g<
c.g.width;g++)c.h[f][g]-=h*c.h[e][g];d++}a=c}return Bn(a,0,b.g.width-1,b.g.height-1).wa(b)?Bn(a,b.g.width):null}function An(a,b,c){return 0<=b&&b<a.g.height&&0<=c&&c<a.g.width?a.h[b][c]:null}
S.prototype.multiply=function(a){if(a instanceof S){if(this.g.width!=a.g.height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return Cn(this,a)}if("number"===typeof a)return Dn(this,a);throw Error("A matrix can only be multiplied by a number or another matrix.");};
S.prototype.ce=function(a){if(!Tj(this.g,a.g))throw Error("Matrix subtraction is only supported on arrays of equal size.");return xn(this,function(b,c,d){return b-a.h[c][d]})};function Bn(a,b,c,d){var e=new S((c?c:a.g.height-1)+1,(d?d:a.g.width-1)-b+1);wn(e,function(f,g,h){e.h[g][h]=this.h[g][b+h]},a);return e}
function Cn(a,b){var c=new S(a.g.height,b.g.width);wn(c,function(d,e,f){for(var g=d=0;g<this.g.width;g++)d+=An(this,e,g)*An(b,g,f);if(!(0<=e&&e<c.g.height&&0<=f&&f<c.g.width))throw Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+c.g.height+","+c.g.width+")");c.h[e][f]=d},a);return c}function Dn(a,b){return xn(a,function(c){return c*b})};function T(a,b){this.x=a;this.y=b}q(T,Qj);l=T.prototype;l.clone=function(){return new T(this.x,this.y)};l.scale=Qj.prototype.scale;l.normalize=function(){return this.scale(1/Math.hypot(this.x,this.y))};l.add=function(a){this.x+=a.x;this.y+=a.y;return this};l.ce=function(a){this.x-=a.x;this.y-=a.y;return this};l.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};
l.wa=function(a){return this===a?!0:a instanceof T&&!!a&&this.x==a.x&&this.y==a.y};function En(a){return new S([[G(a,3),G(a,6),G(a,1)],[G(a,7),G(a,4),G(a,2)],[G(a,8),G(a,9),G(a,10)]])}
var Fn=(a,b)=>{b=new S([[b.x],[b.y],[1]]);a=a.multiply(b);return{x:An(a,0,0)||0,y:An(a,1,0)||0}},Gn=(a,b)=>{const {x:c,y:d}=Fn(a,b);return new T(c,d)},Hn=(a,b)=>{const {x:c,y:d}=Fn(a,{x:b.left,y:b.bottom}),{x:e,y:f}=Fn(a,{x:b.right,y:b.bottom}),{x:g,y:h}=Fn(a,{x:b.left,y:b.top}),{x:k,y:m}=Fn(a,{x:b.right,y:b.top});return new Um({left:Math.min(c,e,g,k),right:Math.max(c,e,g,k),bottom:Math.min(d,f,h,m),top:Math.max(d,f,h,m)})};function In(a){try{if(!a.ok)throw Error(a.status.ToString);return a.value}finally{a.delete()}}function U(a){try{if(!a.ok)throw Error(a.ToString);}finally{a.delete()}}function V(a,b){try{return b(a)}finally{a.delete()}};function sn(a,b){const c=a.h;a.h=b;0===c&&0<b&&a.start()}function Jn(a,b){if(!a.g&&(a.g=b,a.ea)){var c=a.ea;a.ea=()=>{const d=a.g,e=a.ha[a.o];e&&d.getSyncParameter(e,d.SYNC_STATUS)===d.UNSIGNALED?a.ga++:(a.ha[a.o]=null,c(),d.flush(),a.ha[a.o]=d.fenceSync(d.SYNC_GPU_COMMANDS_COMPLETE,0),a.o=(a.o+1)%2)}}}function Kn(a,b){a.ea=b;a.g&&Jn(a,a.g)}function Ln(a){let b=0,c=0;for(var d of a.v)d>b&&(b=d),c+=d;c/=a.v.length;let e=d=0;for(const f of a.aa)f>d&&(d=f),e+=f;e/=a.aa.length;console.log(`Frame rate statistics:
                 Average draw time: ${e}
                 Max draw time: ${d}
                 Average frame time: ${c}
                 Max frame time: ${b}
                 Dropped frames: ${a.ga}`);a.v.length=0;a.aa.length=0;a.ga=0;a.da=0}
var Mn=class extends Rk{constructor(){super();this.m=this.ea=null;this.ka=0;this.aa=[];this.da=0;this.v=[];this.ga=0;this.h=60;this.g=null;this.ha=[null,null];this.o=0;this.ia=a=>{if(0===this.h)this.m=null,R(this,rn),p.SHOW_FPS&&Ln(this);else{this.m=requestAnimationFrame(this.ia);var b=a-this.ka;p.SHOW_FPS&&(0!==this.da&&(this.v.push(a-this.da),this.aa.push(b),60===this.v.length&&Ln(this)),this.da=a);60>this.h&&1>b-1/this.h*1E3||(this.ba&&(this.ba(),this.ba=void 0),this.ea&&this.ea(),this.ka=a)}}}start(){this.ea&&
!this.m&&(this.m=requestAnimationFrame(this.ia))}stop(){null!==this.m&&(cancelAnimationFrame(this.m),this.m=null,R(this,rn),p.SHOW_FPS&&Ln(this))}ab(){0===this.h&&sn(this,60)}};function Nn(a,b,c){const d=a.g.indexOf(b);-1===d?(a.g.push(b),a.listeners.push([c]),a.m.push(Vk(b))):a.listeners[d].push(c);a.h?a.h.observe(b):a.o||(a.o=!0,requestAnimationFrame(a.ba))}
var On=class{constructor(){this.g=[];this.listeners=[];this.m=[];this.h=null;this.o=!1;this.ba=()=>{const a=window.devicePixelRatio;for(const b of this.g){const c=Vk(b);this.notify(b,c,a)}this.o&&requestAnimationFrame(this.ba)};this.v=window.devicePixelRatio;"undefined"!==typeof ResizeObserver&&(this.h=new ResizeObserver(a=>{const b=window.devicePixelRatio;for(const c of a)this.notify(c.target,new Sj(c.contentRect.width,c.contentRect.height),b);this.v=b}))}notify(a,b,c){const d=this.g.indexOf(a);
if(!Tj(this.m[d],b)||this.v!==c){this.m[d]=b;this.v=c;for(const e of this.listeners[d])e(a,b,c)}}};const Pn="undefined"!==typeof PointerEvent?["pointerdown","pointerup","pointercancel","pointermove","wheel"]:"mousedown mouseup mousemove wheel touchstart touchend touchmove touchcancel".split(" "),Qn=["copy","cut","keydown","keyup"],Rn=new Map([["ArrowDown","DOWN_ARROW"],["ArrowLeft","LEFT_ARROW"],["ArrowRight","RIGHT_ARROW"],["ArrowUp","UP_ARROW"],["Backspace","BACKSPACE"],["Delete","DELETE"],["End","END"],["Enter","ENTER"],["Escape","ESCAPE"],["Home","HOME"],["PageDown","PAGE_DOWN"],["PageUp",
"PAGE_UP"],["Tab","TAB"]]),Sn=new Map([["Alt",["LEFT_ALT","RIGHT_ALT"]],["Control",["LEFT_CONTROL","RIGHT_CONTROL"]],["Meta",["LEFT_META","RIGHT_META"]],["Shift",["LEFT_SHIFT","RIGHT_SHIFT"]]]);function Tn(a){for(let b=0;b<Pn.length;b++)a.canvas.addEventListener(Pn[b],a.da,{passive:!1});"undefined"===typeof PointerEvent&&window.addEventListener("mouseup",a.da)}
function Un(a,b){a.m&&(a.va=b,b=Hn(a.ea,b).scale(1/a.v),b.top=a.ka-b.top,b.bottom=a.ka-b.bottom,a.m.style.left=`${b.left}px`,a.m.style.top=`${b.top}px`,a.m.style.right=`${b.right}px`,a.m.style.bottom=`${b.bottom}px`,a.m.style.width=`${b.ci()}px`,a.m.style.height=`${b.gg()}px`)}function Vn(a){if(a.m){var b=a.va.h(),c=a.m.value;V(new a.h.PointProto,d=>{d.x=b.x;d.y=b.y;U(a.g.setFormFieldText(c,d,a.h.MoveFocus.MOVE_FOCUS_NONE))})}}
function Wn(a,b){switch(b){case "pointerdown":case "mousedown":case "touchstart":return a.h.InputFlag.TDOWN.value|a.h.InputFlag.INCONTACT.value;case "pointerup":case "mouseup":case "touchend":return a.h.InputFlag.TUP.value;case "pointermove":case "mousemove":case "touchmove":return a.h.InputFlag.INCONTACT.value;case "pointercancel":case "touchcancel":return a.h.InputFlag.TUP.value|a.h.InputFlag.CANCEL.value;default:return 0}}
function Xn(a,b,c,d){if("pen"===c.pointerType){if(!("pointerdown"!==c.type&&!a.pa||c.buttons&2)){"pointerdown"===c.type&&(a.pa=!0,Yn(a,c),a.canvas.focus());"pointerup"===c.type&&(a.pa=!1);if(c.buttons&32||5===c.button)b|=a.h.InputFlag.ERASER.value;Zn(a,c.offsetX,c.offsetY,c instanceof PointerEvent);var e=c.tiltX,f=c.tiltY;0===e&&0===f?(a.de=0,a.orientation=0):90===Math.abs(e)||90===Math.abs(f)?(a.de=.5*Math.PI,a.orientation=0):(e*=Math.PI/180,f*=Math.PI/180,e=Math.tan(e),f=-Math.tan(f),a.de=Math.atan(Math.sqrt(e*
e+f*f)),a.orientation=Math.atan2(f,e),0>a.orientation&&(a.orientation+=2*Math.PI));c.preventDefault();d.push({type:a.h.InputType.PEN.value,id:c.pointerId,flags:b,timestamp:c.timeStamp/1E3,x:a.o.x,y:a.o.y,pressure:c.pressure,de:a.de,orientation:a.orientation})}}else if("touch"===c.pointerType)"pointerdown"===c.type&&(Yn(a,c),a.canvas.focus()),c.preventDefault(),$n(a,b,c.pointerId,c.offsetX,c.offsetY,c instanceof PointerEvent,c.timeStamp/1E3,d);else if("mouse"===c.pointerType)switch(c.type){case "pointerdown":ao(a,
b,c,d);a.canvas.focus();break;case "pointerup":case "pointercancel":bo(a,b,c,d);break;case "pointermove":co(a,b,c,d)}}function ao(a,b,c,d){if(null==a.ga){Yn(a,c);if(a.ia(c)){var e=a.h.MouseIds.MOUSELEFT;b|=a.h.InputFlag.LEFT.value}else e=a.h.MouseIds.MOUSERIGHT,b|=a.h.InputFlag.RIGHT.value;b=eo(a,c,b);a.ga=e;c.preventDefault();Zn(a,c.offsetX,c.offsetY,!0);d.push({type:a.h.InputType.MOUSE.value,id:e.value,flags:b,timestamp:c.timeStamp/1E3,x:a.o.x,y:a.o.y})}}
function bo(a,b,c,d){let e;a.ia(c)?(e=a.h.MouseIds.MOUSELEFT,b|=a.h.InputFlag.LEFT.value):(e=a.h.MouseIds.MOUSERIGHT,b|=a.h.InputFlag.RIGHT.value);null!=a.ga&&a.ga===e&&(a.ga=null,b=eo(a,c,b),c.preventDefault(),Zn(a,c.offsetX,c.offsetY,!0),d.push({type:a.h.InputType.MOUSE.value,id:e.value,flags:b,timestamp:c.timeStamp/1E3,x:a.o.x,y:a.o.y}))}
function co(a,b,c,d){let e=a.h.MouseIds.MOUSEHOVER;1!==(c.buttons&1)||ae&&be&&c.ctrlKey||ae&&x("CrOS")&&c.altKey?2===(c.buttons&2)||1===(c.buttons&1)&&ae&&be&&c.ctrlKey||1===(c.buttons&1)&&ae&&x("CrOS")&&c.altKey?(e=a.h.MouseIds.MOUSERIGHT,b|=a.h.InputFlag.RIGHT.value):b&=~a.h.InputFlag.INCONTACT.value:(e=a.h.MouseIds.MOUSELEFT,b|=a.h.InputFlag.LEFT.value);b=eo(a,c,b);if(e===a.h.MouseIds.MOUSEHOVER||e===a.ga)c.preventDefault(),Zn(a,c.offsetX,c.offsetY,!0),d.push({type:a.h.InputType.MOUSE.value,id:e.value,
flags:b,timestamp:c.timeStamp/1E3,x:a.o.x,y:a.o.y})}function fo(a,b){a.aa.push(...b);a.ba.ba||(a.ba.ba=()=>{0<a.aa.length&&(a.g.dispatchInput(a.aa),a.aa=[])});a.ba.ab()}function go(a,b){b&&(a.g.dispatchUtf8InputEvent(b),a.m&&(a.m.value=""))}function Yn(a,b){"undefined"!==typeof PointerEvent&&b instanceof PointerEvent&&a.canvas.setPointerCapture(b.pointerId)}function $n(a,b,c,d,e,f,g,h){Zn(a,d,e,f);h.push({type:a.h.InputType.TOUCH.value,id:c,flags:b,timestamp:g,x:a.o.x,y:a.o.y})}
function Zn(a,b,c,d){a.o.x=b*a.v;a.o.y=c*a.v;if(d&&a.ha){b=screen.orientation.angle;if(90===b||180===b)a.o.y=a.canvas.height-a.o.y;if(180===b||270===b)a.o.x=a.canvas.width-a.o.x;90===b%180&&([a.o.x,a.o.y]=[a.o.y,a.o.x])}}function eo(a,b,c){b.altKey&&(c|=a.h.InputFlag.ALT.value);b.ctrlKey&&(c|=a.h.InputFlag.CONTROL.value);b.metaKey&&(c|=a.h.InputFlag.META.value);b.shiftKey&&(c|=a.h.InputFlag.SHIFT.value);return c}
function ho(a,b){var c=Rn.get(b.key);if(c)return a.h.Keycode[c];if(c=Sn.get(b.key))return a.h.Keycode[b.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT?c[1]:c[0]];if(1===b.key.length){b=b.key.charCodeAt(0);if(65<=b&&90>=b)return a.h.Keycode.values[b+32];if(32<=b&&126>=b)return a.h.Keycode.values[b]}return null}
var io=class extends nk{constructor(a,b,c,d,e){super();this.h=a;this.g=b;this.canvas=c;this.ha=d;this.ba=e;this.orientation=this.de=0;this.ea=vn(3);this.ka=0;this.va=new Um({left:0,top:0,right:0,bottom:0});this.pa=!1;this.ga=null;this.aa=[];this.da=f=>{this.handleEvent(f)};this.jb=()=>{Vn(this);this.m&&(this.m.remove(),this.m=void 0)};this.v=window.devicePixelRatio;this.o=new Qj(0,0)}setKeyboardMode(a){if(0===a)for(const b of Qn)window.removeEventListener(b,this.da);else for(const b of Qn)window.addEventListener(b,
this.da)}onCameraChanged(a,b){let c;this.ea=null!=(c=zn(a))?c:this.ea;this.ka=b;this.m&&"0"!==this.m.style.opacity&&Un(this,this.va)}handleEvent(a){if("undefined"!==typeof PointerEvent&&a instanceof PointerEvent||"undefined"!==typeof TouchEvent&&a instanceof TouchEvent||a instanceof WheelEvent||a instanceof MouseEvent){var b=[];var c=Wn(this,a.type);if("undefined"!==typeof PointerEvent&&a instanceof PointerEvent){var d=b;if(PointerEvent.prototype.getCoalescedEvents){var e=a.getCoalescedEvents();if(2>
e.length)d=!1;else{var f=!1;for(var g of e){if(0===g.timeStamp)break;f=!0;Xn(this,Wn(this,g.type),g,d)}d=f}}else d=!1;d||Xn(this,c,a,b)}else if("undefined"!==typeof TouchEvent&&a instanceof TouchEvent){d=b;f=e=null;for(g=0;g<a.changedTouches.length;g++){const r=a.changedTouches[g],w=r.target;if(e===w)var h=f;else{var k=w,m=Zj(k);h=new Qj(0,0);var n=m?Zj(m):document;n=!Yd||9<=Number(me)||ek(Xj(n).g)?n.documentElement:n.body;k!=n&&(k=Uk(k),n=Xj(m).g,m=n.scrollingElement?n.scrollingElement:!ae&&ek(n)?
n.documentElement:n.body||n.documentElement,n=n.parentWindow||n.defaultView,m=Yd&&je()&&n.pageYOffset!=m.scrollTop?new Qj(m.scrollLeft,m.scrollTop):new Qj(n.pageXOffset||m.scrollLeft,n.pageYOffset||m.scrollTop),h.x=k.left+m.x,h.y=k.top+m.y)}e!==w&&(e=w,f=h);$n(this,c,Math.abs(r.identifier),r.pageX-h.x,r.pageY-h.y,!0,a.timeStamp/1E3,d)}a.preventDefault()}else if(a instanceof WheelEvent){if(d=b,f=1===a.deltaMode?40:1,e=a.deltaX*f,g=-a.deltaY*f,0!==e||0!==g)f=this.h.MouseIds.MOUSEWHEEL,c|=this.h.InputFlag.WHEEL.value,
c=eo(this,a,c),a instanceof WheelEvent&&a.preventDefault(),Zn(this,a.offsetX,a.offsetY,a instanceof WheelEvent),d.push({type:this.h.InputType.MOUSE.value,id:f.value,flags:c,timestamp:a.timeStamp/1E3,x:this.o.x,y:this.o.y,wheelDeltaX:e,wheelDeltaY:g})}else if(a instanceof MouseEvent)switch(a.type){case "mousedown":ao(this,c,a,b);break;case "mouseup":bo(this,c,a,b);break;case "mousemove":co(this,c,a,b)}c=this.ba;c.h&&performance.now()>c.ka+1E3/c.h?fo(this,b):(a="undefined"!==typeof PointerEvent&&a instanceof
PointerEvent&&this.ha&&this.h._willPartialDraw(this.g.$$.ptr),0<this.aa.length&&(this.g.dispatchInput(this.aa),this.aa=[]),0<b.length&&this.g.dispatchInput(b),a&&(a=this.ba,a.ea&&a.ea()))}else if(a instanceof KeyboardEvent){if(c=ho(this,a),null!==c){b=0;switch(a.type){case "keydown":b=a.repeat?this.h.KeyStateFlag.REPEAT.value:this.h.KeyStateFlag.TDOWN.value;break;case "keyup":b=this.h.KeyStateFlag.TUP.value}this.g.dispatchKeyEvent(c,b)}}else if(a instanceof InputEvent)a.data&&!a.isComposing&&go(this,
a.data);else if(a instanceof CompositionEvent)"compositionend"===a.type&&go(this,a.data);else if(a instanceof ClipboardEvent&&a.clipboardData)switch(a.type){case "copy":if(b=In(this.g.getSelectedText()))a.clipboardData.setData("text/plain",b),a.preventDefault();break;case "cut":if(b=In(this.g.replaceSelectedText("")))a.clipboardData.setData("text/plain",b),a.preventDefault();break;case "paste":go(this,a.clipboardData.getData("text/plain")),a.preventDefault()}}ub(){if(null!=this.canvas&&null!=this.da){for(let a=
0;a<Pn.length;a++)this.canvas.removeEventListener(Pn[a],this.da);this.setKeyboardMode(0);window.removeEventListener("mouseup",this.da)}super.ub()}ia(a){return 0===a.button&&!(ae&&be&&a.ctrlKey)}};Bl.prototype.serialize=Bl.prototype.serialize;Bl.prototype.deserializeTo=Bl.prototype.m;function jo(){const a=document.createElement("canvas");document.body.appendChild(a);try{let b,c;return!!(null==(b=a.getContext("webgl",{desynchronized:!0}))?0:null==(c=b.getContextAttributes())?0:c.desynchronized)}finally{a.remove()}}
function ko(a,b,c){a.v=c;null!=a.ia&&(a.ia.v=c);const d=lo(a);mo(a,b);const e=d.width/c;c=d.height/c;d.style.width=`${e}px`;d.style.height=`${c}px`;if(a.ha)switch(screen.orientation.angle){case 90:d.style.left=`${c}px`;d.style.top="0px";break;case 180:d.style.left=`${e}px`;d.style.top=`${c}px`;break;case 270:d.style.left="0px";d.style.top=`${e}px`;break;default:d.style.left="0px",d.style.top="0px"}if(Vj(b)&&a.g){var f=a.g;V(no(a),g=>void f.setViewport(g))}}
function lo(a){return a.m.querySelector(".ink-engine")}
function oo(a){W(a).onAbort=()=>{po(a)};const b=lo(a);mo(a);var c={alpha:a.jf,antialias:!0};0!==a.ug||!jo()||x("Linux")||x("Windows")&&a.jf||(c.desynchronized=!0,c.preserveDrawingBuffer=!0,c.antialias=!1);a.wh?a.o=b.getContext("webgl",c):(a.o=b.getContext("webgl2",c),a.o||(a.o=b.getContext("webgl",c)));if(a.o){W(a).canvas=b;W(a).preinitializedWebGLContext=a.o;Kn(a.ba,()=>void a.ea());c=a.o.getContextAttributes();a.ha=2===a.ug||!(null==c||!c.desynchronized);a.ha&&a.o instanceof WebGL2RenderingContext&&
Jn(a.ba,a.o);a.o.clearColor(1,1,1,1);a.o.pixelStorei(a.o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);window.inkHostRegistry=window.inkHostRegistry||{};window.inkWasmRegistry=window.inkWasmRegistry||{};a.host=new tn(a,a.ba,a.o,a.shouldPreloadShaders,a.shouldRegisterDocument);window.inkHostRegistry[a.he]=a.host;window.inkWasmRegistry[a.he]=W(a);a.listen(an,e=>{a.onSequencePointReached(e.id)});a.listen(Xm,e=>{a.onPdfSaveComplete(e.g)});a.listen(Zm,e=>{a.onPdfSaveFailed(e.error)});a.listen(gn,e=>{a.ii=e.g;a.ha&&
qo(a)});a.listen(Zl,()=>{let e;null==(e=a.ia)||e.onCameraChanged(En(a.sd()),lo(a).clientHeight)});a.listen(gm,e=>{if(8===e.g){var f;if(null!=(f=a.ia)){var g=e.o,h=e.m;e=e.text;f.m||(f.m=document.createElement("input"),f.m.tabIndex=-1,f.m.style.position="absolute",f.m.style.boxSizing="border-box",f.m.setAttribute("role","none"),f.canvas.parentElement.appendChild(f.m),f.m.addEventListener("blur",f.jb));f.m.value=e;Un(f,g);e=Math.abs(Hn(f.ea,new Um({top:h||8,right:0,bottom:0,left:0})).gg())/f.v;f.m.style.fontSize=
`${e}px`;f.m.focus()}}});c=no(a);var d=Math.floor(Math.random()*Math.pow(2,52));try{a.g=W(a).makeSEngine(c,d,a.he)}finally{c["delete"]()}a.ia=new io(W(a),a.g,lo(a),a.ha,a.ba);Tn(a.ia);a.listen(pn,e=>{a.ia&&a.ia.setKeyboardMode(e.mode)});a.jc(a.pageLeft,a.pageTop,a.ni,a.mi,1,0);a.mb=new On;Nn(a.mb,a.m,a.ri);a.ha&&(a.ge(18,!0),c=()=>{qo(a);ko(a,Vk(a.m),gk())},screen.orientation.addEventListener("change",c),c());b.addEventListener("contextmenu",e=>void e.preventDefault());a.ba.start();R(a,Xl)}else po(a)}
function po(a){a.dispatchEvent(new lm);a.ba.stop();null!=a.ia&&(ok(a.ia),a.ia=null);if(a.mb){{var b=a.mb,c=a.m;const f=b.g.indexOf(c);if(-1!==f){var d=b.listeners[f],e=d.indexOf(a.ri);-1!==e&&(d.splice(e,1),0===d.length&&(b.g.splice(f,1),b.listeners.splice(f,1),b.m.splice(f,1),b.h&&b.h.unobserve(c),0===b.g.length&&(b.o=!1)))}}a.mb=null}a.h=null;a.g=null}
function qo(a){const b=screen.orientation.angle+(a.ii?.01:0);0===Math.abs(b%360)?lo(a).style.transform="":lo(a).style.transform=`rotateZ(${b}deg)`}function W(a){if(!a.h)throw Error("WebAssembly not initialized!");return a.h}function mo(a,b){const c=lo(a);b=b||Vk(c);a.ha&&90===screen.orientation.angle%180?(c.width=Math.floor(b.height*a.v),c.height=Math.floor(b.width*a.v)):(c.width=Math.floor(b.width*a.v),c.height=Math.floor(b.height*a.v))}
function no(a){const b=new (W(a).ViewportProto),c=lo(a);var d=c.width,e=c.height;a.ha&&90===screen.orientation.angle%180&&(d=c.height,e=c.width);b.width=d||Math.floor(800*a.v);b.height=e||Math.floor(600*a.v);b.ppi=96*a.v;b.num_hardware_px_per_virtual_px=a.v;b.screen_rotation=a.ha?screen.orientation.angle%360:0;return b}function Y(a){if(!a.g)throw Error("WebAssembly not initialized!");return a.g}
function ro(a,b,c,d,e){const f=Y(a);V(new (W(a).ClientBitmap)(b,[c.width,c.height],W(a).ImageFormat.RGBA_8888),g=>void V(new (W(a).ImageInfoProto),h=>{h.uri=d;h.asset_type=W(a).AssetType.values[e];U(f.addImageData(h,g))}))}function so(a){return V(Y(a).getCameraPosition(),b=>{if(!b.ok)throw Error(b.status.ToString);return V(b.value,c=>{const d=new lj;c.copyToJs(d,a.aa);return d})})}
function to(a){function b(){const n=e.createFramebuffer(),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,k,m,0,e.RGBA,e.UNSIGNED_BYTE,null);e.bindFramebuffer(e.FRAMEBUFFER,n);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);return n}function c(n){const r=n.createFramebuffer(),w=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,
w);n.renderbufferStorageMultisample(n.RENDERBUFFER,Math.min(n.getParameter(n.MAX_SAMPLES),4),n.RGBA8,k,m);n.bindFramebuffer(n.FRAMEBUFFER,r);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,w);return r}function d(n){return"undefined"!==typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext}if(!a.o)throw Error("WebGL not initialized");if(!a.host)throw Error("Ink is not initialized");const e=a.o;var f=lo(a);const [g,h]=[f.width,f.height],k=g,m=h;try{let n=d(e)?
c(e):b();a.host.m=n;a.ea();d(e)&&(f=n,n=b(),e.bindFramebuffer(e.READ_FRAMEBUFFER,f),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n),e.blitFramebuffer(0,0,k,m,0,0,k,m,e.COLOR_BUFFER_BIT,e.NEAREST));e.bindFramebuffer(e.FRAMEBUFFER,n);const r=new Uint8Array(k*m*4);e.readPixels(0,0,k,m,e.RGBA,e.UNSIGNED_BYTE,r);return new Uint8ClampedArray(r.buffer)}finally{a.host.m=null,e.bindFramebuffer(e.FRAMEBUFFER,null)}}
var uo=class extends Yk{constructor(a){super();this.mb=this.ia=this.g=this.h=null;this.pageLeft=0;this.pageTop=600;this.ni=800;this.mi=0;this.fc={};this.ki=0;this.pi=[];this.ha=this.ii=!1;this.o=this.host=null;this.he=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);this.jf=!!a.jf;this.wh=!!a.wh;let b;this.shouldPreloadShaders=null!=(b=a.shouldPreloadShaders)?b:!0;let c;this.shouldRegisterDocument=null!=(c=a.shouldRegisterDocument)?c:!0;this.aa=new Bl;this.v=gk();this.ba=new Mn;this.ba.ff(this);
this.ri=(f,g,h)=>{ko(this,g,h)};let d;this.ug=null!=(d=a.ug)?d:0;let e;this.h=null!=(e=a.pp)?e:null}nd(){this.m=lk(Vl)}fb(){lo(this).addEventListener("webglcontextlost",()=>{po(this)});if(this.h)Cl(()=>{oo(this)});else{var a=()=>{const b=c=>"string"===typeof STATIC_JS_PREFIX?STATIC_JS_PREFIX+(STATIC_JS_PREFIX.match(/\/$/)?"":"/")+c:c;try{if("undefined"===typeof window.inkLoadWasmModule)throw Error("window.inkLoadWasmModule is undefined, when it should not be.");window.inkLoadWasmModule({tp:b}).then(c=>
{this.h=c;oo(this)})}catch(c){po(this)}};"undefined"!==typeof window.inkLoadWasmModule?a():window.inkLoadWasmPostRun=a}}ab(){this.ba.ab()}qd(a,b,c,d){const e=Y(this);ro(this,a,b,c,1);V(new (W(this).BorderProto),f=>{f.initFromJs(d,this.aa);e.setPageBorder(f)})}ic(a,b,c,d){const e=Y(this);ro(this,a,b,c,5);V(new (W(this).BackgroundImageInfoProto),f=>{f.initFromJs(d,this.aa);U(e.setBackgroundImage(f))})}rd(){return V(Y(this).getPageProperties(),a=>new Ub(a.background_color.argb))}og(a){const b=Y(this);
V(new (W(this).ColorProto),c=>{c.argb=(new Uint32Array([a.a<<24|a.r<<16|a.zb<<8|a.b]))[0];c.premultiplied=!1;b.setOutOfBoundsColor(c);this.ab()})}ea(){W(this)._draw(Y(this).$$.ptr)}ue(a){U(Y(this).setCameraPositionRect(Tm(a)));this.ea()}setColor(a,b){U(Y(this).setColor(a,{r:b.r/255,zb:b.zb/255,b:b.b/255,a:b.a/255}))}lg(a){const b=Y(this);V(new (W(this).MovementConstraintsProto),c=>{c.initFromJs(a,this.aa);U(b.setCameraMovementConstraints(c))})}dc(a){const b=Y(this);V(new (W(this).ToolParamsProto),
c=>{c.initFromJs(a,this.aa);U(b.setToolParams(c))})}jd(a){U(Y(this).removeElement(a))}ge(a,b){Y(this).assignFlag(W(this).Flag.values[a],!!b)}jc(a,b,c,d,e,f){this.pageLeft=a;this.pageTop=b;this.ni=c;this.mi=d;const g=Y(this);V(new (W(this).RectProto),h=>{h.xlow=a;h.ylow=d;h.xhigh=c;h.yhigh=b;const k=0===e?W(this).UndoPolicy.UNDOABLE:W(this).UndoPolicy.NOT_UNDOABLE,m=0===f?W(this).CameraUpdatePolicy.AUTO_UPDATE:W(this).CameraUpdatePolicy.DO_NOT_CHANGE;U(g.setPageBounds(h,k,m))})}ma(){U(Y(this).commitCrop())}ie(a){const b=
Y(this);V(new (W(this).AnimationExportProto),c=>{c.initFromJs(a,this.aa);b.startAnimationExport(c)})}pg(){U(Y(this).undo())}je(){U(Y(this).redo())}flush(a){const b=Y(this);this.fc[this.ki]=a;V(new (W(this).SequencePointProto),c=>{c.id=this.ki++;b.addSequencePoint(c)})}onSequencePointReached(a){if(this.fc.hasOwnProperty(a)){var b=this.fc[a];delete this.fc[a];b()}}ad(a){const b=Y(this);return V(new (W(this).AddTextProto),c=>{c.initFromJs(a,this.aa);return In(b.addText(c))})}qg(a){const b=Y(this);V(new (W(this).UpdateTextProto),
c=>{c.initFromJs(a,this.aa);U(b.updateText(c))})}od(a){U(Y(this).selectElement(a))}md(a){U(Y(this).selectAllElements(a))}onPdfSaveComplete(a){let b;null==(b=this.pi.shift())||b.resolve(a)}onPdfSaveFailed(a){let b;null==(b=this.pi.shift())||b.reject(a)}addElement(a,b=""){U(Y(this).addElement(a,b))}sd(){return V(Y(this).getCameraTransform(),a=>{const b=new Rb;a.copyToJs(b,this.aa);return b})}mg(a){U(Y(this).setMouseWheelBehavior(W(this).MouseWheelBehavior.values[a]))}};function vo(a,b){a=b&&b.sh;return Ll('<div class="ink-canvas-parent"><style'+(a?' nonce="'+Ml(Ul(a))+'"':"")+'>\n        .ink-canvas-parent {\n          height: 100%;\n          position: relative;\n          width: 100%;\n        }\n        .ink-layer-container {\n          height: 100%;\n          position: relative;\n          width: 100%;\n        }\n        .ink-engine {\n          height: 100%;\n          left: 0;\n          position: absolute;\n          top: 0;\n          width: 100%;\n          touch-action: none;\n        }\n        .above-ink-canvas {\n          display: none;\n        }\n      </style><div class="above-ink-canvas"></div><div class="ink-layer-container"></div><div class="below-ink-canvas"></div></div>')}
;function wo(a,b){a=b&&b.sh;return Ll('<table id="ink-text-editor-frame"><style'+(a?' nonce="'+Ml(Ul(a))+'"':"")+'>\n      #ink-text-editor-frame {\n        border-collapse: collapse;\n        position: absolute;\n      }\n      #ink-text-editor-box {\n        background: none;\n        border: none;\n        display: block;\n        outline: none;\n        overflow: hidden;\n        padding: 2px;\n        resize: none;\n      }\n      .ink-text-editor-drag {\n        touch-action: none;\n      }\n      .ink-text-editor-bar-horz {\n        background: linear-gradient(to bottom, rgba(0,0,0,0) 4px,\n                                    var(--cros-color-prominent-light, #1A73E8) 4px,\n                                    var(--cros-color-prominent-light, #1A73E8) 6px,\n                                    rgba(0,0,0,0) 6px);\n        cursor: grab;\n        padding: 1px;\n      }\n      .ink-text-editor-bar-vert {\n        background: linear-gradient(to right, rgba(0,0,0,0) 4px,\n                                    var(--cros-color-prominent-light, #1A73E8) 4px,\n                                    var(--cros-color-prominent-light, #1A73E8) 6px,\n                                    rgba(0,0,0,0) 6px);\n        cursor: grab;\n        padding: 1px;\n      }\n      .ink-text-editor-bar-horz:active,\n      .ink-text-editor-bar-vert:active {\n        cursor: grabbing;\n      }\n      .ink-text-editor-handle {\n        background: radial-gradient(closest-side, var(--cros-color-prominent-light, #1A73E8),\n                                    var(--cros-color-prominent-light, #1A73E8) calc(80% - 0.2px),\n                                    #fff calc(80% + 0.2px),\n                                    #fff calc(100% - 0.2px),\n                                    rgba(0,0,0,0) calc(100% + 0.2px),\n                                    rgba(0,0,0,0));\n        min-width: 8px;\n        width: 8px;\n        min-height: 8px;\n        height: 8px;\n        padding: 1px;\n      }\n      .ink-text-editor-handle[data-handle-pos=\'N\'],\n      .ink-text-editor-handle[data-handle-pos=\'S\'] {\n        cursor: ns-resize;\n      }\n      .ink-text-editor-handle[data-handle-pos=\'E\'],\n      .ink-text-editor-handle[data-handle-pos=\'W\'] {\n        cursor: ew-resize;\n      }\n      .ink-text-editor-handle[data-handle-pos=\'NE\'],\n      .ink-text-editor-handle[data-handle-pos=\'SW\'] {\n        cursor: nesw-resize;\n      }\n      .ink-text-editor-handle[data-handle-pos=\'NW\'],\n      .ink-text-editor-handle[data-handle-pos=\'SE\'] {\n        cursor: nwse-resize;\n      }\n    </style><tr><td class="ink-text-editor-drag ink-text-editor-handle" data-handle-pos="NW"></td><td class="ink-text-editor-drag ink-text-editor-bar-horz" data-handle-pos="B"></td><td class="ink-text-editor-drag ink-text-editor-handle" data-handle-pos="N"></td><td class="ink-text-editor-drag ink-text-editor-bar-horz" data-handle-pos="B"></td><td class="ink-text-editor-drag ink-text-editor-handle" data-handle-pos="NE"></td></tr><tr><td class="ink-text-editor-drag ink-text-editor-bar-vert" data-handle-pos="B"></td><td class="ink-text-editor-center" rowspan="3" colspan="3"><textarea id="ink-text-editor-box" rows="1"></textarea></td><td class="ink-text-editor-drag ink-text-editor-bar-vert" data-handle-pos="B"></td></tr><tr><td class="ink-text-editor-drag ink-text-editor-handle" data-handle-pos="W"></td><td class="ink-text-editor-drag ink-text-editor-handle" data-handle-pos="E"></td></tr><tr><td class="ink-text-editor-drag ink-text-editor-bar-vert" data-handle-pos="B"></td><td class="ink-text-editor-drag ink-text-editor-bar-vert" data-handle-pos="B"></td></tr><tr><td class="ink-text-editor-drag ink-text-editor-handle" data-handle-pos="SW"></td><td class="ink-text-editor-drag ink-text-editor-bar-horz" data-handle-pos="B"></td><td class="ink-text-editor-drag ink-text-editor-handle" data-handle-pos="S"></td><td class="ink-text-editor-drag ink-text-editor-bar-horz" data-handle-pos="B"></td><td class="ink-text-editor-drag ink-text-editor-handle" data-handle-pos="SE"></td></tr></table>')}
;function Z(a){return a.m.querySelector("#ink-text-editor-box")}function xo(a){var b=a.m;b.style.left=`${a.o-13}px`;b.style.top=`${a.v-13}px`;b=Z(a);b.style.width=`${a.g}px`;b.style.height="auto";a.aa=b.scrollHeight;b.style.height=`${Math.max(a.aa,a.ba)}px`}function yo(a){if(a.h){const b=Zk(a);b.unlisten(a.h,"pointermove",a.ma);b.unlisten(a.h,"pointerup",a.ab);b.unlisten(a.h,"pointercancel",a.ia);a.h=null}}
var zo=class extends Yk{constructor(){super();this.v=this.o=this.aa=0;this.h=null;this.ha=this.ea=0;this.ma=a=>{if(this.h){var b=this.h.dataset.handlePos,c=this.m,d=c.getBoundingClientRect();c=c.parentElement.getBoundingClientRect();"B"===b&&(this.o+=a.clientX-this.ea,this.v+=a.clientY-this.ha,this.ea=a.clientX,this.ha=a.clientY);if("N"===b||"NW"===b||"NE"===b){var e=Math.max(this.aa,24),f=Math.max(e,this.ba);e=Math.min(Math.max(a.clientY,c.top+5)-(d.top+5),f-e);this.ba=f-e;this.v+=e}else if("S"===
b||"SW"===b||"SE"===b)f=Math.max(this.aa,24),e=Math.max(f,this.ba),this.ba=e+Math.max(Math.min(a.clientY,c.bottom-5)-(d.bottom-5),f-e);if("W"===b||"NW"===b||"SW"===b)a=Math.min(Math.max(a.clientX,c.left+5)-(d.left+5),this.g-24),this.g-=a,this.o+=a;else if("E"===b||"NE"===b||"SE"===b)this.g+=Math.max(Math.min(a.clientX,c.right-5)-(d.right-5),24-this.g);xo(this);R(this,new mn)}};this.ab=()=>{yo(this)};this.ia=()=>{yo(this)};this.ba=this.g=24}nd(){this.m=lk(wo)}fb(){super.fb();var a=this.m;for(const b of a.querySelectorAll(".ink-text-editor-drag"))Zk(this).listen(b,
"pointerdown",c=>{yo(this);this.h=c.target;this.ea=c.clientX;this.ha=c.clientY;const d=Zk(this);d.listen(this.h,"pointermove",this.ma);d.listen(this.h,"pointerup",this.ab);d.listen(this.h,"pointercancel",this.ia);this.h.setPointerCapture(c.pointerId);c.preventDefault()});a=Z(this);Zk(this).listen(a,"input",()=>{xo(this)});xo(this);a.focus()}pd(){yo(this);super.pd()}wb(a){a=Jm(Im(a));const b=Z(this);b.style.fontFamily=a.family;b.style.fontStyle=a.style;b.style.fontWeight=a.weight;xo(this)}ud(){return Number(window.getComputedStyle(Z(this)).fontSize.replace("px",
""))/this.g}};function Ao(a){a.h=null;a.g&&(a.g.unlisten(ln,a.mb),ok(a.g),a.g=null)}function Bo(a,b){var c=zn(a.ba()),d=Gn(c,a.aa);const e=Gn(c,a.ha);var f=Gn(c,a.ea),g=Gn(c,a.ab);c=Gn(c,a.ia);const h=window.devicePixelRatio;d=Rj(d,e)/h;f=Rj(f,g)/h;g=c.x/h-d/2;c=a.m.clientHeight-c.y/h-f/2;b.g=Math.max(d,24);b.ba=Math.max(f,24);xo(b);b.o=g;b.v=c;xo(b);a=b.g*a.ma;Z(b).style.fontSize=`${a}px`;xo(b)}
function Co(a,b,c){var d=b.zh();var e=Math.sin(d);var f=Math.cos(d),g=.5*G(b,3);d=new T(G(b,1).xe(),G(b,1).ye());const h=new T(d.x-g*e,d.y+g*f);g=new T(d.x+g*e,d.y-g*f);const k=.5*G(b,2);b=new T(h.x-k*f,h.y-k*e);e=new T(h.x+k*f,h.y+k*e);f=a.ba();a.aa=Gn(f,b);a.ha=Gn(f,e);a.ea=Gn(f,h);a.ab=Gn(f,g);a.ia=Gn(f,d);a.ma=c}
function Do(a,b){var c=b.m;var d=new T(c.offsetLeft+13+b.g/2,c.offsetTop+13+Math.max(b.aa,b.ba)/2);const e=window.devicePixelRatio;c=b.g*e;b=Math.max(b.aa,b.ba)*e;var f=d.x*e;d=(a.m.clientHeight-d.y)*e;a=new I;F(a,1,f);F(a,2,d);f=new Pb;F(f,1,a);F(f,2,c);F(f,3,b);return f}
var Eo=class extends Yk{constructor(a){super();this.ba=a;this.h=null;this.o="";this.g=null;this.aa=new T(0,0);this.ha=new T(0,0);this.ea=new T(0,0);this.ab=new T(0,0);this.ia=new T(0,0);this.ma=1;this.v=()=>null;this.mb=()=>{if(null!==this.g){var b=this.g;Co(this,Do(this,b),b.ud())}}}onCameraChanged(){null!==this.g&&Bo(this,this.g)}};var Fo=new Map([["none",""],["dots","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAATlBMVEUAAAADAwMSEhIUFBQdHR05OTk/Pz9AQEBUVFR5eXl6enqGhoaVlZWdnZ2lpaWurq67u7vHx8fPz8/U1NTm5ubr6+v39/f9/f3+/v7////wLfL5AAAAGXRSTlMAAxIUHTk/QFR5eoaVnaWuu8fP1Obr9/3+KjMbwAAAAAFiS0dEAIgFHUgAAALzSURBVBgZ7cFJUiNJFAXAr3kuCY357n/RXmCGgcjIfQfuXplSdCBTKhOeRQeemVCZ8Cg68MiEyoRb0YFbJlQmnIsOnDOhMuFQdOCQCZUJ26ID20yotA3zogPzIW2VtmvRhWvaKm37ogv7tFWahmXRheWQpkrTpejEJU2Vpk3RiU2aKi0fRTc+0lJpWRXdWKWl0nAqOnJKQ2XcfVF0ZHHPuMqo17royvqVUZVRu6Izu4yqjDkW3TlmTGXEv1nRndm/jKj8dpwVHZod81vl3WtXdGr3yrvKm/u66Nb6njeVn06LomOLU36qfPexKjq3+sh3lS/DZVP8AZvLkC+VT8N1vyz+iOX+OuRT5fm4nQ/befGnzLeH8+3xTAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMD/V56P2/mwnRd/ynx7ON8ez1Q+Ddf9svgjlvvrkE+VL8NlU/wBm8uQL5XvPlZF51Yf+a7y02lRdGxxyk+VN/d10a31PW8q7167olO7V95VfjvOig7NjvmtMuLfrOjO7F9GVMYci+4cM6Yyald0ZpdRlVGvddGV9SujKuPui6Iji3vGVRpORUdOaai0rIpurNJSafkouvGRlkrTpujEJk2VpkvRiUuaKk3DsujCckhTpW1fdGGftkrbtejCNW2VtmFedGA+pK0yYVt0YJsJlQmHogOHTKhMOBcdOGdCZcKt6MAtEyoTHkUHHplQmfAsOvDMhMqUogOZ8h+xbAJonr/uGwAAAABJRU5ErkJggg=="],
["rules","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAQMAAACQp+OdAAAABlBMVEX///////9VfPVsAAAAAnRSTlP/AOW3MEoAAAAUSURBVHgBY4CD/1BAmDHKGGXAAAD0xe4gqLTwJgAAAABJRU5ErkJggg=="],["square","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAQMAAACQp+OdAAAABlBMVEX///////9VfPVsAAAAAnRSTlP/AOW3MEoAAAAWSURBVHgBY4CD+v9g8I8wY5QxyoABAGFRzuKVnN1rAAAAAElFTkSuQmCC"]]);function Go(a,b={}){var c;const d=null!=(c=b.ak)?c:!0;if("string"!==typeof a&&!(a instanceof Blob)){if(d&&(c=Ho())&&Uj(a.size)>c)return Promise.reject(Error(`Image dimensions ${a.size} larger than GL_MAX_TEXTURE_SIZE: ${c}`));c=4*a.size.width*a.size.height;return a.data.length!==c?Promise.reject(Error(`Image RGBA data length is ${a.data.length}, but expected ${c} for a ${a.size.width}x${a.size.height} image`)):Promise.resolve(a)}if(b.size){if(b.size.width!==Math.floor(b.size.width)||b.size.height!==
Math.floor(b.size.height))return Promise.reject(Error(`Canvas size ${b.size} is fractional`));if(d&&(c=new Sj(Ho(),Ho()),c.width&&!Wj(b.size,c)))return Promise.reject(Error(`Canvas size ${b.size} is larger than GL_MAX_TEXTURE_SIZE: ${c.width}`))}let e=void 0,f;if("string"===typeof a)f=document.createElement("img"),e=a;else if(a instanceof Blob)f=Ab(a);else throw Error("Unknown image format, couldn't decode.");f.style.position="absolute";f.style.visibility="hidden";f.style.top="-1000px";f.style.left=
"-1000px";f.crossOrigin="Anonymous";const g=document.createElement("canvas");return new Promise((h,k)=>{Ek(f,"load",()=>{var m;if(null==(m=b.size)&&(m=new Sj(f.naturalWidth||f.width,f.naturalHeight||f.height),d)){var n=new Sj(Ho(),Ho());n.width&&!Wj(m,n)&&(n=m.aspectRatio()>n.aspectRatio()?n.width/m.width:n.height/m.height,m=m.scale(n).floor())}g.width=m.width;g.height=m.height;n=g.getContext("2d");n.drawImage(f,0,0,m.width,m.height);n=n.getImageData(0,0,m.width,m.height);document.body.removeChild(f);
h({data:n.data,size:m})});Ek(f,"error",()=>{document.body.removeChild(f);k(Error(`getImageBytes failed on ${e?e:"blob"}`))});e&&f.setAttribute("src",e);document.body.appendChild(f)})}let Io=null;function Ho(){if(null===Io){const a=document.createElement("canvas").getContext("webgl");Io=a?a.getParameter(a.MAX_TEXTURE_SIZE):0}return Io||0};function Jo(a,b){const {wj:c=!0,cp:d=null,hp:e=!1,sp:f,lk:g,up:h=0}=a;a=new qj;a.ti(b);F(a,1,g);F(a,2,c);F(a,8,e);F(a,13,h);void 0!==f&&F(a,4,f);d&&(b=(d instanceof Um?d:new Um(d)).g(),F(a,3,b));return a}function Ko(a){const b=a.size,c=Lo(a.data,b,hb()||x("Edge"));a=document.createElement("canvas");const d=a.getContext("2d");a.width=b.width;a.height=b.height;d.putImageData(c,0,0);return a}
function Mo(a,b={}){const c=Ko(a),d=b.encoding||"image/png";return new Promise((e,f)=>{c.toBlob(g=>{g?e(g):f()},d,b.quality)})}
function Lo(a,b,c){const d=new Uint8ClampedArray(a.byteLength);for(let e=0;e<b.height;e++){const f=new Uint8ClampedArray(a.buffer,(c?b.height-e-1:e)*b.width*4,4*b.width),g=new Uint8ClampedArray(d.buffer,e*b.width*4,4*b.width);for(let h=0;h<4*b.width;h+=4){const k=f[h+3]/255;g[h]=f[h]/k;g[h+1]=f[h+1]/k;g[h+2]=f[h+2]/k;g[h+3]=f[h+3]}}return new ImageData(d,b.width,b.height)}const No=RegExp("^host:([A-Z_]+):(.*)$");
function Oo(a){switch(a){case "DEFAULT":return 0;case "BORDER":return 1;case "STICKER":return 2;case "GRID":return 3;case "BRUSH_TEXTURE":return 4;case "BACKGROUND":return 5;case "PHOTO":return 6;default:return null}};function Po(a){return 127<.5*(Math.max(a.r,a.zb,a.b)+Math.min(a.r,a.zb,a.b))?$b:ac}
var Qo=class extends Yk{constructor(){super();this.h="";this.g="auto";this.o=!1;this.v=ne?this.ea:this.ba}fb(){super.fb();const a=this.m;a.addEventListener("pointermove",b=>{"pen"===b.pointerType&&""!==a.style.cursor?(this.o=!0,a.style.cursor=""):"pen"!==b.pointerType&&""===a.style.cursor&&(this.o=!1,a.style.cursor=this.h,a.style.cursor=this.g)})}aa(a,b,c){this.h="";this.g="auto";switch(a){case 1:a=window.devicePixelRatio||1;c=Math.round(Math.min(Math.max((c||0)/a,3),16));const d=this.v(c,1,b);this.g=
`url('${d}') ${c} ${c}, auto`;1<a&&(this.h=this.g,b=this.v(2*c,2,b),this.g=`-webkit-image-set(url('${d}') 1x, url('${b}') 2x)`+` ${c} ${c}, auto`);break;case 2:this.g="crosshair";break;case 3:this.g="grab";break;case 4:this.g="grabbing";break;case 5:this.g="move";break;case 11:this.g="pointer";break;case 6:this.g="ew-resize";break;case 7:this.g="ns-resize";break;case 8:this.g="nesw-resize";break;case 9:this.g="nwse-resize";break;case 10:this.g="text";break;default:this.g="default"}this.o||(b=this.m,
b.style.cursor=this.h,b.style.cursor=this.g)}ba(a,b,c){const d=document.createElement("canvas"),e=d.getContext("2d"),f=Math.ceil(2*a);d.width=f;d.height=f;e.fillStyle=Xb(Po(c));e.beginPath();e.arc(a,a,a,0,2*Math.PI);e.closePath();e.fill();e.fillStyle=Xb(c);e.beginPath();e.arc(a,a,a-b,0,2*Math.PI);e.closePath();e.fill();return d.toDataURL()}ea(a,b,c){b=Po(c);a=Math.round(a);return`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="${2*a}" height="${2*a}" viewBox="0 0 ${2*a} ${2*
a}"><circle cx="${a}" cy="${a}" r="${a-1}" stroke="${Xb(b)}" stroke-width="1" fill="${Xb(c)}"/></svg>`}};function Ro(a){const b="string"===typeof a.parentElement?document.querySelector(a.parentElement):a.parentElement;if(!b)throw Error(`Couldn't find element: ${a.parentElement}`);return new Promise((c,d)=>{const e=g=>{d(g)},f=new So(a,g=>{g.unlisten(jm,e);if(a.ag)for(const h of a.ag)To(h);c(g)});f.listen(jm,e);f.render(b)})}async function To(a){return{image:await Go("brushes/"+a),kc:4}}function Uo(a){a=lo(a.g);return new Sj(a.clientWidth,a.clientHeight)}
function Vo(a){var b=to(a.g);const c=lo(a.g),d=c.width,e=c.height,f=document.createElement("canvas");f.className="ink-engine-overlay";f.width=d;f.height=e;var g=f.getContext("2d");b=Lo(b,new Sj(d,e),!0);g.putImageData(b,0,0);g=(g=c.style.transform.match(/rotateZ\(([0-9]+)\.?[0-9]*deg\)/))?Number(g[1]):0;b=90===g%180;let h=f;if(0<g){h=document.createElement("canvas");h.width=b?e:d;h.height=b?d:e;const m=h.getContext("2d");m.translate(h.width/2,h.height/2);m.rotate(g*Math.PI/180);m.translate(-d/2,-e/
2);m.drawImage(f,0,0)}h.style.position="relative";h.style.left="0px";h.style.top="0px";h.style.width=b?c.style.height:c.style.width;h.style.height=b?c.style.width:c.style.height;h.style.zIndex="999";c.insertAdjacentElement("afterend",h);const k=document.createElement("div");k.style.position="absolute";k.style.left="0";k.style.top="0";k.style.width="100%";k.style.height="100%";k.style.backgroundColor=Yb(a.rd());h.insertAdjacentElement("afterend",k);return()=>{h.remove();k.remove();a.g.ab()}}
function Wo(a){var b=so(a.g);if(0!==b.yh())throw Error("Camera position is not an axis-aligned box.");a=E(b,1).ig()||0;const c=E(b,1).jg()||0,d=E(b,2)||0;b=E(b,3)||0;return new Um({top:c+.5*b,right:a+.5*d,bottom:c-.5*b,left:a-.5*d})}function Xo(a){var b={lk:4096,wj:!0};return new Promise((c,d)=>{a.ie({ck:b,frameRate:1,mk:1},e=>{Mo(e,b.ip).then(c)}).catch(d)})}
async function Yo(a,b){{const d=b.match(No);if(d){var c=Oo(d[1]);c=null===c?null:{kc:c,oh:d[2]}}else c=null}return c?Zo(a,c.kc,c.oh):b.startsWith("sketchology://background_")?Zo(a,5,"sketchology-legacy-background"):"sketchology://border0"===b?(null===a.borderImage&&(a.borderImage=Go("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AgPEBYrHoEFUgAAAw1JREFUeNrt3b9uE0EQBvBvZvd8LURUkVwEkEDAm9AgQYOQKHgZWloqUMoUaVJSpAivQBEhJGhSWiAlKXz7JwXey9nE9vrOgHT3fZKVFM5F/mUyN5tIY8F2EtG/yNYucnZ21keg/57d3V1RMvzdEJjABGYITGACM+1iNz5RxGGPzCIbnT+i3RA1AjgFcADgR4zRDwTVABjHGF8AeJwOaDnYNgd29jGGED6JyMvxeDwZYvVOJpN3FxcXH0TkWfMovQpac6p39jgdMi4A7Ozs/HLOvQkhfEkurW9yDVh47+GcOxgybsre3t5P59y+937OqHUFhxAQQkBVVd85E/yOc+5bcuk0pqWLeO/hvQ+krV289x45yLqqPSRk5xym0yllZ5lOp6iqCiGEtW3C5lZwzq/DUOK9h4jUwK3GtGYFz1oEZa97cA2crJaNapozoiVk5rqCm+2h898ihn487uKiWPMPy2arYG7G7TQHM91CYAITmCEwgQnMEJjABGYITGCGwAQmMENgAhOYITCBCUwCAhOYITCBCcwQmMAEZghMYIbABCYwQ2ACE5ghMIEJzBCYwAyBCUxghsAEJjBDYAIzBP63wFkLcUX4lhAp3nu79Qr23t8lbZ37WwNuLFx7fnJycnvossfHx7dijK+WGLWrYBFBjPHh5eXl/tHR0Z0h41ZV9T7G+EREum/AThcREaiqqOpTAJ8PDw8/VlX11TnnhgArIrYsy3vn5+evy7J8NLNADrJd1xpUFcaY9BBVfSAib2foAPq7GTAZGGNSkcFaC2stjDH161+BLGsrOAEXRYGyLOsNgKqK5hbovgIng/T6R6MRiqKogVtVcPqi5k+tKIo5XOfcYICNMbDWYjQaoSzLP4BXtYqVFayqiDHCWlsjJnDnXPYG0j5UcCqy9LDWtq/gZcipHxVFMbfitec3uMX70FwP7nyTW2zyaSt236v3pipO7UJVs9pDVgU3p4n0jZqwQwBeHFlzYLPn4MXPb4Lt+5i2CJ1zgsuu4GUX2vBNk3qJnvX8jOdwv3h7O1wBYIqaD5lCtYoAAAAASUVORK5CYII=")),
{image:await a.borderImage,kc:1}):b.startsWith("inkbrush:")?(a.ag.add(b),To(b.substring(9))):$o(b)}async function Zo(a,b,c){if(!a.ze)throw Error("no imageProvider in config");const d=6!==b;a=await a.ze(c);return{image:await Go(a,{ak:d}),kc:b}}
async function $o(a){var b=a.includes("square")?"square":a.includes("dot")?"dots":a.includes("rule")?"rules":"none";if("none"!==b){const c=Fo.get(b);if(!c)throw Error(`Unknown grid type ${b} for uri ${a}`);return{image:await Go(c),kc:3}}throw Error("the NONE grid doesn't have a texture");}
var So=class extends Yk{constructor(a,b){super();this.ea=0;this.borderImage=null;this.ha=0;this.ba=new Qo;cl(this,this.ba);this.g=new uo(a);cl(this,this.g);this.g.listen(Vm,c=>{this.onImageExported(c.id,c.size,c.m,c.g,c.o,c.errorMessage)});this.g.listen(cn,c=>{this.requestImage(c.uri)});this.g.listen(en,c=>{this.aa(c.m,c.color,c.g)});Zk(this).rg(this.g,Xl,async()=>{let c;if(null!=(c=a.bq)?c:1)await this.qd("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AgPEBYrHoEFUgAAAw1JREFUeNrt3b9uE0EQBvBvZvd8LURUkVwEkEDAm9AgQYOQKHgZWloqUMoUaVJSpAivQBEhJGhSWiAlKXz7JwXey9nE9vrOgHT3fZKVFM5F/mUyN5tIY8F2EtG/yNYucnZ21keg/57d3V1RMvzdEJjABGYITGACM+1iNz5RxGGPzCIbnT+i3RA1AjgFcADgR4zRDwTVABjHGF8AeJwOaDnYNgd29jGGED6JyMvxeDwZYvVOJpN3FxcXH0TkWfMovQpac6p39jgdMi4A7Ozs/HLOvQkhfEkurW9yDVh47+GcOxgybsre3t5P59y+937OqHUFhxAQQkBVVd85E/yOc+5bcuk0pqWLeO/hvQ+krV289x45yLqqPSRk5xym0yllZ5lOp6iqCiGEtW3C5lZwzq/DUOK9h4jUwK3GtGYFz1oEZa97cA2crJaNapozoiVk5rqCm+2h898ihn487uKiWPMPy2arYG7G7TQHM91CYAITmCEwgQnMEJjABGYITGCGwAQmMENgAhOYITCBCUwCAhOYITCBCcwQmMAEZghMYIbABCYwQ2ACE5ghMIEJzBCYwAyBCUxghsAEJjBDYAIzBP63wFkLcUX4lhAp3nu79Qr23t8lbZ37WwNuLFx7fnJycnvossfHx7dijK+WGLWrYBFBjPHh5eXl/tHR0Z0h41ZV9T7G+EREum/AThcREaiqqOpTAJ8PDw8/VlX11TnnhgArIrYsy3vn5+evy7J8NLNADrJd1xpUFcaY9BBVfSAib2foAPq7GTAZGGNSkcFaC2stjDH161+BLGsrOAEXRYGyLOsNgKqK5hbovgIng/T6R6MRiqKogVtVcPqi5k+tKIo5XOfcYICNMbDWYjQaoSzLP4BXtYqVFayqiDHCWlsjJnDnXPYG0j5UcCqy9LDWtq/gZcipHxVFMbfitec3uMX70FwP7nyTW2zyaSt236v3pipO7UJVs9pDVgU3p4n0jZqwQwBeHFlzYLPn4MXPb4Lt+5i2CJ1zgsuu4GUX2vBNk3qJnvX8jOdwv3h7O1wBYIqaD5lCtYoAAAAASUVORK5CYII="),
this.og(bc);b(this)});this.h=new Eo(()=>this.sd());cl(this,this.h);this.h.listen(jn,c=>{c=c.g;null!==c&&Y(this.g).beginTextEditing(c)});this.h.listen(nn,c=>{var d=c.g,e=c.o,f=c.text;c=c.m;Oa(f.lb())?d?(e=new Gh,e.ya(d),e.cb(f),e.tg(c),this.g.qg(e)):(d=new Ch,d.cb(f),d.tg(c),d.be(e),this.g.ad(d)):d&&this.jd(d)});Zk(this).listen(this.g,$l,c=>{if(D(c.g,4)){var d=this.h,e=G(c.g,4);Ao(d);c=e.ua();var f=e.vd(),g=e.lb(),h=G(e,4);R(d,new kn(c));e=new zo;e.render(d.m);Co(d,h,G(g,4));Bo(d,e);h=g.lb();Z(e).value=
h;h=Vb(g.ac());Z(e).style.color=Yb(h);e.wb(g.pc());h=g.ve();Z(e).style.textAlign=Gm(h);h=e;g=g.hg();Z(h).style.textShadow=Lm(g,h.g);if(!c){g=e;h=g.m.parentElement;var k=h.clientWidth;13>g.o?g.o=13:g.o+g.g+13>k&&(g.o=k-(g.g+13));xo(g);k=Math.max(g.aa,g.ba);h=h.clientHeight;13>g.v?(g.v=13,xo(g)):g.v+k+13>h&&(g.v=h-(k+13),xo(g));g=e;Co(d,Do(d,g),g.ud())}d.h=c;d.o=f;d.g=e;d.g.listen(ln,d.mb)}else if(D(c.g,5)){d=this.h;c=G(c.g,5);if(!d.g||c.ta()!==d.h)throw Error("TextEditor.onUpdateEditedText: no text edit box for UUID "+
c.ua());c.di()&&(f=Tb(c.eg()),Z(d.g).style.color=Yb(f));D(c,3)&&(f=d.g,e=G(c,3)/window.devicePixelRatio,Z(f).style.fontSize=`${e}px`,xo(f));c.gi()&&(f=c.bi(),c=f.ve(),Z(d.g).style.textAlign=Gm(c),d.g.wb(f.pc()),f=f.hg(),c=null,f&&(c=new yh,c.xb(Zb(Tb(f.eg()))[0]),e=d.g.ud(),g=G(f,2)*e,F(c,2,g),g=G(f,3)*e,F(c,3,g),f=G(f,4)*e,F(c,4,f)),d=d.g,Z(d).style.textShadow=Lm(c,d.g))}else if(D(c.g,6)){if(d=this.h,G(c.g,6).ta()===d.h&&d.g){if(null===d.h)throw Error("No textUuid when finished editing.");g=window.getComputedStyle(Z(d.g));
h=Fm(g.textAlign);f=d.g.g;e=d.g.aa;c=new Ah;c.cb(Z(d.g).value);c.wb(Hm({family:g.fontFamily,style:g.fontStyle,weight:g.fontWeight}));k=d.g.ud();F(c,4,k);c.xb(Zb(Wb(g.color))[0]);c.df(h);(g=g.textShadow.match(/^(.+) ([0-9.]+)px ([0-9.]+)px ([0-9.]+)px$/))?(h=new yh,h.xb(Zb(Wb(g[1]))[0]),F(h,3,Number(g[2])/f),F(h,4,Number(g[3])/f),F(h,2,Number(g[4])/f),g=h):g=null;g&&c.gf(g);f=Rm(new Sm(c,f,e,d.v));F(c,8,f);f=d.h;e=d.o;h=d.g;k=window.devicePixelRatio;g=h.g*k;h=h.aa*k;var m=zn(d.ba());k=Gn(m,d.ea);var n=
Gn(m,d.aa);m=Gn(m,d.ha);n=new T(m.x-n.x,m.y-n.y);n=Math.atan2(n.y,n.x);m=new I;F(m,1,k.x+.5*h*Math.sin(n));F(m,2,k.y-.5*h*Math.cos(n));k=new Pb;F(k,1,m);F(k,2,g);F(k,3,h);k.ui(n);g=k;Ao(d);R(d,new on(f,e,c,g))}}else D(c.g,9)&&Ao(this.h)});Zk(this).listen(this.g,Zl,()=>{this.h.onCameraChanged()});this.ze=a.ze;this.v=new Map;this.ag=new Set}ge(a,b){this.g.ge(a,b)}async qd(a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AgPEBYrHoEFUgAAAw1JREFUeNrt3b9uE0EQBvBvZvd8LURUkVwEkEDAm9AgQYOQKHgZWloqUMoUaVJSpAivQBEhJGhSWiAlKXz7JwXey9nE9vrOgHT3fZKVFM5F/mUyN5tIY8F2EtG/yNYucnZ21keg/57d3V1RMvzdEJjABGYITGACM+1iNz5RxGGPzCIbnT+i3RA1AjgFcADgR4zRDwTVABjHGF8AeJwOaDnYNgd29jGGED6JyMvxeDwZYvVOJpN3FxcXH0TkWfMovQpac6p39jgdMi4A7Ozs/HLOvQkhfEkurW9yDVh47+GcOxgybsre3t5P59y+937OqHUFhxAQQkBVVd85E/yOc+5bcuk0pqWLeO/hvQ+krV289x45yLqqPSRk5xym0yllZ5lOp6iqCiGEtW3C5lZwzq/DUOK9h4jUwK3GtGYFz1oEZa97cA2crJaNapozoiVk5rqCm+2h898ihn487uKiWPMPy2arYG7G7TQHM91CYAITmCEwgQnMEJjABGYITGCGwAQmMENgAhOYITCBCUwCAhOYITCBCcwQmMAEZghMYIbABCYwQ2ACE5ghMIEJzBCYwAyBCUxghsAEJjBDYAIzBP63wFkLcUX4lhAp3nu79Qr23t8lbZ37WwNuLFx7fnJycnvossfHx7dijK+WGLWrYBFBjPHh5eXl/tHR0Z0h41ZV9T7G+EREum/AThcREaiqqOpTAJ8PDw8/VlX11TnnhgArIrYsy3vn5+evy7J8NLNADrJd1xpUFcaY9BBVfSAib2foAPq7GTAZGGNSkcFaC2stjDH161+BLGsrOAEXRYGyLOsNgKqK5hbovgIng/T6R6MRiqKogVtVcPqi5k+tKIo5XOfcYICNMbDWYjQaoSzLP4BXtYqVFayqiDHCWlsjJnDnXPYG0j5UcCqy9LDWtq/gZcipHxVFMbfitec3uMX70FwP7nyTW2zyaSt236v3pipO7UJVs9pDVgU3p4n0jZqwQwBeHFlzYLPn4MXPb4Lt+5i2CJ1zgsuu4GUX2vBNk3qJnvX8jOdwv3h7O1wBYIqaD5lCtYoAAAAASUVORK5CYII="){const b=
new zi;b.setUri("sketchology://border0");this.borderImage=Go(a);a=await this.borderImage;this.g.qd(a.data,a.size,"sketchology://border0",b)}og(a){this.g.og(a)}mg(a){this.g.mg(a)}pg(){this.g.pg()}je(){this.g.je()}jc(a,b,c,d,e=1,f=0){this.g.jc(a,b,c,d,e,f)}rd(){return this.g.rd()}async ic(a){var b=await Go(a);this.jc(0,b.size.height,b.size.width,0);a=b.data;b=b.size;const c=`${"sketchology://background_"}${this.ea}`;this.ea++;const d=new xi;d.setUri(c);this.g.ic(a,b,c,d)}ue(a){this.g.ue(a instanceof
Um?a:new Um(a))}sd(){return En(this.g.sd())}lg(a){this.g.lg(a)}o({tool:a,ep:b,color:c,size:d,yp:e,effect:f,aj:g}){const h=new ji;h.o(a);if(null!=b){const k=new ei;F(k,1,b);if(f){b=new ci;F(b,1,`${"host:"}${"BRUSH_TEXTURE"}:${f.oh}`);f.cl&&F(b,4,f.cl);f.el&&F(b,3,f.el);if(f.il){const m=new Kh;F(m,7,f.il);F(m,8,f.cq||4);F(b,2,m)}F(k,3,b)}F(h,5,k)}null!=c&&(c instanceof Ub||(c=Wb(c)),h.xb(Zb(c)[0]));null!=d&&(c=new Kh,F(c,7,d),F(c,8,e||4),F(h,3,c));if(13===a||14===a)a=null!=g?g:new Rh,F(h,7,a);this.dc(h)}dc(a){this.g.dc(a)}od(a){this.g.od(a)}md(a=
-1){this.g.md(a)}ma(){this.g.ma()}addElement(a,b){this.g.addElement(a,b)}jd(a){this.g.jd(a)}clear(){Y(this.g).removeAllElements()}setColor(a,b){this.g.setColor(a,b)}flush(){return new Promise(a=>{this.g.flush(a)})}async ad(a){a=this.g.ad(a);await this.flush();return a}async qg(a){this.g.qg(a);await this.flush()}ie(a,b){const c=this.ha;++this.ha;const d=new nj;pj(d,Jo(a.ck,c));F(d,2,a.frameRate);F(d,3,a.mk);return new Promise((e,f)=>{this.v.set(c,{rk:b,sk:e,qk:f});this.g.flush(()=>{this.g.ie(d)})})}async onImageExported(a,
b,c,d,e,f){const g=this.v.get(a);g&&(f?(this.v.delete(a),g.qk(Error(f))):(g.rk({data:c,size:b},d,e),d+1>=e&&(this.v.delete(a),g.sk())))}aa(a,b,c){this.ba.aa(a,b,c)}requestImage(a){Yo(this,a).then(b=>{2===b.kc&&2048<Uj(b.image.size)?Y(this.g).rejectTextureUri(a):ro(this.g,b.image.data,b.image.size,a,b.kc)},()=>{Y(this.g).rejectTextureUri(a)})}nd(){this.m=lk(vo)}fb(){super.fb();const a=this.m.querySelector(".ink-layer-container");this.g.render(a);this.ba.decorate(a);this.h.decorate(a);Zk(this);window.addEventListener("resize",
()=>{if(this.g.ha&&0!==Vj(Uo(this))){var b=void 0,c=void 0,d=()=>{b&&b();b=void 0};b?(clearTimeout(c),c=setTimeout(d,50)):0<Vj(Uo(this))&&(b=Vo(this),c=setTimeout(d,50))}})}};function ap(a,b){if(a.canvas){var c=Tm(Wo(a.canvas)),d=(c.right-c.left)*(1-b)/2;b=(c.bottom-c.top)*(1-b)/2;c.right-=d;c.left+=d;c.top+=b;c.bottom-=b;a.canvas.ue(c)}}function bp(a){if(a.canvas){var b=new ti;F(b,1,!0);F(b,2,!0);F(b,3,!0);F(b,4,!1);F(b,5,!0);F(b,6,!0);var c=new vi;F(b,7,c);var d;null==(d=a.canvas)||d.lg(b);a.canvas.mg(3);b=new Kh;F(b,7,16);F(b,8,2);a.aa(la({hc:1,ee:"black",fe:b}))}}
async function cp(a){try{const b=await Go("screenshot.png");if(b){let c;await (null==(c=a.canvas)?void 0:c.ic(b))}}catch(b){console.log(b)}}function dp(a){a.h=new na;ma(a.h,b=>{let c;null==(c=a.canvas)||c.ic(b)})}
var ep=class extends Ee{constructor(){super(...arguments);this.h=this.canvas=void 0;this.jd=()=>{ap(this,1/1.2)};this.md=()=>{ap(this,1.2)};this.ia=()=>{let a;null==(a=this.canvas)||a.pg()};this.ie=()=>{let a;null==(a=this.canvas)||a.je()};this.jc=()=>{let a;null==(a=this.canvas)||a.o({tool:8});this.ji.style.display="block"};this.je=()=>{this.g();let a;null==(a=this.canvas)||a.o({tool:2})};this.ma=()=>{let a;null==(a=this.canvas)||a.ma();this.g()};this.g=()=>{const a=new ji;a.o(5);let b;null==(b=
this.canvas)||b.dc(a);this.ji.style.display="none"};this.ic=()=>{let a;null==(a=this.canvas)||a.clear()};this.he=a=>{"Escape"===a.key&&this.g();if(a.ctrlKey||a.metaKey)switch(a.key.toLowerCase()){case "a":let b;null==(b=this.canvas)||b.md();break;case "z":this.ia()}};this.fc=()=>{this.g()}}render(){return xd`
      <!-- Main toolbar with controls. -->
      <editor-toolbar id="toolbar"
          @close-temporary-ui=${this.fc}
          @zoom-in=${this.jd}
          @zoom-out=${this.md}
          @undo=${this.ia}
          @redo=${this.ie}
          @crop=${this.jc}
          @selection=${this.je}
          @select-text-pusher=${this.qd}
          @tool-properties-changed=${this.aa}
          @emoji-added=${this.ge}
      >
      </editor-toolbar>

      <!-- Modal UI while crop tool is active. Will be replaced with a
           dedicated custom element. -->
      <div id="modal-ui-crop" style="display:none">
        <button id="crop-commit" class="control-button" @click=${this.ma}>Commit Crop</button>
        <button id="crop-cancel" class="control-button"
            @click=${this.g}>Cancel Crop</button>
      </div>

      <!-- Canvas, contents rendered by Ink. -->
      <div id="ink-canvas-container">
        <div id="ink-canvas">
        </div>
      </div>

      <!-- Bottom bar with export and temporary debug controls. -->
      <div id="bottom-bar">
        <button id="button-clear" class="control-button" @click=${this.ic}>
          Clear Canvas
        </button>
        <button id="button-copy" class="control-button" @click=${this.cc}>
          Copy Image
        </button>
        <button id="button-export" class="control-button" @click=${this.od}>
          Export Image
        </button>
      </div>
    `}async ba(){var a,b=null==(a=this.shadowRoot)?void 0:a.getElementById("ink-canvas");if(b){await cc();if(this.canvas=await Ro({parentElement:b,jf:!1,ze:c=>Promise.reject(Error(`Asset loading not yet supported; id ${c})}`))}))bp(this),await cp(this);dp(this);document.addEventListener("keydown",this.he)}else console.log("canvasElement was null, can't proceed")}cc(){let a;null==(a=this.canvas)||Xo(a).then(b=>{navigator.clipboard.write([new ClipboardItem({[b.type]:b})])})}od(){let a;null==(a=this.canvas)||
Xo(a).then(b=>{if($a.test(b.type)){var c=void 0!==p.URL&&void 0!==p.URL.createObjectURL?p.URL:void 0!==p.createObjectURL?p:null;if(null==c)throw Error("This browser doesn't seem to support blob URLs");b=c.createObjectURL(b)}else b="about:invalid#zClosurez";b=new Ya(b,Xa);c=document.createElement("a");c.href=sb(b);c.download="chrome_screenshot.png";c.click();URL.revokeObjectURL(Za(b))})}update(a){super.update(a)}qd(){const a=new ji;a.o(14);let b;null==(b=this.canvas)||b.dc(a)}aa(a){if(this.canvas){var b=
new ji;a.detail.hc&&b.o(a.detail.hc);a.detail.fe&&F(b,3,a.detail.fe);if(a.detail.ee){var c=b.xb;var d=a.detail.ee;d instanceof Ub||(d=Wb(d));d=Zb(d)[0];c.call(b,d)}1===a.detail.hc&&(c=new ei,F(c,1,3),F(b,5,c));13===a.detail.hc&&(c=a.detail.aj||new Rh,d=new ai,d.vi(c),F(b,21,d),b.o(14));19===a.detail.hc&&(c=new Ph,F(c,1,a.detail.zk||1),F(c,4,a.detail.ik?2:0),F(b,8,c));this.canvas.dc(b)}}async ge(a){if(this.canvas){var b=new Ah;b.xb(255);b.df(2);F(b,12,.1);F(b,4,.5);b.cb(a.detail.xj);a=new Ch;a.cb(b);
var c=Tm(Wo(this.canvas)),d=c.right-c.left,e=c.top-c.bottom;b=(c.left+c.right)/2;c=(c.top+c.bottom)/2;e=.15*(d<e?d:e);d=new K;e=Math.ceil(e/2);F(d,1,b-e);F(d,2,b+e);F(d,3,c-e);F(d,4,c+e);a.si(d);a=await this.canvas.ad(a);this.canvas&&(b=new ji,b.o(14),this.canvas.dc(b),this.canvas.od(a))}}};ep.g=[Oe,Ne];t([Ve("#modal-ui-crop"),v(HTMLElement)],ep.prototype,"ji",void 0);ep=t([Qe("image-editor-app")],ep);
